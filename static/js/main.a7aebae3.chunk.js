(this["webpackJsonpvisualization-frontend"]=this["webpackJsonpvisualization-frontend"]||[]).push([[1],{13:function(e,t,n){e.exports=n.p+"static/media/all.0974d87f.svg"},149:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(24),a=(n(48),n(2)),o=n(3),s=n(7),l=n(4),c=n(6),u=n(16),d=n(15),h=(n(49),n(13)),p=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.createElement("nav",{id:"navigationBar"},r.createElement("button",{onClick:function(){return window.history.back()}},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},r.createElement("use",{xlinkHref:"".concat(h,"#nav-back")})),r.createElement("span",null,"Back")),r.createElement("small",null,this.props.name),r.createElement("button",{id:"saveButton",onClick:function(){return e.props.onSave()}},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},r.createElement("use",{xlinkHref:"".concat(h,"#save-download")})),r.createElement("span",null,"Save")))}}]),t}(r.Component),g=n(5),v=n.n(g),f=n(8),m=n(9),y=(n(51),n(13)),b=function(e){function t(){var e,n;Object(a.a)(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).slider=r.createRef(),n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.historyLength,i=t.currentTime,a=t.onCurrentTimeChange;return r.createElement("section",{className:"component-slider"},r.createElement("button",{disabled:i<=0,onClick:function(){return a(i-1)}},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},r.createElement("use",{xlinkHref:"".concat(y,"#history-back")}))),r.createElement("section",{className:"wrapper"},r.createElement("input",{ref:this.slider,type:"range",min:0,max:n,value:i,onChange:function(){return a(e.getSliderValue())}})),r.createElement("button",{disabled:i>=n,onClick:function(){return a(i+1)}},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},r.createElement("use",{xlinkHref:"".concat(y,"#history-forward")}))))}},{key:"getSliderValue",value:function(){return this.slider.current?parseInt(this.slider.current.value,10):0}}]),t}(r.Component),S=n(21),w=(n(52),n(42)),k=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).name="SatVisAssertionError",n}return Object(c.a)(t,e),t}(Object(w.a)(Error));function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)throw new k("Assertion failed: "+(t||""))}var E=n(53),N=function(e){function t(){var e,n;Object(a.a)(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).markers=new Set,n.network=null,n.networkNodes=new S.DataSet([]),n.networkEdges=new S.DataSet([]),n.graphContainer=r.createRef(),n.dragStartEvent=null,n.cachedChangeNodesEvent=void 0,n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.generateNetwork(),this.updateNetwork(!1),this.network.selectNodes(this.props.nodeSelection),this.network.fit()}},{key:"componentDidUpdate",value:function(e){if(this.props.dag!==e.dag)this.updateNetwork(!1),this.network.selectNodes(this.props.nodeSelection),this.props.animateDagChanges?this.network.fit({nodes:this.props.nodeSelection.map((function(e){return e.toString()})),animation:!0}):this.network.fit();else{this.props.nodeSelection!==e.nodeSelection&&this.network.selectNodes(this.props.nodeSelection),this.props.currentTime!==e.currentTime&&this.updateNetwork(!0);var t=this.props.changedNodesEvent;if(t!==e.changedNodesEvent&&(x(void 0!==t),t!==this.cachedChangeNodesEvent)){this.cachedChangeNodesEvent=t;var n=new Array,r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;if(this.props.dag.nodes.has(l)){var c={id:l,label:this.props.dag.get(l).toHTMLString(this.props.currentTime)};n.push(c)}}}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}this.networkNodes.update(n)}}}},{key:"render",value:function(){return r.createElement("section",{className:"component-graph",ref:this.graphContainer},r.createElement("canvas",null))}},{key:"generateNetwork",value:function(){var e=this;x(this.graphContainer.current),x(!this.network),this.network=new S.Network(this.graphContainer.current,{nodes:this.networkNodes,edges:this.networkEdges},{physics:!1,interaction:{multiselect:!1}}),this.network.on("click",function(){var t=Object(m.a)(v.a.mark((function t(n){var r,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.nodes.length>0?(x(1===n.nodes.length),r=n.nodes[0],x(void 0!==(i=n.event.srcEvent)&&null!==i),i.metaKey||i.ctrlKey?void 0!==e.props.nodeSelection.find((function(e){return e===r}))?e.props.onNodeSelectionChange(e.props.nodeSelection.filter((function(e){return e!==r}))):e.props.onNodeSelectionChange(e.props.nodeSelection.concat(n.nodes)):e.props.onNodeSelectionChange(n.nodes)):e.props.onNodeSelectionChange([]);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.network.on("dragStart",(function(t){x(void 0!==t&&null!==t),x(void 0!==t.nodes&&null!==t.nodes),e.dragStartEvent=t,t.nodes.length>0&&e.props.onNodeSelectionChange(t.nodes)})),this.network.on("dragEnd",(function(t){if(x(void 0!==e.dragStartEvent&&null!==e.dragStartEvent),x(void 0!==e.dragStartEvent.nodes&&null!==e.dragStartEvent.nodes),x(void 0!==t&&null!==t),x(void 0!==t.nodes&&null!==t.nodes),t.nodes.length>0&&!e.props.dag.isPassiveDag){var n=t.pointer.canvas.x-e.dragStartEvent.pointer.canvas.x,r=t.pointer.canvas.y-e.dragStartEvent.pointer.canvas.y;e.props.onUpdateNodePositions(t.nodes,[n/-70,r/-120])}}))}},{key:"updateNetwork",value:function(e){var t=this.props,n=t.dag,r=t.currentTime,i=new Array,a=new Array,o=0,s=n.isPassiveDag?n.styleMap:this.computeNodePartition(n,r),l=!0,c=!1,u=void 0;try{for(var d,h=n.nodes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=Object(f.a)(d.value,2),g=p[0],v=p[1],m=s.get(g);if(x(void 0!==m,"invar"),"hidden"===m){var y={id:g,hidden:!0};i.push(y)}else{var b=this.toVisNode(v,m,v.getPosition());i.push(b)}var S=!0,w=!1,k=void 0;try{for(var E,N=v.parents[Symbol.iterator]();!(S=(E=N.next()).done);S=!0){var T=E.value,C=this.toVisEdge(o,T,v.id,"hidden"===m);o+=1,a.push(C)}}catch(O){w=!0,k=O}finally{try{S||null==N.return||N.return()}finally{if(w)throw k}}}}catch(O){c=!0,u=O}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}e?(this.networkNodes.update(i),this.networkEdges.update(a)):(this.networkNodes.clear(),this.networkNodes.add(i),this.networkEdges.clear(),this.networkEdges.add(a))}},{key:"computeNodePartition",value:function(e,t){var n=e.computeNodesInActiveDag(t),r=new Map,i=!0,a=!1,o=void 0;try{for(var s,l=e.nodes[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=Object(f.a)(s.value,2),u=c[0],d=c[1],h=null!==d.deletionTime&&d.deletionTime<=t;if(e.nodeIsTheoryAxiom(u))r.set(u,h?"theory-axiom-deleted":"theory-axiom");else if(d.isFromPreprocessing)"negated conjecture"===d.inferenceRule?r.set(u,"conjecture"):r.set(u,h?"preprocessing-deleted":"preprocessing");else null!==d.activeTime&&d.activeTime<=t?r.set(u,h?"activated-deleted":"activated"):n.has(u)?r.set(u,"deleted"):r.set(u,"hidden")}}catch(p){a=!0,o=p}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}return r}},{key:"toVisNode",value:function(e,t,n){var r=E[t],i=this.markers.has(e.id);return{id:e.id,label:e.toHTMLString(this.props.currentTime),labelHighlightBold:!1,shape:"box",color:{border:i?r.markedStyle.border:r.defaultStyle.border,background:i?r.markedStyle.background:r.defaultStyle.background,highlight:{border:r.highlightStyle.border,background:r.highlightStyle.background}},font:{color:r.text,multi:!0},hidden:!1,x:Math.round(-70*n[0]),y:Math.round(-120*n[1])}}},{key:"toVisEdge",value:function(e,t,n,r){return{id:e,arrows:"to",color:{color:"#dddddd",highlight:"#f8cfc1"},from:t,to:n,smooth:!1,hidden:r}}},{key:"findNodeAt",value:function(e){return this.network.getNodeAt({x:e.layerX,y:e.layerY})}},{key:"toggleMarker",value:function(e){x(this.networkNodes),this.markers.has(e)?this.markers.delete(e):this.markers.add(e),this.updateNetwork(!0)}}]),t}(r.Component),T=n(25),C=n.n(T),O=(n(64),n(37)),L=n.n(O),P=n(13),j=function(e){function t(){var e,n;Object(a.a)(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={draggable:!1},n.keep=!0,n.toList=function(e,t,i){var a="premise"===i?t.premiseLiterals:"conclusion"===i?t.conclusionLiterals:t.contextLiterals;return r.createElement(L.a,{options:{group:"shared"},tag:"ul",id:"premise"===i?"id1":"conclusion"===i?"id2":"id3",onChange:function(t,r,i){var a="id1"===i.from.id?"premise":"id2"===i.from.id?"conclusion":"context",o="id1"===i.to.id?"premise":"id2"===i.to.id?"conclusion":"context";a===o&&x(n.keep),n.keep&&n.props.onLiteralOrientationChange(e,[a,i.oldIndex],[o,i.newIndex]),a!==o&&(n.keep=!n.keep)}},a.map((function(e,t){return n.toListItem(e,t,i)})))},n.toListItem=function(e,t,i){return r.createElement("li",{key:t,"data-id":t,onDoubleClick:function(t){n.props.onLiteralRepresentationChange(n.props.node.id,e),t.currentTarget.innerText=e.toString("premise"===i)}},e.toString("premise"===i))},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=new Array;t.push("Childs: "+this.props.numberOfTransitiveActivatedChildren.toString());var n=!0,i=!1,a=void 0;try{for(var o,s=this.props.node.statistics[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=Object(f.a)(o.value,2),c=l[0],u=l[1];["nSel","inD"].includes(c)||("a"===c?c="Age":"w"===c&&(c="Weight"),t.push("".concat(c,": ").concat(u)))}}catch(d){i=!0,a=d}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r.createElement("section",{className:"component-node-details details"},r.createElement("article",null,r.createElement("h2",null,"Node ",r.createElement("strong",null,this.props.node.id)),r.createElement("div",{className:"button-bar"},r.createElement("button",{className:"toggle-button"+(this.props.infoToggle?" toggled":""),title:this.props.infoToggle?"Hide statistics":"Show statistics",onClick:this.props.onToggleInfo},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},r.createElement("use",{xlinkHref:"".concat(P,"#toggle-info")}))),r.createElement("button",{className:"toggle-button"+(this.props.editToggle?" toggled":""),title:this.props.editToggle?"Terminate edit mode":"Enter edit mode",onClick:this.props.onToggleEdit,disabled:"Clause"!==this.props.node.unit.type},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},r.createElement("use",{xlinkHref:"".concat(P,"#toggle-edit")})))),r.createElement("h3",null,this.props.node.inferenceRule),this.props.infoToggle&&r.createElement("ul",{className:"stats"},t.map((function(e,t){return r.createElement("li",{key:t},e)}))),"Clause"===this.props.node.unit.type&&this.props.editToggle?r.createElement("section",{className:"literal-wrapper"+(this.state.draggable?" drag":""),onMouseEnter:function(){return e.setState({draggable:!0})},onMouseLeave:function(){return e.setState({draggable:!1})}},this.toList(this.props.node.id,this.props.node.unit,"premise"),r.createElement("span",{className:"separator separator-arrow count-"+this.props.node.unit.premiseLiterals.length},"\u2192"),this.toList(this.props.node.id,this.props.node.unit,"conclusion"),r.createElement("span",{className:"separator separator-line count-"+this.props.node.unit.contextLiterals.length},"\xa0"),this.toList(this.props.node.id,this.props.node.unit,"context")):r.createElement("section",{className:"literal-wrapper read-mode"},this.props.node.unit.toHTMLString(!1))))}}]),t}(r.Component),A=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){if(1===this.props.nodeSelection.length){var e=this.props.dag.get(this.props.nodeSelection[0]);return r.createElement(j,{node:e,numberOfTransitiveActivatedChildren:this.props.dag.numberOfTransitiveActivatedChildren(e.id,this.props.currentTime),infoToggle:this.props.infoToggle,editToggle:this.props.editToggle,onLiteralOrientationChange:this.props.onLiteralOrientationChange,onLiteralRepresentationChange:this.props.onLiteralRepresentationChange,onToggleInfo:this.props.onToggleInfo,onToggleEdit:this.props.onToggleEdit})}return r.createElement("section",{className:"component-node-details overview"},r.createElement("small",{id:"nodeInfo"},r.createElement("strong",null,"".concat(this.props.nodeSelection.length," nodes"))," selected"))}}]),t}(r.Component),R=n(13),I=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;x(this.props.dag.isPassiveDag),x(null!==this.props.dag.styleMap);var t=1===this.props.nodeSelection.length&&"passive"===this.props.dag.styleMap.get(this.props.nodeSelection[0]);return r.createElement("aside",{className:"component-passive-aside"},r.createElement("section",{className:"component-graph-menu"},r.createElement("button",{title:"Select clauses",disabled:!t,onClick:function(){e.props.onSelectButtonPressed()}},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},r.createElement("use",{xlinkHref:"".concat(R,"#graph-s")})))),r.createElement(A,{dag:this.props.dag,nodeSelection:this.props.nodeSelection,currentTime:this.props.currentTime,infoToggle:this.props.infoToggle,editToggle:this.props.editToggle,onLiteralOrientationChange:this.props.onLiteralOrientationChange,onLiteralRepresentationChange:this.props.onLiteralRepresentationChange,onToggleInfo:this.props.onToggleInfo,onToggleEdit:this.props.onToggleEdit}))}}]),t}(r.Component),D=n(41),F=function(){function e(t,n,r,i,o,s,l,c,u,d,h){Object(a.a)(this,e),this.id=void 0,this.unit=void 0,this.inferenceRule=void 0,this.parents=void 0,this.statistics=void 0,this.isFromPreprocessing=void 0,this.newTime=void 0,this.activeTime=void 0,this.deletionTime=void 0,this.deletionParents=void 0,this.position=void 0,this.isBoundary=void 0,this.id=t,this.unit=n,this.inferenceRule=r,this.parents=i,this.statistics=o,this.isFromPreprocessing=s,this.newTime=l,this.activeTime=c,this.deletionTime=u,this.deletionParents=d,this.position=null,this.isBoundary=h}return Object(o.a)(e,[{key:"copy",value:function(){return new e(this.id,this.unit,this.inferenceRule,this.parents,this.statistics,this.isFromPreprocessing,this.newTime,this.activeTime,this.deletionTime,this.deletionParents,this.isBoundary)}},{key:"getPosition",value:function(){return x(null!==this.position,"accessing position of node with id ".concat(this.id,", which has not been computed")),this.position}},{key:"toString",value:function(){return this.unit.toString()}},{key:"toHTMLString",value:function(e){var t=null!==this.activeTime&&this.activeTime<=e;return this.unit.toHTMLString(t)}}]),e}(),B=function(){function e(t){Object(a.a)(this,e),this.type=void 0,this.formula=void 0,this.type="Formula",this.formula=t}return Object(o.a)(e,[{key:"toString",value:function(){return this.formula}},{key:"toHTMLString",value:function(e){return this.formula}}]),e}(),M=function(){function e(t,n,r,i){Object(a.a)(this,e),this.type=void 0,this.literalsNewEvent=void 0,this.premiseLiterals=void 0,this.conclusionLiterals=void 0,this.contextLiterals=void 0,this.literalsActiveEvent=void 0,this.type="Clause",this.literalsNewEvent=t,this.premiseLiterals=n,this.conclusionLiterals=r,this.contextLiterals=i,this.literalsActiveEvent=null}return Object(o.a)(e,[{key:"changeLiteralOrientation",value:function(e,t){var n=null;"premise"===e[0]?(x(0<=e[1]),x(e[1]<this.premiseLiterals.length),n=this.premiseLiterals.splice(e[1],1)):"conclusion"===e[0]?(x(0<=e[1]),x(e[1]<this.conclusionLiterals.length),n=this.conclusionLiterals.splice(e[1],1)):(x(0<=e[1]),x(e[1]<this.contextLiterals.length),n=this.contextLiterals.splice(e[1],1)),x(1===n.length);var r=n[0];"premise"===t[0]?(x(0<=t[1]),x(t[1]<=this.premiseLiterals.length),this.premiseLiterals.splice(t[1],0,r)):"conclusion"===t[0]?(x(0<=t[1]),x(t[1]<=this.conclusionLiterals.length),this.conclusionLiterals.splice(t[1],0,r)):(x(0<=t[1]),x(t[1]<=this.contextLiterals.length),this.contextLiterals.splice(t[1],0,r)),r.orientationReason="user"}},{key:"toString",value:function(){return 0===this.premiseLiterals.length&&0===this.conclusionLiterals.length&&0===this.contextLiterals.length?"$false":this.premiseLiterals.concat(this.conclusionLiterals,this.contextLiterals).map((function(e){return e.toString(!1)})).join(" | ")}},{key:"toHTMLString",value:function(e){var t=this.premiseLiterals.map((function(e){return e.isSelected?"<b>"+e.toString(!0)+"</b>":e.toString(!0)})).join(" & "),n=this.conclusionLiterals.map((function(e){return e.isSelected?"<b>"+e.toString(!1)+"</b>":e.toString(!1)})).join(" | "),r=this.contextLiterals.map((function(e){return e.isSelected?"<b>"+e.toString(!1)+"</b>":e.toString(!1)})).join(" | "),i=this.premiseLiterals.map((function(e){return e.toString(!0)})).join(" & "),a=this.conclusionLiterals.map((function(e){return e.toString(!1)})).join(" | "),o=this.contextLiterals.map((function(e){return e.toString(!1)})).join(" | ");0===this.conclusionLiterals.length&&(n="$false",a="$false");var s=Math.ceil(.8*Math.max(i.length,a.length,o.length)),l="\u2013".repeat(s);e||(t=i,n=a,r=o);var c=0===this.premiseLiterals.length?n:t+"\n\u2192\n"+n;return 0===this.contextLiterals.length?c:c+"\n"+l+"\n"+r}}]),e}(),U=function(){function e(t,n,r){Object(a.a)(this,e),this.name=void 0,this.args=void 0,this.negated=void 0,this.isSelected=void 0,this.representation=void 0,this.hideBracketsAssoc=void 0,this.nonStrictForNegatedStrictInequalities=void 0,this.literalInParent=void 0,this.orientationReason=void 0,this.name=t,this.args=n,this.negated=r,this.isSelected=!1,this.representation=0,this.hideBracketsAssoc=!0,this.nonStrictForNegatedStrictInequalities=!0,this.literalInParent=null,this.orientationReason="none"}return Object(o.a)(e,[{key:"setLiteralInParent",value:function(e){this.literalInParent=e}},{key:"switchToNextRepresentation",value:function(){"$less"!==this.name&&"Sub"!==this.name&&"="!==this.name||(0===this.representation?this.representation=1:this.representation=0)}},{key:"toString",value:function(e){var t=this,n=e?!this.negated:this.negated;if("="===this.name){x(2===this.args.length,"equalities must have exactly two arguments");var r=1===this.representation;return this.args[r?1:0].toString(this.hideBracketsAssoc)+(n?" != ":" = ")+this.args[r?0:1].toString(this.hideBracketsAssoc)}if("$less"===this.name||"Sub"===this.name){x(2===this.args.length,"inequalities must have exactly two arguments");var i=1===this.representation,a=this.args[i?1:0].toString(this.hideBracketsAssoc),o=this.args[i?0:1].toString(this.hideBracketsAssoc);return a+(i?n?this.nonStrictForNegatedStrictInequalities?" <= ":" !> ":" > ":n?this.nonStrictForNegatedStrictInequalities?" >= ":" !< ":" < ")+o}return(n?"!":"")+this.name+"("+this.args.map((function(e){return e.toString(t.hideBracketsAssoc)})).join(",")+")"}}]),e}(),q=function(){function e(t,n){Object(a.a)(this,e),this.name=void 0,this.args=void 0,this.isVariable=void 0,this.name=t,this.args=n;var r=t.startsWith("X");this.isVariable=r,r&&x(0===this.args.length)}return Object(o.a)(e,[{key:"toString",value:function(e){var t=this.name;if("$sum"===this.name?t="+":"$uminus"===this.name&&(t="-"),0===this.args.length)return t;if("+"===t){var n=this.args.map((function(t){return t.toString(e)})).join("+");return e?n:"("+n+")"}return t+"("+this.args.map((function(t){return t.toString(e)})).join(",")+")"}}]),e}(),V=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,null,[{key:"parsePreprocessingUnit",value:function(t){return t.match(/^[a-zA-Z0-9()=,~!$ |']+$/)?e.parseClause(t):new B(t)}},{key:"parseClause",value:function(e){if("$false"===e)return new M([],[],[],[]);var t=this.parseLiterals(e);return new M(t,[],Array.from(t),[])}},{key:"parseLiterals",value:function(t){for(var n=t.split(" | "),r=new Array,i=0;i<n.length;i++)r.push(e.parseLiteral(n[i]));return r}},{key:"parseLiteral",value:function(t){var n=t.search("=");if(-1!==n){if("("===t[0]&&(x(")"===t[t.length-1]),t=t.substring(1,t.length-1),x(n>0),n-=1),"!"===t[n-1]){x(" "===t[n-2],"negated equality not surrounded by spaces in string ".concat(t)),x(" "===t[n+1],"negated equality not surrounded by spaces in string ".concat(t));var r=t.substring(0,n-2),i=t.substring(n+2,t.length),a=e.parseTerm(r),o=e.parseTerm(i);return new U("=",[a,o],!0)}x(" "===t[n-1],"equality not surrounded by spaces in string ".concat(t)),x(" "===t[n+1],"equality not surrounded by spaces in string ".concat(t));var s=t.substring(0,n-1),l=t.substring(n+2,t.length),c=e.parseTerm(s),u=e.parseTerm(l);return new U("=",[c,u],!1)}var d="~"===t[0],h=d?t.substring(1):t,p=e.parseTerm(h);return new U(p.name,p.args,d)}},{key:"parseTerm",value:function(e){for(var t=[],n=0;n<e.length;){var r=e[n];if("("===r||")"===r||","===r)t.push(r),n+=1;else{for(var i=n;i<e.length&&"("!==e[i]&&")"!==e[i]&&","!==e[i];)i+=1;t.push(e.substring(n,i)),n=i}}for(var a=0;a<t.length;a++){var o=t[a];"("!==o&&")"!==o&&","!==o&&(a+1!==t.length&&"("===t[a+1]||(t.splice(a+1,0,"("),t.splice(a+2,0,")")))}for(var s=[[]],l=0;l<t.length;l++){var c=t[l];if("("!==c&&")"!==c&&","!==c)s[s.length-1].push(c);else if("("===c)s.push([]);else if(")"===c){var u=s.pop(),d=s[s.length-1].pop(),h=new q(d,u);s[s.length-1].push(h)}}return x(1===s.length,"invar violated for string: "+e),s[0][0]}}]),e}(),H=function(){function e(t){Object(a.a)(this,e),this.dag=void 0,this.todo=void 0,this.visited=void 0,this.dag=t,this.todo=Array.from(t.leaves),this.visited=new Set}return Object(o.a)(e,[{key:"hasNext",value:function(){for(;this.todo.length>0;){var e=this.todo[this.todo.length-1];if(!this.visited.has(e))return!0;this.todo.pop()}return!1}},{key:"getNext",value:function(){for(;this.todo.length>0;){var e=this.todo[this.todo.length-1],t=this.dag.get(e);if(this.visited.has(e))this.todo.pop();else{var n=!1,r=!0,i=!1,a=void 0;try{for(var o,s=t.parents[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;this.visited.has(l)||(this.todo.push(l),n=!0)}}catch(c){i=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}if(!n)return this.visited.add(e),this.todo.pop(),t}}return x(!1,"We have already iterated through all the inferences, so getNext() should not been called"),null}}]),e}(),z=function(){function e(t){Object(a.a)(this,e),this.postOrder=void 0;var n=new H(t);for(this.postOrder=[];n.hasNext();)this.postOrder.push(n.getNext())}return Object(o.a)(e,[{key:"hasNext",value:function(){return this.postOrder.length>0}},{key:"getNext",value:function(){return x(this.hasNext(),"We have already iterated through all the inferences, so getNext() should not have been called"),this.postOrder.pop()}}]),e}();function W(e,t,n){return n?function(e,t){if(e.name!==t.name||e.negated!==t.negated||e.args.length!==t.args.length)return!1;for(var n=!0,r=new Map,i=0;i<e.args.length;i++){var a=e.args[i],o=t.args[i];if(!(n=J(a,o,r)))break}if(!n&&"="===e.name){x(2===e.args.length);var s=new Map;(n=J(e.args[0],t.args[1],s))&&(n=J(e.args[1],t.args[0],s))}return n}(e,t):function(e,t){if(e.name!==t.name||e.negated!==t.negated||e.args.length!==t.args.length)return!1;for(var n=!0,r=0;r<e.args.length;r++){var i=e.args[r],a=t.args[r];if(!$(i,a)){n=!1;break}}n||"="!==e.name||(x(2===e.args.length),n=$(e.args[0],t.args[1])&&$(e.args[1],t.args[0]));return n}(e,t)}function $(e,t){if(e.name!==t.name||e.args.length!==t.args.length)return!1;for(var n=0;n<e.args.length;n++){if(!$(e.args[n],t.args[n]))return!1}return!0}function J(e,t,n){if(e.name===t.name&&e.args.length===t.args.length){for(var r=0;r<e.args.length;r++){if(!J(e.args[r],t.args[r],n))return!1}return!0}if(t.isVariable){var i=n.get(t.name);return void 0===i?(n.set(t.name,e),!0):J(e,i,n)}return!1}var K=function e(t,n,r,i,o,s){Object(a.a)(this,e),this.type=void 0,this.id=void 0,this.unitString=void 0,this.inferenceRule=void 0,this.parents=void 0,this.statistics=void 0,this.type=t,this.id=n,this.unitString=r,this.inferenceRule=i,this.parents=o,this.statistics=s},G=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(a.a)(this,e),this.nodes=void 0,this.leaves=void 0,this.mergeMap=void 0,this.isPassiveDag=void 0,this.styleMap=void 0,this.activeNodeId=void 0,this.nodes=t,this.mergeMap=n,x(!r||null!==i),x(!r||null!==o),x(!r||t.has(o)),this.isPassiveDag=r,this.styleMap=i,this.activeNodeId=o;var s=!0,l=!1,c=void 0;try{for(var u,d=t[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var h=Object(f.a)(u.value,2),p=h[0],g=h[1];x(p===g.id,"key ".concat(p," and id ").concat(g.id," of node ").concat(g," don't match!"))}}catch(Y){l=!0,c=Y}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}var v=!0,m=!1,y=void 0;try{for(var b,S=t[Symbol.iterator]();!(v=(b=S.next()).done);v=!0){var w=Object(f.a)(b.value,2),k=w[0],E=w[1],N=!0,T=!1,C=void 0;try{for(var O,L=E.parents[Symbol.iterator]();!(N=(O=L.next()).done);N=!0){var P=O.value;x(t.has(P),"node ".concat(k," has parent ").concat(P," which does not occur as node in the dag!"))}}catch(Y){T=!0,C=Y}finally{try{N||null==L.return||L.return()}finally{if(T)throw C}}}}catch(Y){m=!0,y=Y}finally{try{v||null==S.return||S.return()}finally{if(m)throw y}}var j=new Set,A=new Set,R=!0,I=!1,D=void 0;try{for(var F,B=t.values()[Symbol.iterator]();!(R=(F=B.next()).done);R=!0){var M=F.value,U=!0,q=!1,V=void 0;try{for(var H,z=M.parents[Symbol.iterator]();!(U=(H=z.next()).done);U=!0){var W=H.value;A.add(W)}}catch(Y){q=!0,V=Y}finally{try{U||null==z.return||z.return()}finally{if(q)throw V}}}}catch(Y){I=!0,D=Y}finally{try{R||null==B.return||B.return()}finally{if(I)throw D}}var $=!0,J=!1,K=void 0;try{for(var G,X=t.keys()[Symbol.iterator]();!($=(G=X.next()).done);$=!0){var _=G.value;A.has(_)||j.add(_)}}catch(Y){J=!0,K=Y}finally{try{$||null==X.return||X.return()}finally{if(J)throw K}}this.leaves=j}return Object(o.a)(e,[{key:"get",value:function(e){var t=this.nodes.get(e);return x(void 0!==t,"node doesn't occur in Dag"),t}},{key:"maximalActiveTime",value:function(){var e=0,t=!0,n=!1,r=void 0;try{for(var i,a=this.nodes.values()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;null!==o.activeTime&&o.activeTime>e&&(e=o.activeTime)}}catch(s){n=!0,r=s}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"isEmpty",value:function(){return 0===this.nodes.size}},{key:"getChildren",value:function(e){this.nodes.has(e)||x(!1,"Node with id "+e+" does not occur in Dag");var t=new Array,n=!0,r=!1,i=void 0;try{for(var a,o=this.nodes.values()[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,l=!0,c=!1,u=void 0;try{for(var d,h=s.parents[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){d.value===e&&t.push(s.id)}}catch(p){c=!0,u=p}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}}}catch(p){r=!0,i=p}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t}},{key:"numberOfTransitiveActivatedChildren",value:function(e,t){for(var n=0,r=new Set([e]),i=new H(this);i.hasNext();){var a=i.getNext(),o=!1,s=!0,l=!1,c=void 0;try{for(var u,d=a.parents[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var h=u.value;if(r.has(h)){o=!0;break}}}catch(f){l=!0,c=f}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}var p=o||r.has(a.id),g=a.isFromPreprocessing||null!==a.newTime&&a.newTime<=t;if(p&&g){r.add(a.id);var v=null!==a.activeTime&&a.activeTime<=t;a.id!==e&&v&&(n+=1)}}return n}},{key:"nodeIsInputNode",value:function(e){var t=this.get(e);return!!t.isFromPreprocessing&&null===t.newTime}},{key:"nodeIsTheoryAxiom",value:function(e){var t=this.get(e);return!!t.isFromPreprocessing&&("theory axiom"===t.inferenceRule||"term algebras injectivity"===t.inferenceRule||"term algebras distinctness"===t.inferenceRule||"term algebras exhaustiveness"===t.inferenceRule||1===t.parents.length&&"term algebras exhaustiveness"===this.get(t.parents[0]).inferenceRule)}},{key:"computeActiveNodes",value:function(e){var t=new Set,n=!0,r=!1,i=void 0;try{for(var a,o=this.nodes[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=Object(f.a)(a.value,2),l=s[0],c=s[1];null!==c.activeTime&&c.activeTime<=e&&t.add(l)}}catch(u){r=!0,i=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t}},{key:"computeNodesInActiveDag",value:function(e){for(var t=this.computeActiveNodes(e),n=new z(this);n.hasNext();){var r=n.getNext(),i=r.id;if(t.has(i)){var a=!0,o=!1,s=void 0;try{for(var l,c=r.parents[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value;t.add(u)}}catch(m){o=!0,s=m}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}}}var d=!0,h=!1,p=void 0;try{for(var g,v=this.nodes.values()[Symbol.iterator]();!(d=(g=v.next()).done);d=!0){var f=g.value;f.isFromPreprocessing&&t.add(f.id)}}catch(m){h=!0,p=m}finally{try{d||null==v.return||v.return()}finally{if(h)throw p}}return t}},{key:"isRefutation",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.nodes.values()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;if("Clause"===a.unit.type&&0===a.unit.premiseLiterals.length&&0===a.unit.conclusionLiterals.length)return!0}}catch(o){t=!0,n=o}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}return!1}}],[{key:"fromParsedLines",value:function(t,n){var r=null===n?new Map:new Map(n.nodes),i=null,a=null===n?0:n.maximalActiveTime(),o=null,s=!0,l=!1,c=void 0;try{for(var u,d=t[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var h=u.value;if(null!==n&&null!==n.mergeMap){x(void 0===n.mergeMap.get(h.id),"found line with id ".concat(h.id," of node deleted during merge of preprocessing nodes!"));var p=new Array,g=!0,v=!1,f=void 0;try{for(var m,y=h.parents[Symbol.iterator]();!(g=(m=y.next()).done);g=!0){var b=m.value,S=n.mergeMap.get(b);void 0!==S?p.push.apply(p,Object(D.a)(S)):p.push(b)}}catch(z){v=!0,f=z}finally{try{g||null==y.return||y.return()}finally{if(v)throw f}}h.parents=p}if("preprocessing"===h.type){x(null===n,"no new preprocessing lines should occur while extending existing dag with new nodes from saturation"),x(!r.has(h.id),"each clause must be generated by preprocessing only once");var w=V.parsePreprocessingUnit(h.unitString);if("negated conjecture"===h.inferenceRule){x(1===h.parents.length);var k=r.get(h.parents[0]);x(void 0!==k),x("input"===k.inferenceRule),x(r.delete(h.parents[0])),h.parents=[]}i=new F(h.id,w,h.inferenceRule,h.parents,h.statistics,!0,null,null,null,[],!1),r.set(i.id,i)}else if("new"===h.type)if(r.has(h.id)){x(null===n,"no new final clauses from preprocessing should occur during the extension of an existing dag"),x((i=r.get(h.id)).isFromPreprocessing,"a newly added clause can only already exist if it was generated during preprocessing"),x(h.inferenceRule===i.inferenceRule,"inference rule differs between line and existing node");var E=V.parseClause(h.unitString);i.unit=E,i.newTime=a}else{var N=V.parseClause(h.unitString);i=new F(h.id,N,h.inferenceRule,h.parents,h.statistics,!1,a,null,null,[],!1),r.set(i.id,i),"$false"===h.unitString&&(o=i)}else if("active"===h.type){x(r.has(h.id),"Found clause with id ".concat(h.id,", which was added to active, but wasn't added to new before. Maybe you forgot to output the new clauses?")),i=r.get(h.id),x(h.id===i.id,"id differs between line and existing node"),x(h.inferenceRule===i.inferenceRule,"inference rule differs between line and existing node"),x(h.parents.length===i.parents.length,"number of parents differs between line and existing node");for(var T=0;T<h.parents.length;T++)x(h.parents[T]===i.parents[T],"line and node differ on parent ".concat(T,", which is ").concat(h.parents[T]," resp. ").concat(i.parents[T],"."));x(null!==i.newTime,"for each event [SA] active ... there has to be an earlier event of the form [SA] new ... with the same clause!"),x(null===i.activeTime,"there must only be 1 event of the form [SA] active ... for each clause"),x("Clause"===i.unit.type);var C=i.unit;x(null!==C.literalsNewEvent);var O=V.parseLiterals(h.unitString),L=h.statistics.get("nSel");x(void 0!==L&&null!==L);for(var P=new Array,j=0;j<O.length;j++){var A=O[j],R=!1,I=!0,B=!1,M=void 0;try{for(var U,q=C.literalsNewEvent[Symbol.iterator]();!(I=(U=q.next()).done);I=!0){var H=U.value;if(W(A,H,!1)){P.push(H),R=!0,j<L&&(H.isSelected=!0);break}}}catch(z){B=!0,M=z}finally{try{I||null==q.return||q.return()}finally{if(B)throw M}}x(R)}C.literalsActiveEvent=P,a+=1,i.activeTime=a,i.statistics=h.statistics}else"forward reduce"===h.type||"backward reduce"===h.type?(x(r.has(h.id),"Found clause with id ".concat(h.id,", which was deleted, but wasn't added as new before. Maybe you forgot to output the new clauses?")),(i=r.get(h.id)).deletionTime=a):"replaced by"===h.type||"using"===h.type?(x(null!==i,"invar"),i.deletionParents.push(h.id)):x(!1,"invalid line: ".concat(h.unitString))}}catch(z){l=!0,c=z}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}return null!==o&&(a+=1,o.activeTime=a,r.set(o.id,o)),new e(r,null===n?null:n.mergeMap)}}]),e}();function X(e,t){for(var n=new Set(t),r=new Map,i=new z(e);i.hasNext();){var a=i.getNext(),o=a.id;n.has(o)&&(a.parents.forEach((function(e){return n.add(e)})),r.set(o,a))}var s=new Map,l=!0,c=!1,u=void 0;try{for(var d,h=r[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=Object(f.a)(d.value,2),g=p[0],v=p[1];s.set(g,v.copy())}}catch(m){c=!0,u=m}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}return new G(s)}function _(e,t){for(var n=new Set(t),r=new Map,i=new H(e);i.hasNext();){var a=i.getNext(),o=!1,s=!0,l=!1,c=void 0;try{for(var u,d=a.parents[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var h=u.value;n.has(h)&&(o=!0)}}catch(j){l=!0,c=j}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}if(n.has(a.id)||o){if(n.add(a.id),o){var p=!0,g=!1,v=void 0;try{for(var m,y=a.parents[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var b=m.value;if(!n.has(b)){var S=Y(e.get(b));x(!e.leaves.has(S.id),"invar violated. Boundary nodes should only occur as parents of nodes"),r.set(S.id,S)}}}catch(j){g=!0,v=j}finally{try{p||null==y.return||y.return()}finally{if(g)throw v}}}else a=Y(a);r.set(a.id,a)}}var w=new Map,k=!0,E=!1,N=void 0;try{for(var T,C=r[Symbol.iterator]();!(k=(T=C.next()).done);k=!0){var O=Object(f.a)(T.value,2),L=O[0],P=O[1];w.set(L,P.copy())}}catch(j){E=!0,N=j}finally{try{k||null==C.return||C.return()}finally{if(E)throw N}}return new G(w)}function Y(e){return new F(e.id,e.unit,e.inferenceRule,[],e.statistics,e.isFromPreprocessing,e.newTime,e.activeTime,e.deletionTime,e.deletionParents,e.isBoundary)}function Z(e){for(var t=new Map(e.nodes),n=new Set,r=new Map,i=new H(e);i.hasNext();){var a=i.getNext().id,o=t.get(a);if(o.isFromPreprocessing){var s=new Array,l=!0,c=!1,u=void 0;try{for(var d,h=o.parents[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value,g=t.get(p);if(x(g.isFromPreprocessing,"invariant violated"),0===g.parents.length)"choice axiom"===g.inferenceRule?n.add(p):s.push(p);else{var v=!0,f=!1,m=void 0;try{for(var y,b=g.parents[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var S=y.value;x(t.get(S).isFromPreprocessing,"invariant violated"),s.push(S)}}catch(L){f=!0,m=L}finally{try{v||null==b.return||b.return()}finally{if(f)throw m}}n.add(p),r.set(p,g.parents)}}}catch(L){c=!0,u=L}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}var w=new F(o.id,o.unit,o.inferenceRule,s,o.statistics,o.isFromPreprocessing,o.newTime,o.activeTime,o.deletionTime,o.deletionParents,o.isBoundary);t.set(a,w)}}var k=!0,E=!1,N=void 0;try{for(var T,C=n[Symbol.iterator]();!(k=(T=C.next()).done);k=!0){var O=T.value;x(t.delete(O),"invar violated")}}catch(L){E=!0,N=L}finally{try{k||null==C.return||C.return()}finally{if(E)throw N}}return new G(t,r)}function Q(e,t,n){x(t.length>0);for(var r=new Set(t),i=new Set,a=new Map,o=new H(e);o.hasNext();){var s=o.getNext(),l=s.id,c=new Set;if(null!==s.activeTime&&s.activeTime<=n||s.isFromPreprocessing)r.has(l)&&c.add(l);else{var u=!0,d=!1,h=void 0;try{for(var p,g=s.parents[Symbol.iterator]();!(u=(p=g.next()).done);u=!0){var v=p.value,f=a.get(v);x(void 0!==f);var m=!0,y=!1,b=void 0;try{for(var S,w=f[Symbol.iterator]();!(m=(S=w.next()).done);m=!0){var k=S.value;c.add(k)}}catch(K){y=!0,b=K}finally{try{m||null==w.return||w.return()}finally{if(y)throw b}}}}catch(K){d=!0,h=K}finally{try{u||null==g.return||g.return()}finally{if(d)throw h}}null!==s.newTime&&s.newTime<=n&&!(null!==s.activeTime&&s.activeTime<=n)&&!(null!==s.deletionTime&&s.deletionTime<=n)&&c.size===r.size&&i.add(l)}a.set(l,c)}var E=new Map,N=new Map,T=new Set(i),C=!0,O=!1,L=void 0;try{for(var P,j=t[Symbol.iterator]();!(C=(P=j.next()).done);C=!0){var A=P.value;T.add(A)}}catch(K){O=!0,L=K}finally{try{C||null==j.return||j.return()}finally{if(O)throw L}}for(var R=new z(e);R.hasNext();){var I=R.getNext(),D=I.id;if(T.has(D)){var F=null!==I.deletionTime&&I.deletionTime<=n,B=void 0,M=void 0;if(i.has(D)?(x(!F),I.isFromPreprocessing?(B=!0,M="passive"):(B=!1,M="passive")):e.nodeIsTheoryAxiom(D)?(B=!0,M=F?"theory-axiom-deleted":"theory-axiom"):I.isFromPreprocessing?"negated conjecture"===I.inferenceRule?(B=!0,M="conjecture"):(B=!0,M=F?"preprocessing-deleted":"preprocessing"):null!==I.activeTime&&I.activeTime<=n?(B=!0,M=F?"activated-deleted":"activated"):(B=!1,M="deleted"),B)E.set(D,Y(I));else{E.set(D,I.copy());var U=!0,q=!1,V=void 0;try{for(var W,$=I.parents[Symbol.iterator]();!(U=(W=$.next()).done);U=!0){var J=W.value;T.add(J)}}catch(K){q=!0,V=K}finally{try{U||null==$.return||$.return()}finally{if(q)throw V}}}N.set(D,M)}}return new G(E,null,!0,N,t[0])}var ee=n(26),te=n(19);function ne(e){return re.apply(this,arguments)}function re(){return(re=Object(m.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ee.a({Module:te.Module,render:te.render}),e.abrupt("return",n.renderString(t,{format:"plain"}).then((function(e){return e})).catch((function(e){n=new ee.a({Module:te.Module,render:te.render}),console.error(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ie=/^(\d+) ([0-9.]+) ([0-9.]+).*$/g,ae=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,null,[{key:"layoutNodesAtPosition",value:function(){var t=Object(m.a)(v.a.mark((function t(n,r){var i,a,o,s,l,c,u,d,h,p,g,m,y,b,S,w,k,E,N,T,C,O,L,P,j,A,R,I,D,F;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.layoutNodes(n);case 2:i=null,a=!0,o=!1,s=void 0,t.prev=6,l=n.values()[Symbol.iterator]();case 8:if(a=(c=l.next()).done){t.next=44;break}u=c.value,d=!0,h=!0,p=!1,g=void 0,t.prev=14,m=u.parents[Symbol.iterator]();case 16:if(h=(y=m.next()).done){t.next=24;break}if(b=y.value,!n.has(b)){t.next=21;break}return d=!1,t.abrupt("break",24);case 21:h=!0,t.next=16;break;case 24:t.next=30;break;case 26:t.prev=26,t.t0=t.catch(14),p=!0,g=t.t0;case 30:t.prev=30,t.prev=31,h||null==m.return||m.return();case 33:if(t.prev=33,!p){t.next=36;break}throw g;case 36:return t.finish(33);case 37:return t.finish(30);case 38:if(!d){t.next=41;break}return i=u,t.abrupt("break",44);case 41:a=!0,t.next=8;break;case 44:t.next=50;break;case 46:t.prev=46,t.t1=t.catch(6),o=!0,s=t.t1;case 50:t.prev=50,t.prev=51,a||null==l.return||l.return();case 53:if(t.prev=53,!o){t.next=56;break}throw s;case 56:return t.finish(53);case 57:return t.finish(50);case 58:for(x(null!==i),x(null!==i.position),S=Object(f.a)(r,2),w=S[0],k=S[1],E=i.position,N=Object(f.a)(E,2),T=N[0],C=N[1],O=w-T,L=k-C-1,P=!0,j=!1,A=void 0,t.prev=67,R=n.values()[Symbol.iterator]();!(P=(I=R.next()).done);P=!0)x(null!=(D=I.value).position),F=D.position,D.position=[F[0]+O,F[1]+L];t.next=75;break;case 71:t.prev=71,t.t2=t.catch(67),j=!0,A=t.t2;case 75:t.prev=75,t.prev=76,P||null==R.return||R.return();case 78:if(t.prev=78,!j){t.next=81;break}throw A;case 81:return t.finish(78);case 82:return t.finish(75);case 83:case"end":return t.stop()}}),t,null,[[6,46,50,58],[14,26,30,38],[31,,33,37],[51,,53,57],[67,71,75,83],[76,,78,82]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"layoutDag",value:function(){var t=Object(m.a)(v.a.mark((function t(n,r){var i,a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.dagToDotString(n,r),t.next=3,ne(i);case 3:a=t.sent,e.parseLayoutString(a,n.nodes);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"layoutNodes",value:function(){var t=Object(m.a)(v.a.mark((function t(n){var r,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.nodesToDotString(n),t.next=3,ne(r);case 3:i=t.sent,e.parseLayoutString(i,n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"dagToDotString",value:function(e,t){var n=t?e.computeNodesInActiveDag(Number.MAX_SAFE_INTEGER):null,r=new Array,i=new Array,a=new Array,o=!0,s=!1,l=void 0;try{for(var c,u=e.nodes.values()[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var d=c.value;x(null===d.position,"the dag has already been layouted!"),d.isFromPreprocessing?e.nodeIsInputNode(d.id)?r.push("".concat(d.id,' [label="').concat(d.toString(),'"]')):i.push("".concat(d.id,' [label="').concat(d.toString(),'"]')):t&&!n.has(d.id)||a.push("".concat(d.id,' [label="').concat(d.toString(),'"]'))}}catch(T){s=!0,l=T}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}var h=new Array,p=!0,g=!1,v=void 0;try{for(var f,m=e.nodes.values()[Symbol.iterator]();!(p=(f=m.next()).done);p=!0){var y=f.value;if(!t||n.has(y.id)){var b=!0,S=!1,w=void 0;try{for(var k,E=y.parents[Symbol.iterator]();!(b=(k=E.next()).done);b=!0){var N=k.value;h.push("".concat(N," -> ").concat(y.id))}}catch(T){S=!0,w=T}finally{try{b||null==E.return||E.return()}finally{if(S)throw w}}}}}catch(T){g=!0,v=T}finally{try{p||null==m.return||m.return()}finally{if(g)throw v}}return"digraph {\n\n"+("   subgraph inputgraph {\n      rank=source;\n      "+r.join(";\n      ")+"\n   }")+"\n\n"+("   subgraph preprocessinggraph {\n      rank=same;\n      "+i.join(";\n      ")+"\n   }")+"\n\n"+("   subgraph othergraph {\n      "+a.join(";\n      ")+"\n   }")+"\n\n   "+h.join(";\n   ")+"\n}"}},{key:"nodesToDotString",value:function(e){var t=new Array,n=!0,r=!1,i=void 0;try{for(var a,o=e.values()[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;x(null===s.position,"the node has already been layouted!"),t.push("".concat(s.id,' [label="').concat(s.toString(),'"]'))}}catch(w){r=!0,i=w}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}var l=new Array,c=!0,u=!1,d=void 0;try{for(var h,p=e.values()[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var g=h.value,v=!0,f=!1,m=void 0;try{for(var y,b=g.parents[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var S=y.value;e.has(S)&&l.push("".concat(S," -> ").concat(g.id))}}catch(w){f=!0,m=w}finally{try{v||null==b.return||b.return()}finally{if(f)throw m}}}}catch(w){u=!0,d=w}finally{try{c||null==p.return||p.return()}finally{if(u)throw d}}return"digraph {\n   "+t.join(";\n   ")+"\n\n   "+l.join(";\n   ")+"\n}"}},{key:"parseLayoutString",value:function(e,t){var n=e.includes("\nedge")?e.indexOf("\nedge"):e.length,r=e.substr(0,n).split("\nnode ").slice(1).map((function(e){return e.substr(0,e.indexOf('"'))})).map((function(e){return e.matchAll(ie).next().value}));r.forEach((function(e){x(void 0!==e)}));var i=!0,a=!1,o=void 0;try{for(var s,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value,u=Object(f.a)(c,4),d=u[1],h=u[2],p=u[3],g=parseInt(d,10),v=parseFloat(h),m=parseFloat(p);t.get(g).position=[v,m]}}catch(y){a=!0,o=y}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}}}]),e}();C.a.setAppElement("#root");var oe=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={passiveDag:null,nodeSelectionPassiveDag:[]},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.generatePassiveDag();case 2:t=e.sent,this.setState({passiveDag:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(m.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.dag===t.dag&&this.props.nodeSelection===t.nodeSelection&&this.props.currentTime===t.currentTime){e.next=5;break}return e.next=3,this.generatePassiveDag();case 3:n=e.sent,this.setState({passiveDag:n});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return null===this.state.passiveDag?r.createElement("section",null,"Layouting..."):r.createElement(C.a,{isOpen:!0,contentLabel:"Clauses currently in Passive generated by clause with id ".concat(this.state.passiveDag.activeNodeId),onRequestClose:function(){e.props.onDismissPassiveDag(null,null)}},r.createElement(N,{dag:this.state.passiveDag,nodeSelection:this.state.nodeSelectionPassiveDag,changedNodesEvent:this.props.changedNodesEvent,currentTime:this.props.currentTime,animateDagChanges:!1,onNodeSelectionChange:this.nodeSelectionChange.bind(this),onUpdateNodePositions:this.updateNodePositions.bind(this)}),r.createElement(I,{dag:this.state.passiveDag,currentTime:this.props.currentTime,nodeSelection:this.state.nodeSelectionPassiveDag,infoToggle:this.props.infoToggle,editToggle:this.props.editToggle,onUpdateNodeSelection:this.nodeSelectionChange.bind(this),onLiteralOrientationChange:this.props.onLiteralOrientationChange,onLiteralRepresentationChange:this.props.onLiteralRepresentationChange,onSelectButtonPressed:this.selectButtonPressed.bind(this),onToggleInfo:this.props.onToggleInfo,onToggleEdit:this.props.onToggleEdit}))}},{key:"nodeSelectionChange",value:function(e){this.setState({nodeSelectionPassiveDag:e})}},{key:"updateNodePositions",value:function(e,t){x(null!==this.state.passiveDag);var n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,l=this.state.passiveDag.get(s);x(null!==l.position),l.position=[l.position[0]+t[0],l.position[1]+t[1]]}}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}},{key:"generatePassiveDag",value:function(){var e=Object(m.a)(v.a.mark((function e(){var t,n,r,i,a,o,s,l,c,u,d,h,p,g,m,y,b,S;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Q(this.props.dag,this.props.nodeSelection,this.props.currentTime),e.next=3,ae.layoutDag(t,!1);case 3:for(n=this.props.dag.get(this.props.nodeSelection[0]).getPosition(),r=Object(f.a)(n,2),i=r[0],a=r[1],o=t.get(this.props.nodeSelection[0]).getPosition(),s=Object(f.a)(o,2),l=s[0],c=s[1],u=i-l,d=a-c,h=!0,p=!1,g=void 0,e.prev=10,m=t.nodes.values()[Symbol.iterator]();!(h=(y=m.next()).done);h=!0)x(null!=(b=y.value).position),S=b.position,b.position=[S[0]+u,S[1]+d];e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),p=!0,g=e.t0;case 18:e.prev=18,e.prev=19,h||null==m.return||m.return();case 21:if(e.prev=21,!p){e.next=24;break}throw g;case 24:return e.finish(21);case 25:return e.finish(18);case 26:return e.abrupt("return",t);case 27:case"end":return e.stop()}}),e,this,[[10,14,18,26],[19,,21,25]])})));return function(){return e.apply(this,arguments)}}()},{key:"selectButtonPressed",value:function(){var e=this.state.passiveDag;x(null!==e),x(e.isPassiveDag),x(null!==e.activeNodeId),x(1===this.state.nodeSelectionPassiveDag.length);var t=this.state.nodeSelectionPassiveDag[0];x(null!==t);var n=e.styleMap;x(null!==n),x("passive"===n.get(t));var r=this.props.dag.get(this.state.passiveDag.activeNodeId).position;x(null!==r),this.props.onDismissPassiveDag(t,r)}}]),t}(r.Component),se=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e;this.props.showPassiveDag&&(e=r.createElement(oe,{dag:this.props.dag,nodeSelection:this.props.nodeSelection,currentTime:this.props.currentTime,changedNodesEvent:this.props.changedNodesEvent,infoToggle:this.props.infoToggle,editToggle:this.props.editToggle,onLiteralOrientationChange:this.props.onLiteralOrientationChange,onLiteralRepresentationChange:this.props.onLiteralRepresentationChange,onDismissPassiveDag:this.props.onDismissPassiveDag,onToggleInfo:this.props.onToggleInfo,onToggleEdit:this.props.onToggleEdit}));var t=this.props.readOnly?r.createElement("section",{className:"slider-placeholder"}):r.createElement(b,{historyLength:this.props.historyLength,currentTime:this.props.currentTime,onCurrentTimeChange:this.props.onCurrentTimeChange});return r.createElement("main",null,r.createElement(N,{dag:this.props.dag,nodeSelection:this.props.nodeSelection,changedNodesEvent:this.props.changedNodesEvent,currentTime:this.props.currentTime,animateDagChanges:this.props.animateDagChanges,onNodeSelectionChange:this.props.onNodeSelectionChange,onUpdateNodePositions:this.props.onUpdateNodePositions}),e,t)}}]),t}(r.Component),le=(n(72),n(13)),ce=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.createElement("div",{className:"component-graph-menu"},r.createElement("section",{className:"component-graph-menu-content"},r.createElement("button",{title:"Undo last graph transformation",disabled:!this.props.undoEnabled,onClick:this.props.onUndo},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},r.createElement("use",{xlinkHref:"".concat(le,"#graph-undo")}))),r.createElement("button",{title:"Render selection only (up)",disabled:!this.props.filterUpEnabled,onClick:this.props.onRenderParentsOnly},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},r.createElement("use",{xlinkHref:"".concat(le,"#graph-up")}))),r.createElement("button",{title:"Render selection only (down)",disabled:!this.props.filterDownEnabled,onClick:this.props.onRenderChildrenOnly},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},r.createElement("use",{xlinkHref:"".concat(le,"#graph-down")}))),r.createElement("button",{title:"Select clauses",disabled:!this.props.passiveDagButtonEnabled,onClick:function(){e.props.onShowPassiveDag()}},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},r.createElement("use",{xlinkHref:"".concat(le,"#graph-s")})))))}}]),t}(r.Component),ue=(n(73),n(13)),de=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.createElement("section",{className:"component-node-menu"},r.createElement("button",{title:"Select parents of selected nodes",disabled:!this.props.nodeSelection.length,onClick:this.props.onSelectParents},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},r.createElement("use",{xlinkHref:"".concat(ue,"#node-parents")}))),r.createElement("button",{title:"Select children of selected nodes",disabled:!this.props.nodeSelection.length,onClick:this.props.onSelectChildren},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},r.createElement("use",{xlinkHref:"".concat(ue,"#node-children")}))),r.createElement("button",{title:"Find common consequences of selected nodes",disabled:this.props.nodeSelection.length<2,onClick:this.props.onSelectCommonConsequences},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},r.createElement("use",{xlinkHref:"".concat(ue,"#node-consequences")}))))}}]),t}(r.Component),he=(n(74),function(e){function t(){var e,n;Object(a.a)(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={foundNodes:[]},n.searchField1=r.createRef(),n.searchField2=r.createRef(),n.searchField3=r.createRef(),n.toListItem=function(e){return r.createElement("li",{key:e.id,onClick:function(){return n.props.onUpdateNodeSelection([e.id])}},e.toString())},n.getDisabledListItem=function(){return r.createElement("li",{className:"disabled-element"},"...")},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.dag===e.dag&&this.props.currentTime===e.currentTime||(this.searchField1.current.value="",this.searchField2.current.value="",this.searchField3.current.value="",this.setState({foundNodes:[]}))}},{key:"render",value:function(){var e=this,t=this.state.foundNodes;return r.createElement("section",{className:"component-search"},r.createElement("input",{type:"text",ref:this.searchField1,placeholder:"Search for nodes including literal",onKeyUp:this.search.bind(this),disabled:null===this.props.dag}),r.createElement("input",{type:"text",ref:this.searchField2,placeholder:"Search for nodes excluding literals",onKeyUp:this.search.bind(this),disabled:null===this.props.dag}),r.createElement("input",{type:"text",ref:this.searchField3,placeholder:"Search for nodes using inference rule",onKeyUp:this.search.bind(this),disabled:null===this.props.dag}),r.createElement("ul",{id:"searchResults"},t.slice(0,21).map((function(t){return e.toListItem(t)})),t.length>20&&this.getDisabledListItem()))}},{key:"search",value:function(){x(null!==this.props.dag),x(this.searchField1.current),x(this.searchField2.current),x(this.searchField3.current);var e=this.searchField1.current.value,t=this.searchField2.current.value,n=this.searchField3.current.value;if(""===e&&""===t&&""===n)return this.props.onUpdateNodeSelection([]),void this.setState({foundNodes:[]});var r=Array.from(this.props.dag.nodes.values());if(""!==e){var i=new Array,a=!0,o=!1,s=void 0;try{for(var l,c=r[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value;if("Clause"===u.unit.type){var d=u.unit,h=!1,p=!0,g=!1,v=void 0;try{for(var f,m=d.premiseLiterals[Symbol.iterator]();!(p=(f=m.next()).done);p=!0){if(f.value.toString(!0).includes(e)){h=!0;break}}}catch(ge){g=!0,v=ge}finally{try{p||null==m.return||m.return()}finally{if(g)throw v}}if(!h){var y=!0,b=!1,S=void 0;try{for(var w,k=d.conclusionLiterals[Symbol.iterator]();!(y=(w=k.next()).done);y=!0){if(w.value.toString(!1).includes(e)){h=!0;break}}}catch(ge){b=!0,S=ge}finally{try{y||null==k.return||k.return()}finally{if(b)throw S}}}if(!h){var E=!0,N=!1,T=void 0;try{for(var C,O=d.contextLiterals[Symbol.iterator]();!(E=(C=O.next()).done);E=!0){if(C.value.toString(!1).includes(e)){h=!0;break}}}catch(ge){N=!0,T=ge}finally{try{E||null==O.return||O.return()}finally{if(N)throw T}}}h&&i.push(u)}}}catch(ge){o=!0,s=ge}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}r=i}if(""!==t){var L=new Array,P=!0,j=!1,A=void 0;try{for(var R,I=r[Symbol.iterator]();!(P=(R=I.next()).done);P=!0){var D=R.value;if("Clause"===D.unit.type){var F=D.unit,B=!1,M=!0,U=!1,q=void 0;try{for(var V,H=F.premiseLiterals[Symbol.iterator]();!(M=(V=H.next()).done);M=!0){if(V.value.toString(!0).includes(t)){B=!0;break}}}catch(ge){U=!0,q=ge}finally{try{M||null==H.return||H.return()}finally{if(U)throw q}}if(!B){var z=!0,W=!1,$=void 0;try{for(var J,K=F.conclusionLiterals[Symbol.iterator]();!(z=(J=K.next()).done);z=!0){if(J.value.toString(!1).includes(t)){B=!0;break}}}catch(ge){W=!0,$=ge}finally{try{z||null==K.return||K.return()}finally{if(W)throw $}}}if(!B){var G=!0,X=!1,_=void 0;try{for(var Y,Z=F.contextLiterals[Symbol.iterator]();!(G=(Y=Z.next()).done);G=!0){if(Y.value.toString(!1).includes(t)){B=!0;break}}}catch(ge){X=!0,_=ge}finally{try{G||null==Z.return||Z.return()}finally{if(X)throw _}}}B||L.push(D)}}}catch(ge){j=!0,A=ge}finally{try{P||null==I.return||I.return()}finally{if(j)throw A}}r=L}if(""!==n){var Q=new Array,ee=!0,te=!1,ne=void 0;try{for(var re,ie=r[Symbol.iterator]();!(ee=(re=ie.next()).done);ee=!0){var ae=re.value;ae.inferenceRule===n&&Q.push(ae)}}catch(ge){te=!0,ne=ge}finally{try{ee||null==ie.return||ie.return()}finally{if(te)throw ne}}r=Q}var oe=this.props.dag.computeNodesInActiveDag(this.props.currentTime),se=new Array,le=!0,ce=!1,ue=void 0;try{for(var de,he=r[Symbol.iterator]();!(le=(de=he.next()).done);le=!0){var pe=de.value;oe.has(pe.id)&&se.push(pe)}}catch(ge){ce=!0,ue=ge}finally{try{le||null==he.return||he.return()}finally{if(ce)throw ue}}(r=se).sort((function(e,t){var n=e.unit,r=t.unit;return n.toString().length-r.toString().length})),this.props.onUpdateNodeSelection(r.map((function(e){return e.id}))),this.setState({foundNodes:r})}}]),t}(r.Component)),pe=(n(75),function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.createElement("section",{className:"component-node-card"},r.createElement("article",null,r.createElement("h2",null,"Select Nodes"),r.createElement(de,{nodeSelection:this.props.nodeSelection,onSelectParents:this.props.onSelectParents,onSelectChildren:this.props.onSelectChildren,onSelectCommonConsequences:this.props.onSelectCommonConsequences}),r.createElement(he,{dag:this.props.dag,currentTime:this.props.currentTime,onUpdateNodeSelection:this.props.onUpdateNodeSelection})))}}]),t}(r.Component)),ge=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){null===this.props.dag&&(x(0===this.props.nodeSelection.length),x(!this.props.multipleVersions));var e=!this.props.readOnly&&null!==this.props.dag,t=e&&this.props.multipleVersions,n=e&&this.props.nodeSelection.length>0&&!this.props.dag.isPassiveDag,i=e&&this.props.nodeSelection.length>0;return r.createElement("div",{className:"scroll"},r.createElement("aside",null,r.createElement(ce,{undoEnabled:t,filterUpEnabled:n,filterDownEnabled:n,passiveDagButtonEnabled:i,onUndo:this.props.onUndo,onRenderParentsOnly:this.props.onRenderParentsOnly,onRenderChildrenOnly:this.props.onRenderChildrenOnly,onShowPassiveDag:this.props.onShowPassiveDag}),r.createElement(pe,{dag:this.props.dag,currentTime:this.props.currentTime,nodeSelection:this.props.nodeSelection,onUpdateNodeSelection:this.props.onUpdateNodeSelection,onSelectParents:this.props.onSelectParents,onSelectChildren:this.props.onSelectChildren,onSelectCommonConsequences:this.props.onSelectCommonConsequences}),r.createElement(A,{dag:this.props.dag,nodeSelection:this.props.nodeSelection,currentTime:this.props.currentTime,infoToggle:this.props.infoToggle,editToggle:this.props.editToggle,onLiteralOrientationChange:this.props.onLiteralOrientationChange,onLiteralRepresentationChange:this.props.onLiteralRepresentationChange,onToggleInfo:this.props.onToggleInfo,onToggleEdit:this.props.onToggleEdit})))}}]),t}(r.Component);n(76);function ve(e,t){x(e.length===t.length);for(var n=0;n<e.length;n++){var r=e[n],i=t[n];r.setLiteralInParent(i)}}function fe(e,t,n,r){x(r?e.length<t.length:e.length+1===t.length);for(var i=!1,a=0,o=0;a<e.length;){var s=e[a],l=t[o];W(s,l,n)?(s.setLiteralInParent(l),a+=1,o+=1):(x(!i||r,"case 2 error:\n".concat(e.toString(),"\n").concat(t.toString())),i=!0,o+=1)}}function me(e,t,n,r){x(e.length===t.length,"case 3 error:\n".concat(e.toString(),"\n").concat(t.toString()));for(var i=!1,a=1;a<e.length;){var o=e[a],s=t[a-1];if(!W(o,s,n)){e[0].setLiteralInParent(t[a-1]),i=!0;break}o.setLiteralInParent(s),a+=1}for(i||(x(a===e.length),e[0].setLiteralInParent(t[t.length-1]));a<e.length;){var l=e[a],c=t[a];r||x(W(l,c,n),"case 3 error: literal ".concat(a," doesn't match parent literal.\n").concat(e.toString(),"\n").concat(t.toString(),"\n")),l.setLiteralInParent(c),a+=1}}function ye(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e.nodes.values()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if(!o.isBoundary&&"Clause"===o.unit.type){var s=o.unit;if("evaluation"===o.inferenceRule||"forward subsumption demodulation"===o.inferenceRule||"term algebras injectivity"===o.inferenceRule&&1===o.parents.length||"subsumption resolution"===o.inferenceRule||"equality resolution"===o.inferenceRule||"trivial inequality removal"===o.inferenceRule||"factoring"===o.inferenceRule||"duplicate literal removal"===o.inferenceRule||"term algebras distinctness"===o.inferenceRule&&1===o.parents.length||"forward demodulation"===o.inferenceRule||"backward demodulation"===o.inferenceRule||"equality factoring"===o.inferenceRule){x(o.parents.length>0);var l=e.get(o.parents[0]);if("Clause"===l.unit.type){var c=l.unit;x(null!==o.newTime),x(null!==l.newTime);var u=null!==l.activeTime&&l.activeTime<=o.newTime?c.literalsActiveEvent:c.literalsNewEvent,d=s.literalsNewEvent;if(x(null!==u),x(null!==d),"evaluation"===o.inferenceRule&&d.length===u.length||"forward subsumption demodulation"===o.inferenceRule||"term algebras injectivity"===o.inferenceRule)ve(d,u);else if("subsumption resolution"===o.inferenceRule||"equality resolution"===o.inferenceRule||"trivial inequality removal"===o.inferenceRule||"factoring"===o.inferenceRule||"duplicate literal removal"===o.inferenceRule||"term algebras distinctness"===o.inferenceRule||"evaluation"===o.inferenceRule&&d.length+1===u.length){fe(d,u,"equality resolution"===o.inferenceRule||"factoring"===o.inferenceRule,"trivial inequality removal"===o.inferenceRule||"duplicate literal removal"===o.inferenceRule)}else if("forward demodulation"===o.inferenceRule||"backward demodulation"===o.inferenceRule||"equality factoring"===o.inferenceRule){me(d,u,"equality factoring"===o.inferenceRule,!1)}}}else if("resolution"===o.inferenceRule||"superposition"===o.inferenceRule){x(2===o.parents.length);var h=e.get(o.parents[0]),p=e.get(o.parents[1]);if("Clause"===h.unit.type&&"Clause"===p.unit.type){var g=h.unit,v=p.unit;x(null!==o.newTime),x(null!==h.newTime),x(null!==p.newTime);var f=null!==h.activeTime&&h.activeTime<=o.newTime,m=null!==p.activeTime&&p.activeTime<=o.newTime,y=f?g.literalsActiveEvent:g.literalsNewEvent,b=m?v.literalsActiveEvent:v.literalsNewEvent,S=s.literalsNewEvent;if(x(null!==y),x(null!==b),x(null!==S),x(y.length>0),x(b.length>0),"resolution"===o.inferenceRule){x(S.length+2===y.length+b.length);var w=y.length-1;fe(S.slice(0,w),y,!0,!1),fe(S.slice(w,S.length),b,!0,!1)}else if("superposition"===o.inferenceRule){x(S.length+1===y.length+b.length);var k=y.length;me(S.slice(0,k),y,!0,!0),fe(S.slice(k,S.length),b,!0,!1)}}}}}}catch(E){n=!0,r=E}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}function be(e,t){x(null===t||e.nodes.has(t));var n=new Set;null!==t&&n.add(t);for(var r=new H(e);r.hasNext();){var i=r.getNext();if(!i.isBoundary&&"Clause"===i.unit.type){var a=i.unit,o=null===t||i.id===t;if(!o){var s=!0,l=!1,c=void 0;try{for(var u,d=i.parents[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var h=u.value;if(n.has(h)){o=!0;break}}}catch(D){l=!0,c=D}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}}if(!o)continue;var p="equality resolution"===i.inferenceRule&&!0===e.get(i.parents[0]).isFromPreprocessing,g="subsumption resolution"===i.inferenceRule||"equality resolution"===i.inferenceRule&&!p||"equality factoring"===i.inferenceRule||"forward demodulation"===i.inferenceRule||"backward demodulation"===i.inferenceRule||"forward subsumption demodulation"===i.inferenceRule||"factoring"===i.inferenceRule||"duplicate literal removal"===i.inferenceRule||"evaluation"===i.inferenceRule||"trivial inequality removal"===i.inferenceRule||"term algebras injectivity"===i.inferenceRule&&1===i.parents.length||"term algebras distinctness"===i.inferenceRule&&1===i.parents.length,v="resolution"===i.inferenceRule||"superposition"===i.inferenceRule,f=new Array,m=new Array,y=new Array,b=!0,S=!1,w=void 0;try{for(var k,E=function(){var t=k.value,n=null,r=t.literalInParent;if("user"!==t.orientationReason&&(g||v)){if(x(null!==r),t.representation=r.representation,g){x(i.parents.length>0);var o=e.get(i.parents[0]);if("Clause"===o.unit.type){var s=o.unit;s.premiseLiterals.find((function(e){return e===r}))?n="premise":s.conclusionLiterals.find((function(e){return e===r}))?n="conclusion":(x(s.contextLiterals.find((function(e){return e===r}))),n="context")}}else if(v){x(2===i.parents.length);var l=e.get(i.parents[0]),c=e.get(i.parents[1]);if("Clause"===l.unit.type&&"Clause"===c.unit.type){var u=l.unit,d=c.unit;u.premiseLiterals.find((function(e){return e===r}))?n="premise":u.conclusionLiterals.find((function(e){return e===r}))?n="conclusion":u.contextLiterals.find((function(e){return e===r}))?n="context":d.premiseLiterals.find((function(e){return e===r}))?n="premise":d.conclusionLiterals.find((function(e){return e===r}))?n="conclusion":(x(d.contextLiterals.find((function(e){return e===r}))),n="context")}}t.orientationReason="inherited"}else"none"!==t.orientationReason?a.premiseLiterals.find((function(e){return e===t}))?n="premise":a.conclusionLiterals.find((function(e){return e===t}))?n="conclusion":(x(a.contextLiterals.find((function(e){return e===t}))),n="context"):(n=t.negated&&"="!==t.name?"premise":"conclusion",t.orientationReason="heuristic");"premise"===n?f.push(t):"conclusion"===n?m.push(t):(x("context"===n),y.push(t))},N=a.premiseLiterals.concat(a.conclusionLiterals,a.contextLiterals)[Symbol.iterator]();!(b=(k=N.next()).done);b=!0)E()}catch(D){S=!0,w=D}finally{try{b||null==N.return||N.return()}finally{if(S)throw w}}var T=!1,C=!0,O=!1,L=void 0;try{for(var P,j=a.premiseLiterals.concat(a.conclusionLiterals,a.contextLiterals)[Symbol.iterator]();!(C=(P=j.next()).done);C=!0){if("user"===P.value.orientationReason){T=!0;break}}}catch(D){O=!0,L=D}finally{try{C||null==j.return||j.return()}finally{if(O)throw L}}if(!T&&g){var A=e.get(i.parents[0]);"Clause"===A.unit.type&&function(){for(var e=A.unit,t=new Map,n=0;n<e.premiseLiterals.length;n++){var r=e.premiseLiterals[n];t.set(r,n)}for(var i=new Map,a=0;a<e.conclusionLiterals.length;a++){var o=e.conclusionLiterals[a];i.set(o,a)}for(var s=new Map,l=0;l<e.contextLiterals.length;l++){var c=e.contextLiterals[l];s.set(c,l)}f.sort((function(e,n){x(null!==e.literalInParent),x(null!==n.literalInParent);var r=t.get(e.literalInParent),i=t.get(n.literalInParent);return x(void 0!==r),x(void 0!==i),r-i})),m.sort((function(e,t){x(null!==e.literalInParent),x(null!==t.literalInParent);var n=i.get(e.literalInParent),r=i.get(t.literalInParent);return x(void 0!==n),x(void 0!==r),n-r})),y.sort((function(e,t){x(null!==e.literalInParent),x(null!==t.literalInParent);var n=s.get(e.literalInParent),r=s.get(t.literalInParent);return x(void 0!==n),x(void 0!==r),n-r}))}()}else if(!T&&v){x(2===i.parents.length);var R=e.get(i.parents[0]),I=e.get(i.parents[1]);"Clause"===R.unit.type&&"Clause"===I.unit.type&&function(){for(var e=R.unit,t=I.unit,n=new Map,r=0;r<e.premiseLiterals.length;r++){var i=e.premiseLiterals[r];n.set(i,r)}for(var a=0;a<t.premiseLiterals.length;a++){var o=t.premiseLiterals[a];n.set(o,a+e.premiseLiterals.length)}for(var s=new Map,l=0;l<e.conclusionLiterals.length;l++){var c=e.conclusionLiterals[l];s.set(c,l)}for(var u=0;u<t.conclusionLiterals.length;u++){var d=t.conclusionLiterals[u];s.set(d,u+e.conclusionLiterals.length)}for(var h=new Map,p=0;p<e.contextLiterals.length;p++){var g=e.contextLiterals[p];h.set(g,p)}for(var v=0;v<t.contextLiterals.length;v++){var b=t.contextLiterals[v];h.set(b,v+e.contextLiterals.length)}f.sort((function(e,t){x(null!==e.literalInParent),x(null!==t.literalInParent);var r=n.get(e.literalInParent),i=n.get(t.literalInParent);return x(void 0!==r),x(void 0!==i),r-i})),m.sort((function(e,t){x(null!==e.literalInParent),x(null!==t.literalInParent);var n=s.get(e.literalInParent),r=s.get(t.literalInParent);return x(void 0!==n),x(void 0!==r),n-r})),y.sort((function(e,t){x(null!==e.literalInParent),x(null!==t.literalInParent);var n=h.get(e.literalInParent),r=h.get(t.literalInParent);return x(void 0!==n),x(void 0!==r),n-r}))}()}a.premiseLiterals=f,a.conclusionLiterals=m,a.contextLiterals=y,n.add(i.id)}}return n}var Se,we=function(){function e(){Object(a.a)(this,e),this.version=1}return Object(o.a)(e,null,[{key:"serializeAppState",value:function(e,t,n){x(!n.isPassiveDag);var r={version:1,problem:e,vampireUserOptions:t,dag:n};return JSON.stringify(r,(function(e,t){if("leaves"!==e&&"mergeMap"!==e&&"isPassiveDag"!==e&&"styleMap"!==e&&"activeNodeId"!==e&&"literalInParent"!==e&&"isVariable"!==e){if("unit"===e)if("Clause"===t.type){var n=t,r=function(e){var t=new Array,r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)for(var l=o.value,c=0;c<n.literalsNewEvent.length;c++){if(l===n.literalsNewEvent[c]){t.push(c);break}}}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return t},i=r(n.premiseLiterals),a=r(n.conclusionLiterals),o=r(n.contextLiterals),s=null===n.literalsActiveEvent?null:r(n.literalsActiveEvent);return{type:"Clause",literalsNewEvent:n.literalsNewEvent,premiseLiterals:i,conclusionLiterals:a,contextLiterals:o,literalsActiveEvent:s}}return t instanceof Set?Array.from(t):t instanceof Map?Array.from(t.entries()):t}}))}},{key:"deserializeAppState",value:function(e){var t=JSON.parse(e);x(void 0!==t.version),x(void 0!==t.problem),x(void 0!==t.vampireUserOptions),x(void 0!==t.dag);var n=this.reconstructDag(t.dag);return[t.version,t.problem,t.vampireUserOptions,n]}},{key:"reconstructDag",value:function(t){x(void 0!==t.nodes);var n=new Map,r=!0,i=!1,a=void 0;try{for(var o,s=t.nodes[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;n.set(l[0],e.reconstructSatNode(l[1]))}}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}var c=new G(n);return ye(c),c}},{key:"reconstructSatNode",value:function(t){x(void 0!==t.id),x(void 0!==t.unit),x(void 0!==t.inferenceRule),x(void 0!==t.parents),x(void 0!==t.statistics),x(void 0!==t.isFromPreprocessing),x(void 0!==t.newTime),x(void 0!==t.activeTime),x(void 0!==t.deletionTime),x(void 0!==t.deletionParents),x(void 0!==t.position),x(void 0!==t.isBoundary);var n=e.reconstructUnit(t.unit),r=new Map,i=!0,a=!1,o=void 0;try{for(var s,l=t.statistics[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;r.set(c[0],c[1])}}catch(d){a=!0,o=d}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}var u=new F(t.id,n,t.inferenceRule,t.parents,r,t.isFromPreprocessing,t.newTime,t.activeTime,t.deletionTime,t.deletionParents,t.isBoundary);return u.position=t.position,u}},{key:"reconstructUnit",value:function(t){if(x(void 0!==t.type),"Formula"===t.type)return x(void 0!==t.formula),new B(t.formula);x(void 0!==t.literalsNewEvent),x(void 0!==t.premiseLiterals),x(void 0!==t.conclusionLiterals),x(void 0!==t.contextLiterals),x(void 0!==t.literalsActiveEvent);var n=t.literalsNewEvent.map((function(t){return e.reconstructLiteral(t)})),r=t.premiseLiterals.map((function(e){return n[e]})),i=t.conclusionLiterals.map((function(e){return n[e]})),a=t.contextLiterals.map((function(e){return n[e]})),o=null===t.literalsActiveEvent?null:t.literalsActiveEvent.map((function(e){return n[e]})),s=new M(n,r,i,a);return s.literalsActiveEvent=o,s}},{key:"reconstructLiteral",value:function(t){x(void 0!==t.name),x(void 0!==t.args),x(void 0!==t.negated),x(void 0!==t.isSelected),x(void 0!==t.representation),x(void 0!==t.hideBracketsAssoc),x(void 0!==t.nonStrictForNegatedStrictInequalities),x(void 0!==t.orientationReason);var n=t.args.map((function(t){return e.reconstructTerm(t)})),r=new U(t.name,n,t.negated);return r.isSelected=t.isSelected,r.representation=t.representation,r.hideBracketsAssoc=t.hideBracketsAssoc,r.nonStrictForNegatedStrictInequalities=t.nonStrictForNegatedStrictInequalities,r.orientationReason=t.orientationReason,r}},{key:"reconstructTerm",value:function(t){x(void 0!==t.name),x(void 0!==t.args);var n=t.args.map((function(t){return e.reconstructTerm(t)}));return new q(t.name,n)}}]),e}();!function(e){e[e.proof=0]="proof",e[e.saturation=1]="saturation",e[e.manualcs=2]="manualcs",e[e.saved=3]="saved"}(Se||(Se={}));var ke=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={state:"waiting",dags:[],nodeSelection:[],currentTime:0,animateDagChanges:!1,changedNodesEvent:void 0,message:"",showPassiveDag:!1,nodeIdToActivate:null,infoToggle:!1,editToggle:!1},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t,n=this.state,i=n.state,a=n.dags,o=n.nodeSelection,s=n.currentTime,l=n.animateDagChanges,c=n.changedNodesEvent,u=n.message,d=n.showPassiveDag;return"loaded"===i||"loaded select"===i?(x(a.length>0),e=a[a.length-1],t=r.createElement(se,{dag:e,showPassiveDag:d,nodeSelection:o,changedNodesEvent:c,historyLength:a[0].maximalActiveTime(),currentTime:s,animateDagChanges:l,infoToggle:this.state.infoToggle,editToggle:this.state.editToggle,readOnly:this.props.mode===Se.saved,onNodeSelectionChange:this.updateNodeSelection.bind(this),onCurrentTimeChange:this.updateCurrentTime.bind(this),onDismissPassiveDag:this.dismissPassiveDag.bind(this),onUpdateNodePositions:this.updateNodePositions.bind(this),onLiteralOrientationChange:this.changeLiteralOrientation.bind(this),onLiteralRepresentationChange:this.changeLiteralRepresentation.bind(this),onToggleInfo:this.toggleInfo.bind(this),onToggleEdit:this.toggleEdit.bind(this)})):(e=null,t=r.createElement("main",null,r.createElement("section",{className:"graph-placeholder"},u),r.createElement("section",{className:"slider-placeholder"}))),r.createElement("div",{className:"app"},t,r.createElement(ge,{dag:e,currentTime:s,nodeSelection:o,multipleVersions:a.length>1,infoToggle:this.state.infoToggle,editToggle:this.state.editToggle,readOnly:this.props.mode===Se.saved,onUpdateNodeSelection:this.updateNodeSelection.bind(this),onUndo:this.undoLastStep.bind(this),onRenderParentsOnly:this.renderParentsOnly.bind(this),onRenderChildrenOnly:this.renderChildrenOnly.bind(this),onShowPassiveDag:this.showPassiveDag.bind(this),onSelectParents:this.selectParents.bind(this),onSelectChildren:this.selectChildren.bind(this),onSelectCommonConsequences:this.selectCommonConsequences.bind(this),onLiteralOrientationChange:this.changeLiteralOrientation.bind(this),onLiteralRepresentationChange:this.changeLiteralRepresentation.bind(this),onToggleInfo:this.toggleInfo.bind(this),onToggleEdit:this.toggleEdit.bind(this)}))}},{key:"componentDidMount",value:function(){var e=Object(m.a)(v.a.mark((function e(){var t,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.mode!==Se.saved){e.next=5;break}t=we.deserializeAppState(this.props.loadedProblem||"{}"),n=Object(f.a)(t,4),r=n[3],this.setState({state:"loaded",dags:[r],nodeSelection:[],currentTime:r.maximalActiveTime(),animateDagChanges:!1}),e.next=8;break;case 5:return e.next=7,this.runVampire(this.props.problem,this.props.vampireUserOptions,this.props.mode);case 7:"loaded select"===this.state.state&&this.props.mode===Se.manualcs&&this.selectFinalPreprocessingClauses();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialize",value:function(){return x("loaded"===this.state.state||"loaded select"===this.state.state),x(this.state.dags.length>0),we.serializeAppState(this.props.problem,this.props.vampireUserOptions,this.state.dags[0])}},{key:"updateNodeSelection",value:function(e){this.props.logging&&console.log("Updating node selection to [".concat(e.toString(),"]")),this.setState({nodeSelection:e})}},{key:"updateCurrentTime",value:function(e){this.props.logging&&console.log("Updating current time to ".concat(e));var t=this.state.dags;x(t.length>0);var n=t[t.length-1].computeNodesInActiveDag(e),r=new Array,i=!0,a=!1,o=void 0;try{for(var s,l=this.state.nodeSelection[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;n.has(c)&&r.push(c)}}catch(u){a=!0,o=u}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}this.setState({nodeSelection:r,currentTime:e})}},{key:"jsonToParsedLines",value:function(e){var t=new Array,n=!0,r=!1,i=void 0;try{for(var a,o=e.lines[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,l=new Map;for(var c in s.statistics){var u=s.statistics[c];"number"===typeof u&&l.set(c,u)}t.push(new K(s.lineType,s.unitId,s.unitString,s.inferenceRule,s.parents,l))}}catch(d){r=!0,i=d}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t}},{key:"runVampire",value:function(){var e=Object(m.a)(v.a.mark((function e(t,n,r){var i,a,o,s,l,c,u,d,h,p,g,f,m,y,b;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(r!==Se.saved,"Saved mode does not require vampire."),this.setState({state:"waiting",message:"Waiting for Vampire...",dags:[],nodeSelection:[],currentTime:0}),i=r===Se.manualcs?"http://localhost:5000/vampire/startmanualcs":"http://localhost:5000/vampire/start",this.props.logging&&console.log("Starting request to url '".concat(i,"' with Vampire-user-options '").concat(n,"'.")),e.next=6,fetch(i,{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({file:t,vampireUserOptions:n})});case 6:return a=e.sent,e.prev=7,e.next=10,a.json();case 10:if(o=e.sent,this.props.logging&&console.log("Received response from Vampire server."),"success"!==o.status){e.next=76;break}if(x("running"===o.vampireState||"refutation"===o.vampireState||"saturation"===o.vampireState||"timeout"===o.vampireState),r!==Se.proof){e.next=24;break}if(x("running"!==o.vampireState),"saturation"!==o.vampireState){e.next=19;break}return this.setState({state:"error",message:"Saturation: Vampire saturated, so there exists no proof!",dags:[],nodeSelection:[],currentTime:0}),e.abrupt("return");case 19:if("timeout"!==o.vampireState){e.next=22;break}return this.setState({state:"error",message:"Timeout: Vampire could not find a proof in the given time!",dags:[],nodeSelection:[],currentTime:0}),e.abrupt("return");case 22:e.next=27;break;case 24:if("saturation"!==o.vampireState||0!==o.lines.length){e.next=27;break}return this.setState({state:"error",message:"The example was already identified to be satisfiable during Vampire's preprocessing.",dags:[],nodeSelection:[],currentTime:0}),e.abrupt("return");case 27:if(this.props.logging&&console.log("Constructing Vampire-saturation-events from received JSON."),s=this.jsonToParsedLines(o),this.props.logging&&console.log("Constructing saturation graph from Vampire-saturation-events."),l=G.fromParsedLines(s,null),this.props.logging&&console.log("Merging preprocessing-subgraph of saturation graph."),l=Z(l),r!==Se.proof){e.next=66;break}x(l.isRefutation),c=!0,u=!1,d=void 0,e.prev=38,h=l.nodes.values()[Symbol.iterator]();case 40:if(c=(p=h.next()).done){e.next=52;break}if("Clause"!==(g=p.value).unit.type){e.next=49;break}if(0!==(f=g.unit).premiseLiterals.length||0!==f.conclusionLiterals.length){e.next=49;break}return(m=new Set).add(g.id),l=X(l,m),e.abrupt("break",52);case 49:c=!0,e.next=40;break;case 52:e.next=58;break;case 54:e.prev=54,e.t0=e.catch(38),u=!0,d=e.t0;case 58:e.prev=58,e.prev=59,c||null==h.return||h.return();case 61:if(e.prev=61,!u){e.next=64;break}throw d;case 64:return e.finish(61);case 65:return e.finish(58);case 66:return this.props.logging&&console.log("Computing layout for saturation graph."),e.next=69,ae.layoutDag(l,!0);case 69:this.props.orientClauses&&(this.props.logging&&console.log("Computing literal flows for saturation graph."),ye(l),this.props.logging&&console.log("Computing clause representations for saturation graph."),be(l,null)),this.setLiteralOptions(l),y=r===Se.manualcs&&"running"===o.vampireState?"loaded select":"loaded",this.setState({state:y,dags:[l],nodeSelection:[],currentTime:l.maximalActiveTime(),animateDagChanges:!1}),this.props.logging&&console.log("Finished preparation of saturation graph."),e.next=80;break;case 76:x("error"===o.status),x(void 0!==(b=o.message)&&null!==b),this.setState({state:"error",message:b,dags:[],nodeSelection:[],currentTime:0});case 80:e.next=87;break;case 82:if(e.prev=82,e.t1=e.catch(7),"SatVisAssertionError"!==e.t1.name){e.next=86;break}throw e.t1;case 86:this.setState({state:"error",message:"Error: ".concat(e.t1.message),dags:[],nodeSelection:[],currentTime:0});case 87:case"end":return e.stop()}}),e,this,[[7,82],[38,54,58,66],[59,,61,65]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"selectClause",value:function(){var e=Object(m.a)(v.a.mark((function e(t,n){var r,i,a,o,s,l,c,u,d,h,p,g,m,y,b,S,w,k,E,N,T,C,O,L,P,j;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(this.state.dags.length>=1),r=this.state.dags[this.state.dags.length-1],i=r.computeNodesInActiveDag(r.maximalActiveTime()),x(null!==r.mergeMap),a="http://localhost:5000/vampire/select",this.props.logging&&console.log("Starting request to url '".concat(a,"' with selected-id '").concat(t,"'.")),e.next=8,fetch(a,{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:t})});case 8:return o=e.sent,e.prev=9,e.next=12,o.json();case 12:if(s=e.sent,this.props.logging&&console.log("Received response from Vampire server."),"success"!==s.status){e.next=71;break}for(this.props.logging&&console.log("Constructing Vampire-saturation-events from received JSON."),l=this.jsonToParsedLines(s),this.props.logging&&console.log("Extending existing saturation graph with Vampire-saturation-events."),c=G.fromParsedLines(l,r),u=c.computeNodesInActiveDag(c.maximalActiveTime()),d=new Map,h=!0,p=!1,g=void 0,e.prev=24,m=c.nodes[Symbol.iterator]();!(h=(y=m.next()).done);h=!0)b=Object(f.a)(y.value,2),S=b[0],w=b[1],!i.has(S)&&u.has(S)&&d.set(S,w);e.next=32;break;case 28:e.prev=28,e.t0=e.catch(24),p=!0,g=e.t0;case 32:e.prev=32,e.prev=33,h||null==m.return||m.return();case 35:if(e.prev=35,!p){e.next=38;break}throw g;case 38:return e.finish(35);case 39:return e.finish(32);case 40:if(!(d.size>0)){e.next=44;break}return this.props.logging&&console.log("Extending layout to new nodes of saturation graph."),e.next=44,ae.layoutNodesAtPosition(d,n);case 44:for(this.props.orientClauses&&(this.props.logging&&console.log("Updating literal flows for saturation graph."),ye(c),this.props.logging&&console.log("Updating clause representations for saturation graph."),be(c,null)),this.setLiteralOptions(c),k="running"===s.vampireState?"loaded select":"loaded",E=new Array,N=!0,T=!1,C=void 0,e.prev=51,O=d.keys()[Symbol.iterator]();!(N=(L=O.next()).done);N=!0)P=L.value,E.push(P);e.next=59;break;case 55:e.prev=55,e.t1=e.catch(51),T=!0,C=e.t1;case 59:e.prev=59,e.prev=60,N||null==O.return||O.return();case 62:if(e.prev=62,!T){e.next=65;break}throw C;case 65:return e.finish(62);case 66:return e.finish(59);case 67:this.setState({state:k,dags:[c],nodeSelection:E,currentTime:c.maximalActiveTime(),animateDagChanges:!0}),this.props.logging&&console.log("Finished extension of saturation graph."),e.next=75;break;case 71:x("error"===s.status),x(void 0!==(j=s.message)&&null!==j),this.setState({state:"error",message:j,dags:[],nodeSelection:[],currentTime:0});case 75:e.next=82;break;case 77:if(e.prev=77,e.t2=e.catch(9),"SatVisAssertionError"!==e.t2.name){e.next=81;break}throw e.t2;case 81:this.setState({state:"error",message:"Error: ".concat(e.t2.message),dags:[],nodeSelection:[],currentTime:0});case 82:case"end":return e.stop()}}),e,this,[[9,77],[24,28,32,40],[33,,35,39],[51,55,59,67],[60,,62,66]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"selectFinalPreprocessingClauses",value:function(){var e=Object(m.a)(v.a.mark((function e(){var t,n,r,i,a,o,s,l,c,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.logging&&console.log("Starting to select all clauses from preprocessing."),t=!1;case 2:if("loaded select"!==this.state.state||t){e.next=38;break}n=this.state.dags[0],t=!0,r=!0,i=!1,a=void 0,e.prev=8,o=n.nodes[Symbol.iterator]();case 10:if(r=(s=o.next()).done){e.next=22;break}if(l=Object(f.a)(s.value,2),c=l[0],!(u=l[1]).isFromPreprocessing||null===u.newTime){e.next=19;break}if(null!==u.activeTime||null!==u.deletionTime){e.next=19;break}return x(null!==u.position),e.next=17,this.selectClause(c,u.position);case 17:return t=!1,e.abrupt("break",22);case 19:r=!0,e.next=10;break;case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(8),i=!0,a=e.t0;case 28:e.prev=28,e.prev=29,r||null==o.return||o.return();case 31:if(e.prev=31,!i){e.next=34;break}throw a;case 34:return e.finish(31);case 35:return e.finish(28);case 36:e.next=2;break;case 38:this.props.logging&&console.log("Finished to select all clauses from preprocessing.");case 39:case"end":return e.stop()}}),e,this,[[8,24,28,36],[29,,31,35]])})));return function(){return e.apply(this,arguments)}}()},{key:"undoLastStep",value:function(){this.props.logging&&console.log("Pop last saturation graph from the stack."),this.popDag()}},{key:"renderParentsOnly",value:function(){var e=Object(m.a)(v.a.mark((function e(){var t,n,r,i,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,n=t.dags,r=t.nodeSelection,i=n[n.length-1],this.props.logging&&console.log("Generate saturation graph which consists only of the (transitive) parents of clauses [".concat(r,"].")),a=X(i,new Set(r)),this.props.logging&&console.log("Computing layout for new saturation graph."),e.next=7,ae.layoutDag(a,!0);case 7:this.props.logging&&console.log("Finished preparation of new saturation graph. Pushing it to the stack."),this.pushDag(a);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderChildrenOnly",value:function(){var e=Object(m.a)(v.a.mark((function e(){var t,n,r,i,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,n=t.dags,r=t.nodeSelection,i=n[n.length-1],this.props.logging&&console.log("Generate saturation graph which consists only of the (transitive) children of clauses [".concat(r,"].")),a=_(i,new Set(r)),this.props.logging&&console.log("Computing layout for new saturation graph."),e.next=7,ae.layoutDag(a,!0);case 7:this.props.logging&&console.log("Finished preparation of new saturation graph. Pushing it to the stack."),this.pushDag(a);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showPassiveDag",value:function(){var e=Object(m.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!1===this.state.showPassiveDag),x(this.state.nodeSelection.length>0),this.props.logging&&console.log("Display selection graph containing all clauses which can be selected for activation and whose derivation contains all the clauses [".concat(this.state.nodeSelection,"].")),this.setState({showPassiveDag:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dismissPassiveDag",value:function(){var e=Object(m.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(null===t===(null===n)),x(!0===this.state.showPassiveDag),this.setState({showPassiveDag:!1}),null===t){e.next=9;break}return this.props.logging&&console.log("Removing selection graph. Clause ".concat(t," was selected.")),e.next=7,this.selectClause(t,n);case 7:e.next=10;break;case 9:this.props.logging&&console.log("Removing selection graph. No clause was selected.");case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"selectParents",value:function(){var e=this.state,t=e.dags,n=e.nodeSelection,r=e.currentTime,i=t[t.length-1],a=i.computeNodesInActiveDag(r),o=new Set(n),s=!0,l=!1,c=void 0;try{for(var u,d=n[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var h=u.value;x(a.has(h));var p=!0,g=!1,v=void 0;try{for(var f,m=i.get(h).parents[Symbol.iterator]();!(p=(f=m.next()).done);p=!0){var y=f.value;a.has(y)&&o.add(y)}}catch(b){g=!0,v=b}finally{try{p||null==m.return||m.return()}finally{if(g)throw v}}}}catch(b){l=!0,c=b}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}this.updateNodeSelection(Array.from(o))}},{key:"selectChildren",value:function(){var e=this.state,t=e.dags,n=e.nodeSelection,r=e.currentTime,i=t[t.length-1],a=i.computeNodesInActiveDag(r),o=new Set(n),s=!0,l=!1,c=void 0;try{for(var u,d=n[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var h=u.value;x(a.has(h));var p=!0,g=!1,v=void 0;try{for(var f,m=i.getChildren(h)[Symbol.iterator]();!(p=(f=m.next()).done);p=!0){var y=f.value;a.has(y)&&o.add(y)}}catch(b){g=!0,v=b}finally{try{p||null==m.return||m.return()}finally{if(g)throw v}}}}catch(b){l=!0,c=b}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}this.updateNodeSelection(Array.from(o))}},{key:"selectCommonConsequences",value:function(){var e=this.state,t=e.dags,n=e.nodeSelection,r=e.currentTime,i=t[t.length-1],a=i.computeNodesInActiveDag(r),o=function(e,t){for(var n=new Array,r=new Map,i=new H(e);i.hasNext();){var a=i.getNext(),o=a.id,s=new Set;t.has(o)&&s.add(o);var l=!0,c=!1,u=void 0;try{for(var d,h=a.parents[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value,g=r.get(p),v=!0,f=!1,m=void 0;try{for(var y,b=g[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var S=y.value;s.add(S)}}catch(w){f=!0,m=w}finally{try{v||null==b.return||b.return()}finally{if(f)throw m}}}}catch(w){c=!0,u=w}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}r.set(o,s),t.size===s.size&&n.push(o)}return n}(i,new Set(n)),s=new Array,l=!0,c=!1,u=void 0;try{for(var d,h=o[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;a.has(p)&&s.push(p)}}catch(g){c=!0,u=g}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}this.updateNodeSelection(s)}},{key:"changeLiteralOrientation",value:function(e,t,n){var r=this.state.dags;x(r.length>0);var i=r[0],a=i.nodes.get(e);x(void 0!==a),x("Clause"===a.unit.type),a.unit.changeLiteralOrientation(t,n);var o=be(i,e);this.setState({changedNodesEvent:o})}},{key:"changeLiteralRepresentation",value:function(e,t){var n=this.state.dags;x(n.length>0);var r=n[0];x(void 0!==r.nodes.get(e)),t.switchToNextRepresentation();var i=be(r,e);this.setState({changedNodesEvent:i})}},{key:"updateNodePositions",value:function(e,t){var n=this.state.dags;x(this.state.dags.length>0);var r=n[n.length-1],i=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value,u=r.get(c);x(null!==u.position),u.position=[u.position[0]+t[0],u.position[1]+t[1]]}}catch(d){a=!0,o=d}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}}},{key:"pushDag",value:function(e){x(!e.isPassiveDag);var t=this.state,n=t.dags,r=t.nodeSelection,i=new Array,a=!0,o=!1,s=void 0;try{for(var l,c=r[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value;e.nodes.has(u)&&i.push(u)}}catch(d){o=!0,s=d}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}this.setState({dags:n.concat([e]),nodeSelection:i,animateDagChanges:!1})}},{key:"popDag",value:function(){x(this.state.dags.length>1,"Undo last step must only be called if there exist at least two dags"),this.setState((function(e,t){return{dags:e.dags.slice(0,e.dags.length-1),animateDagChanges:!1}}))}},{key:"setLiteralOptions",value:function(e){var t=this.props.hideBracketsAssoc,n=this.props.nonStrictForNegatedStrictInequalities,r=!0,i=!1,a=void 0;try{for(var o,s=e.nodes.values()[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;if("Clause"===l.unit.type){var c=l.unit,u=!0,d=!1,h=void 0;try{for(var p,g=c.premiseLiterals[Symbol.iterator]();!(u=(p=g.next()).done);u=!0){var v=p.value;v.hideBracketsAssoc=t,v.nonStrictForNegatedStrictInequalities=n}}catch(k){d=!0,h=k}finally{try{u||null==g.return||g.return()}finally{if(d)throw h}}var f=!0,m=!1,y=void 0;try{for(var b,S=c.conclusionLiterals[Symbol.iterator]();!(f=(b=S.next()).done);f=!0){var w=b.value;w.hideBracketsAssoc=t,w.nonStrictForNegatedStrictInequalities=n}}catch(k){m=!0,y=k}finally{try{f||null==S.return||S.return()}finally{if(m)throw y}}}}}catch(k){i=!0,a=k}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}}},{key:"toggleInfo",value:function(){this.setState({infoToggle:!this.state.infoToggle})}},{key:"toggleEdit",value:function(){this.setState({editToggle:!this.state.editToggle})}}]),t}(r.Component),xe=(n(77),function(e){function t(){var e,n;Object(a.a)(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).app=r.createRef(),n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.createElement("div",{id:"appWrapper"},r.createElement(p,{name:this.props.mode===Se.saved?"".concat(this.props.loadedProblemName," (read-only)"):this.props.name,onSave:function(){return e.save()}}),r.createElement(ke,{ref:this.app,problem:this.props.problem,loadedProblem:this.props.loadedProblem,vampireUserOptions:this.props.vampireUserOptions,mode:this.props.mode,hideBracketsAssoc:this.props.hideBracketsAssoc,nonStrictForNegatedStrictInequalities:this.props.nonStrictForNegatedStrictInequalities,orientClauses:this.props.orientClauses,logging:this.props.logging}))}},{key:"save",value:function(){if(this.app.current){var e=this.app.current.serialize(),t=document.createElement("a"),n=new Blob([e],{type:"text/plain"});t.href=URL.createObjectURL(n),t.download=this.generateFilename(),document.body.appendChild(t),t.click()}}},{key:"generateFilename",value:function(){var e=(this.props.name||"").split(".")[0];return"".concat(e||"satvis","-saved.txt")}}]),t}(r.Component)),Ee=(n(78),n(40)),Ne=n(13);function Te(e){var t=Object(d.e)(),n=r.createRef();return r.createElement("section",{className:"load-component"},r.createElement("button",{className:"load-button",type:"button",onClick:function(){return n.current&&n.current.click()}},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},r.createElement("use",{xlinkHref:"".concat(Ne,"#save-upload")})),r.createElement("span",null,"Load saved proof")),r.createElement("input",{ref:n,type:"file",onChange:function(n){if(null!==n.target.files&&n.target.files.length>0){var r=n.target.files[0],i=new FileReader;i.onloadend=function(){var n=i.result?i.result:"";e.onLoadSavedProblemData(n,r.name),t.push("/saved/")},i.readAsText(r)}}}))}var Ce=n(13),Oe=function(e){function t(){var e,n;Object(a.a)(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).isChromeOrFirefox=navigator.userAgent.indexOf("Chrome")>-1||navigator.userAgent.indexOf("Firefox")>-1,n.fileUpload=r.createRef(),n.monacoDiv=r.createRef(),n.monaco=null,n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.isChromeOrFirefox&&(this.monaco=Ee.a.create(this.monacoDiv.current,{lineNumbers:"off",roundedSelection:!1,scrollBeyondLastLine:!1,scrollBeyondLastColumn:0,minimap:{enabled:!1},renderLineHighlight:"none",hideCursorInOverviewRuler:!0,links:!1,overviewRulerBorder:!1,automaticLayout:!0,lineDecorationsWidth:0,lineNumbersMinChars:0,wordWrap:"wordWrapColumn"}),this.monaco.setValue(this.props.problem),this.monaco.getModel().onDidChangeContent((function(){e.props.onChangeProblem(e.monaco.getModel().getValue())})))}},{key:"componentDidUpdate",value:function(e){x(this.isChromeOrFirefox),this.props.problem!==e.problem&&this.monaco.setValue(this.props.problem)}},{key:"render",value:function(){return this.isChromeOrFirefox?r.createElement("section",{className:"component-menu"},r.createElement("h1",null,"Vampire Saturation Visualization"),r.createElement("section",{className:"editor"},r.createElement("div",{className:"editor-spacer"},r.createElement("main",null,r.createElement("div",{className:"headline-wrapper"},r.createElement("h2",null,"Input"),r.createElement("small",{className:"file-name"},this.props.problemName),r.createElement("button",{title:"Pick a new file",onClick:this.chooseFile.bind(this)},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},r.createElement("use",{xlinkHref:"".concat(Ce,"#graph-upload")})))),r.createElement("input",{ref:this.fileUpload,type:"file",onChange:this.uploadEncoding.bind(this)}),r.createElement("div",{ref:this.monacoDiv,className:"monaco"})),r.createElement("aside",null,r.createElement("fieldset",{className:"options-card"},r.createElement("h3",null,"Vampire Options"),r.createElement("ul",null,r.createElement("li",null,r.createElement("label",{htmlFor:"inputSyntax",className:"form-label"},"Input language"),r.createElement("select",{id:"inputSyntax",onChange:this.changeInputSyntax.bind(this),value:this.props.inputSyntax},r.createElement("option",{value:"smtlib"},"SMTLIB"),r.createElement("option",{value:"tptp"},"TPTP"))),r.createElement("li",null,r.createElement("label",{htmlFor:"userOptions",className:"form-label"},"Additional Vampire options"),r.createElement("input",{id:"userOptions",type:"text",onChange:this.changeVampireUserOptions.bind(this),value:this.props.vampireUserOptions})))),r.createElement("fieldset",{className:"options-card"},r.createElement("h3",null,"Visualization Options"),r.createElement("ul",null,r.createElement("li",null,r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.props.hideBracketsAssoc,onChange:this.changeHideBracketsAssoc.bind(this)}),"Hide brackets for associative operators")),r.createElement("li",null,r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.props.nonStrictForNegatedStrictInequalities,onChange:this.changeNonStrictForNegatedStrictInequalities.bind(this)}),"Show negated strict inequalities as (positive) nonstrict inequalities")),r.createElement("li",null,r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.props.orientClauses,onChange:this.changeOrientClauses.bind(this)}),"Heuristically orient clauses")),r.createElement("li",null,r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.props.logging,onChange:this.changeLogging.bind(this)}),"Logging enabled")))),r.createElement("div",{className:"run-options"},r.createElement(u.b,{to:"/proof/",className:"fake-button"},"Find proof"),r.createElement(u.b,{to:"/saturation/",className:"fake-button"},"Find saturation"),r.createElement(u.b,{to:"/manualcs/",className:"fake-button"},"Start manual clause selection"))))),r.createElement(Te,{onLoadSavedProblemData:this.props.onLoadSavedProblemData})):r.createElement("section",{className:"unsupported-message"},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},r.createElement("use",{xlinkHref:"".concat(Ce,"#alert-triangle")})),r.createElement("span",null,"Your current browser is not supported. Please use Chrome or Firefox!"))}},{key:"chooseFile",value:function(){this.fileUpload.current&&this.fileUpload.current.click()}},{key:"uploadEncoding",value:function(e){var t=this;if(null!==e.target.files&&e.target.files.length>0){var n=e.target.files[0],r=new FileReader;r.onloadend=function(){var e=r.result?r.result:"";t.props.onChangeProblem(e),t.props.onChangeProblemName(n.name),n.name.endsWith(".smt")||n.name.endsWith(".smtlib")||n.name.endsWith(".smt2")||n.name.endsWith(".smtlib2")?t.props.onChangeInputSyntax("smtlib"):n.name.endsWith(".tptp")&&t.props.onChangeInputSyntax("tptp")},r.readAsText(n)}}},{key:"changeVampireUserOptions",value:function(e){var t=e.target.value;this.props.onChangeVampireUserOptions(t)}},{key:"changeTextArea",value:function(e){var t=e.target.value;this.props.onChangeProblem(t)}},{key:"changeHideBracketsAssoc",value:function(e){var t=e.target.checked;this.props.onChangeHideBracketsAssoc(t)}},{key:"changeNonStrictForNegatedStrictInequalities",value:function(e){var t=e.target.checked;this.props.onChangeNonStrictForNegatedStrictInequalities(t)}},{key:"changeInputSyntax",value:function(e){var t=e.target.value;this.props.onChangeInputSyntax(t)}},{key:"changeOrientClauses",value:function(e){var t=e.target.checked;this.props.onChangeOrientClauses(t)}},{key:"changeLogging",value:function(e){var t=e.target.checked;this.props.onChangeLogging(t)}}]),t}(r.Component),Le=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={problem:"",problemName:"",inputSyntax:"smtlib",vampireUserOptions:"",hideBracketsAssoc:!0,nonStrictForNegatedStrictInequalities:!0,orientClauses:!0,logging:!1},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.createElement(u.a,null,r.createElement(d.a,{path:"/",exact:!0,render:function(){return r.createElement(Oe,{problem:e.state.problem,problemName:e.state.problemName,inputSyntax:e.state.inputSyntax,vampireUserOptions:e.state.vampireUserOptions,hideBracketsAssoc:e.state.hideBracketsAssoc,nonStrictForNegatedStrictInequalities:e.state.nonStrictForNegatedStrictInequalities,orientClauses:e.state.orientClauses,logging:e.state.logging,onChangeProblem:e.changeProblem.bind(e),onChangeProblemName:e.changeProblemName.bind(e),onChangeInputSyntax:e.changeInputSyntax.bind(e),onChangeVampireUserOptions:e.changeVampireUserOptions.bind(e),onChangeHideBracketsAssoc:e.changeHideBracketsAssoc.bind(e),onChangeNonStrictForNegatedStrictInequalities:e.changeNonStrictForNegatedStrictInequalities.bind(e),onChangeOrientClauses:e.changeOrientClauses.bind(e),onChangeLogging:e.changeLogging.bind(e),onLoadSavedProblemData:e.loadSavedProblem.bind(e)})}}),r.createElement(d.a,{path:"/proof/",render:function(){return e.appComponent(Se.proof)}}),r.createElement(d.a,{path:"/saturation/",render:function(){return e.appComponent(Se.saturation)}}),r.createElement(d.a,{path:"/manualcs/",render:function(){return e.appComponent(Se.manualcs)}}),r.createElement(d.a,{path:"/saved/",render:function(){return e.appComponent(Se.saved)}}))}},{key:"appComponent",value:function(e){var t="smtlib"===this.state.inputSyntax?"smtlib2":this.state.inputSyntax,n="".concat(this.state.vampireUserOptions," --input_syntax ").concat(t);return r.createElement(xe,{name:this.state.problemName,mode:e,problem:this.state.problem,loadedProblem:this.state.loadedProblem,loadedProblemName:this.state.loadedProblemName,vampireUserOptions:n,hideBracketsAssoc:this.state.hideBracketsAssoc,nonStrictForNegatedStrictInequalities:this.state.nonStrictForNegatedStrictInequalities,orientClauses:this.state.orientClauses,logging:this.state.logging})}},{key:"changeProblem",value:function(e){this.setState({problem:e})}},{key:"changeProblemName",value:function(e){this.setState({problemName:e})}},{key:"changeVampireUserOptions",value:function(e){this.setState({vampireUserOptions:e})}},{key:"changeHideBracketsAssoc",value:function(e){this.setState({hideBracketsAssoc:e})}},{key:"changeNonStrictForNegatedStrictInequalities",value:function(e){this.setState({nonStrictForNegatedStrictInequalities:e})}},{key:"changeInputSyntax",value:function(e){this.setState({inputSyntax:e})}},{key:"changeOrientClauses",value:function(e){this.setState({orientClauses:e})}},{key:"changeLogging",value:function(e){this.setState({logging:e})}},{key:"loadSavedProblem",value:function(e,t){this.setState({loadedProblem:e,loadedProblemName:t})}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.render(r.createElement(Le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},32:function(e,t){},33:function(e,t){},43:function(e,t,n){e.exports=n(149)},48:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e){e.exports=JSON.parse('{"boundary":{"defaultStyle":{"background":"#77aadd","border":"#4477aa"},"text":"#000000","shape":"box","highlightStyle":{"background":"#ee8866","border":"#ee8866"},"markedStyle":{"background":"#ffaabb","border":"#ee3377"},"hidden":false},"boundary-hidden":{"defaultStyle":{"background":"#77aadd","border":"#4477aa"},"text":"#000000","shape":"box","highlightStyle":{"background":"#ee8866","border":"#ee8866"},"markedStyle":{"background":"#ffaabb","border":"#ee3377"},"hidden":false},"activated":{"defaultStyle":{"background":"#dddddd","border":"#bbbbbb"},"text":"#000000","shape":"box","highlightStyle":{"background":"#ee8866","border":"#ee8866"},"markedStyle":{"background":"#ffaabb","border":"#ee3377"},"hidden":false},"activated-deleted":{"defaultStyle":{"background":"#dddddd","border":"#bbbbbb"},"text":"#000000","shape":"box","highlightStyle":{"background":"#ee8866","border":"#ee8866"},"markedStyle":{"background":"#ffaabb","border":"#ee3377"},"hidden":false},"passive":{"defaultStyle":{"background":"#FF5959","border":"#FF3232"},"text":"#000000","shape":"box","highlightStyle":{"background":"#f8cfc1","border":"#f8cfc1"},"markedStyle":{"background":"#ffdde3","border":"#f8adc8"},"hidden":false},"deleted":{"defaultStyle":{"background":"#f8f8f8","border":"#f1f1f1"},"text":"#999999","shape":"box","highlightStyle":{"background":"#f8cfc1","border":"#f8cfc1"},"markedStyle":{"background":"#ffdde3","border":"#f8adc8"},"hidden":false},"theory-axiom":{"defaultStyle":{"background":"#77aadd","border":"#4477aa"},"text":"#000000","shape":"box","highlightStyle":{"background":"#ee8866","border":"#ee8866"},"markedStyle":{"background":"#ffaabb","border":"#ee3377"},"hidden":false},"theory-axiom-deleted":{"defaultStyle":{"background":"#c8ddf1","border":"#b4c8dd"},"text":"#999999","shape":"box","highlightStyle":{"background":"#f8cfc1","border":"#f8cfc1"},"markedStyle":{"background":"#ffdde3","border":"#f8adc8"},"hidden":false},"conjecture":{"defaultStyle":{"background":"#44bb99","border":"#009988"},"text":"#000000","shape":"box","highlightStyle":{"background":"#ee8866","border":"#ee8866"},"markedStyle":{"background":"#ffaabb","border":"#ee3377"},"hidden":false},"preprocessing":{"defaultStyle":{"background":"#abe0d1","border":"#8cd1c9"},"text":"#000000","shape":"box","highlightStyle":{"background":"#ee8866","border":"#ee8866"},"markedStyle":{"background":"#ffaabb","border":"#ee3377"},"hidden":false},"preprocessing-deleted":{"defaultStyle":{"background":"#abe0d1","border":"#8cd1c9"},"text":"#000000","shape":"box","highlightStyle":{"background":"#ee8866","border":"#ee8866"},"markedStyle":{"background":"#ffaabb","border":"#ee3377"},"hidden":false},"hidden":{"defaultStyle":{"background":"#ffffff00","border":"#ffffff00"},"text":"#ffffff00","shape":"box","highlightStyle":{"background":"#ffffff00","border":"#ffffff00"},"markedStyle":{"background":"#ffffff00","border":"#ffffff00"},"hidden":true}}')},64:function(e,t,n){},71:function(e,t){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){}},[[43,2,3]]]);
//# sourceMappingURL=main.a7aebae3.chunk.js.map