(this["webpackJsonpvisualization-frontend"]=this["webpackJsonpvisualization-frontend"]||[]).push([[1],{12:function(e,t,n){e.exports=n.p+"static/media/all.0974d87f.svg"},147:function(e,t,n){"use strict";n.r(t);var s=n(0),i=n(23),a=(n(45),n(14)),r=n(5);n(46);const o=n(12);class l extends s.Component{render(){return s.createElement("nav",{id:"navigationBar"},s.createElement("button",{onClick:()=>window.history.back()},s.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},s.createElement("use",{xlinkHref:"".concat(o,"#nav-back")})),s.createElement("span",null,"Back")),s.createElement("small",null,this.props.name),s.createElement("button",{id:"saveButton",onClick:()=>this.props.onSave()},s.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},s.createElement("use",{xlinkHref:"".concat(o,"#save-download")})),s.createElement("span",null,"Save")))}}var c=n(2),d=n(3),h=n.n(d),p=n(4),u=n(6);n(48);const g=n(12);class m extends s.Component{constructor(...e){super(...e),this.slider=s.createRef()}render(){const e=this.props,t=e.historyLength,n=e.currentTime,i=e.onCurrentTimeChange;return s.createElement("section",{className:"component-slider"},s.createElement("button",{disabled:n<=0,onClick:()=>i(n-1)},s.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},s.createElement("use",{xlinkHref:"".concat(g,"#history-back")}))),s.createElement("section",{className:"wrapper"},s.createElement("input",{ref:this.slider,type:"range",min:0,max:t,value:n,onChange:()=>i(this.getSliderValue())})),s.createElement("button",{disabled:n>=t,onClick:()=>i(n+1)},s.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},s.createElement("use",{xlinkHref:"".concat(g,"#history-forward")}))))}getSliderValue(){return this.slider.current?parseInt(this.slider.current.value,10):0}}var f=n(20);n(49);class v extends Error{constructor(e){super(e),this.name="SatVisAssertionError"}}function b(e,t=""){if(!e)throw new v("Assertion failed: "+(t||""))}const y=n(50);class S extends s.Component{constructor(...e){super(...e),this.markers=new Set,this.network=null,this.networkNodes=new f.DataSet([]),this.networkEdges=new f.DataSet([]),this.graphContainer=s.createRef(),this.dragStartEvent=null,this.cachedChangeNodesEvent=void 0}componentDidMount(){this.generateNetwork(),this.updateNetwork(!1),this.network.selectNodes(this.props.nodeSelection),this.network.fit()}componentDidUpdate(e){if(this.props.dag!==e.dag)this.updateNetwork(!1),this.network.selectNodes(this.props.nodeSelection),this.props.animateDagChanges?this.network.fit({nodes:this.props.nodeSelection.map(e=>e.toString()),animation:!0}):this.network.fit();else{this.props.nodeSelection!==e.nodeSelection&&this.network.selectNodes(this.props.nodeSelection),this.props.currentTime!==e.currentTime&&this.updateNetwork(!0);const i=this.props.changedNodesEvent;if(i!==e.changedNodesEvent&&(b(void 0!==i),i!==this.cachedChangeNodesEvent)){this.cachedChangeNodesEvent=i;const e=new Array;var t,n=Object(c.a)(i);try{for(n.s();!(t=n.n()).done;){const n=t.value;if(this.props.dag.nodes.has(n)){const t={id:n,label:this.props.dag.get(n).toHTMLString(this.props.currentTime)};e.push(t)}}}catch(s){n.e(s)}finally{n.f()}this.networkNodes.update(e)}}}render(){return s.createElement("section",{className:"component-graph",ref:this.graphContainer},s.createElement("canvas",null))}generateNetwork(){var e=this;b(this.graphContainer.current),b(!this.network),this.network=new f.Network(this.graphContainer.current,{nodes:this.networkNodes,edges:this.networkEdges},{physics:!1,interaction:{multiselect:!1}}),this.network.on("click",function(){var t=Object(u.a)(h.a.mark((function t(n){var s,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.nodes.length>0?(b(1===n.nodes.length),s=n.nodes[0],b(void 0!==(i=n.event.srcEvent)&&null!==i),i.metaKey||i.ctrlKey?void 0!==e.props.nodeSelection.find(e=>e===s)?e.props.onNodeSelectionChange(e.props.nodeSelection.filter(e=>e!==s)):e.props.onNodeSelectionChange(e.props.nodeSelection.concat(n.nodes)):e.props.onNodeSelectionChange(n.nodes)):e.props.onNodeSelectionChange([]);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.network.on("dragStart",e=>{b(void 0!==e&&null!==e),b(void 0!==e.nodes&&null!==e.nodes),this.dragStartEvent=e,e.nodes.length>0&&this.props.onNodeSelectionChange(e.nodes)}),this.network.on("dragEnd",e=>{if(b(void 0!==this.dragStartEvent&&null!==this.dragStartEvent),b(void 0!==this.dragStartEvent.nodes&&null!==this.dragStartEvent.nodes),b(void 0!==e&&null!==e),b(void 0!==e.nodes&&null!==e.nodes),e.nodes.length>0&&!this.props.dag.isPassiveDag){const t=e.pointer.canvas.x-this.dragStartEvent.pointer.canvas.x,n=e.pointer.canvas.y-this.dragStartEvent.pointer.canvas.y;this.props.onUpdateNodePositions(e.nodes,[t/-70,n/-120])}})}updateNetwork(e){const t=this.props,n=t.dag,s=t.currentTime,i=new Array,a=new Array;let r=0;const o=n.isPassiveDag?n.styleMap:this.computeNodePartition(n,s);var l,d=Object(c.a)(n.nodes);try{for(d.s();!(l=d.n()).done;){const e=Object(p.a)(l.value,2),t=e[0],n=e[1],s=o.get(t);if(b(void 0!==s,"invar"),"hidden"===s){const e={id:t,hidden:!0};i.push(e)}else{const e=this.toVisNode(n,s,n.getPosition());i.push(e)}var h,u=Object(c.a)(n.parents);try{for(u.s();!(h=u.n()).done;){const e=h.value,t=this.toVisEdge(r,e,n.id,"hidden"===s);r+=1,a.push(t)}}catch(g){u.e(g)}finally{u.f()}}}catch(g){d.e(g)}finally{d.f()}e?(this.networkNodes.update(i),this.networkEdges.update(a)):(this.networkNodes.clear(),this.networkNodes.add(i),this.networkEdges.clear(),this.networkEdges.add(a))}computeNodePartition(e,t){const n=e.computeNodesInActiveDag(t),s=new Map;var i,a=Object(c.a)(e.nodes);try{for(a.s();!(i=a.n()).done;){const a=Object(p.a)(i.value,2),r=a[0],o=a[1],l=null!==o.deletionTime&&o.deletionTime<=t;if(e.nodeIsTheoryAxiom(r)){s.set(r,l?"theory-axiom-deleted":"theory-axiom");continue}if(o.isFromPreprocessing){"negated conjecture"===o.inferenceRule?s.set(r,"conjecture"):s.set(r,l?"preprocessing-deleted":"preprocessing");continue}null!==o.activeTime&&o.activeTime<=t?s.set(r,l?"activated-deleted":"activated"):n.has(r)?s.set(r,"deleted"):s.set(r,"hidden")}}catch(r){a.e(r)}finally{a.f()}return s}toVisNode(e,t,n){const s=y[t],i=this.markers.has(e.id);return{id:e.id,label:e.toHTMLString(this.props.currentTime),labelHighlightBold:!1,shape:"box",color:{border:i?s.markedStyle.border:s.defaultStyle.border,background:i?s.markedStyle.background:s.defaultStyle.background,highlight:{border:s.highlightStyle.border,background:s.highlightStyle.background}},font:{color:s.text,multi:!0},hidden:!1,x:Math.round(-70*n[0]),y:Math.round(-120*n[1])}}toVisEdge(e,t,n,s){return{id:e,arrows:"to",color:{color:"#dddddd",highlight:"#f8cfc1"},from:t,to:n,smooth:!1,hidden:s}}findNodeAt(e){return this.network.getNodeAt({x:e.layerX,y:e.layerY})}toggleMarker(e){b(this.networkNodes),this.markers.has(e)?this.markers.delete(e):this.markers.add(e),this.updateNetwork(!0)}}var w=n(24),x=n.n(w),k=(n(62),n(37)),E=n.n(k);const N=n(12);class T extends s.Component{constructor(...e){super(...e),this.state={draggable:!1},this.keep=!0,this.toList=(e,t,n)=>{const i="premise"===n?t.premiseLiterals:"conclusion"===n?t.conclusionLiterals:t.contextLiterals;return s.createElement(E.a,{options:{group:"shared"},tag:"ul",id:"premise"===n?"id1":"conclusion"===n?"id2":"id3",onChange:(t,n,s)=>{const i="id1"===s.from.id?"premise":"id2"===s.from.id?"conclusion":"context",a="id1"===s.to.id?"premise":"id2"===s.to.id?"conclusion":"context";i===a&&b(this.keep),this.keep&&this.props.onLiteralOrientationChange(e,[i,s.oldIndex],[a,s.newIndex]),i!==a&&(this.keep=!this.keep)}},i.map((e,t)=>this.toListItem(e,t,n)))},this.toListItem=(e,t,n)=>s.createElement("li",{key:t,"data-id":t,onDoubleClick:t=>{this.props.onLiteralRepresentationChange(this.props.node.id,e),t.currentTarget.innerText=e.toString("premise"===n)}},e.toString("premise"===n))}render(){const e=new Array;e.push("Childs: "+this.props.numberOfTransitiveActivatedChildren.toString());var t,n=Object(c.a)(this.props.node.statistics);try{for(n.s();!(t=n.n()).done;){let n=Object(p.a)(t.value,2),s=n[0],i=n[1];["nSel","inD"].includes(s)||("a"===s?s="Age":"w"===s&&(s="Weight"),e.push("".concat(s,": ").concat(i)))}}catch(i){n.e(i)}finally{n.f()}return s.createElement("section",{className:"component-node-details details"},s.createElement("article",null,s.createElement("h2",null,"Node ",s.createElement("strong",null,this.props.node.id)),s.createElement("div",{className:"button-bar"},s.createElement("button",{className:"toggle-button"+(this.props.infoToggle?" toggled":""),title:this.props.infoToggle?"Hide statistics":"Show statistics",onClick:this.props.onToggleInfo},s.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},s.createElement("use",{xlinkHref:"".concat(N,"#toggle-info")}))),s.createElement("button",{className:"toggle-button"+(this.props.editToggle?" toggled":""),title:this.props.editToggle?"Terminate edit mode":"Enter edit mode",onClick:this.props.onToggleEdit,disabled:"Clause"!==this.props.node.unit.type},s.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},s.createElement("use",{xlinkHref:"".concat(N,"#toggle-edit")})))),s.createElement("h3",null,this.props.node.inferenceRule),this.props.infoToggle&&s.createElement("ul",{className:"stats"},e.map((e,t)=>s.createElement("li",{key:t},e))),"Clause"===this.props.node.unit.type&&this.props.editToggle?s.createElement("section",{className:"literal-wrapper"+(this.state.draggable?" drag":""),onMouseEnter:()=>this.setState({draggable:!0}),onMouseLeave:()=>this.setState({draggable:!1})},this.toList(this.props.node.id,this.props.node.unit,"premise"),s.createElement("span",{className:"separator separator-arrow count-"+this.props.node.unit.premiseLiterals.length},"\u2192"),this.toList(this.props.node.id,this.props.node.unit,"conclusion"),s.createElement("span",{className:"separator separator-line count-"+this.props.node.unit.contextLiterals.length},"\xa0"),this.toList(this.props.node.id,this.props.node.unit,"context")):s.createElement("section",{className:"literal-wrapper read-mode"},this.props.node.unit.toHTMLString(!1))))}}class C extends s.Component{render(){if(1===this.props.nodeSelection.length){const e=this.props.dag.get(this.props.nodeSelection[0]);return s.createElement(T,{node:e,numberOfTransitiveActivatedChildren:this.props.dag.numberOfTransitiveActivatedChildren(e.id,this.props.currentTime),infoToggle:this.props.infoToggle,editToggle:this.props.editToggle,onLiteralOrientationChange:this.props.onLiteralOrientationChange,onLiteralRepresentationChange:this.props.onLiteralRepresentationChange,onToggleInfo:this.props.onToggleInfo,onToggleEdit:this.props.onToggleEdit})}return s.createElement("section",{className:"component-node-details overview"},s.createElement("small",{id:"nodeInfo"},s.createElement("strong",null,"".concat(this.props.nodeSelection.length," nodes"))," selected"))}}const O=n(12);class L extends s.Component{render(){b(this.props.dag.isPassiveDag),b(null!==this.props.dag.styleMap);const e=1===this.props.nodeSelection.length&&"passive"===this.props.dag.styleMap.get(this.props.nodeSelection[0]);return s.createElement("aside",{className:"component-passive-aside"},s.createElement("section",{className:"component-graph-menu"},s.createElement("button",{title:"Select clauses",disabled:!e,onClick:()=>{this.props.onSelectButtonPressed()}},s.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},s.createElement("use",{xlinkHref:"".concat(O,"#graph-s")})))),s.createElement(C,{dag:this.props.dag,nodeSelection:this.props.nodeSelection,currentTime:this.props.currentTime,infoToggle:this.props.infoToggle,editToggle:this.props.editToggle,onLiteralOrientationChange:this.props.onLiteralOrientationChange,onLiteralRepresentationChange:this.props.onLiteralRepresentationChange,onToggleInfo:this.props.onToggleInfo,onToggleEdit:this.props.onToggleEdit}))}}class P{constructor(e,t,n,s,i,a,r,o,l,c,d){this.id=void 0,this.unit=void 0,this.inferenceRule=void 0,this.parents=void 0,this.statistics=void 0,this.isFromPreprocessing=void 0,this.newTime=void 0,this.activeTime=void 0,this.deletionTime=void 0,this.deletionParents=void 0,this.position=void 0,this.isBoundary=void 0,this.id=e,this.unit=t,this.inferenceRule=n,this.parents=s,this.statistics=i,this.isFromPreprocessing=a,this.newTime=r,this.activeTime=o,this.deletionTime=l,this.deletionParents=c,this.position=null,this.isBoundary=d}copy(){return new P(this.id,this.unit,this.inferenceRule,this.parents,this.statistics,this.isFromPreprocessing,this.newTime,this.activeTime,this.deletionTime,this.deletionParents,this.isBoundary)}getPosition(){return b(null!==this.position,"accessing position of node with id ".concat(this.id,", which has not been computed")),this.position}toString(){return this.unit.toString()}toHTMLString(e){const t=null!==this.activeTime&&this.activeTime<=e;return this.unit.toHTMLString(t)}}class j{constructor(e){this.type=void 0,this.formula=void 0,this.type="Formula",this.formula=e}toString(){return this.formula}toHTMLString(e){return this.formula}}class R{constructor(e,t,n,s){this.type=void 0,this.literalsNewEvent=void 0,this.premiseLiterals=void 0,this.conclusionLiterals=void 0,this.contextLiterals=void 0,this.literalsActiveEvent=void 0,this.type="Clause",this.literalsNewEvent=e,this.premiseLiterals=t,this.conclusionLiterals=n,this.contextLiterals=s,this.literalsActiveEvent=null}changeLiteralOrientation(e,t){let n=null;"premise"===e[0]?(b(0<=e[1]),b(e[1]<this.premiseLiterals.length),n=this.premiseLiterals.splice(e[1],1)):"conclusion"===e[0]?(b(0<=e[1]),b(e[1]<this.conclusionLiterals.length),n=this.conclusionLiterals.splice(e[1],1)):(b(0<=e[1]),b(e[1]<this.contextLiterals.length),n=this.contextLiterals.splice(e[1],1)),b(1===n.length);const s=n[0];"premise"===t[0]?(b(0<=t[1]),b(t[1]<=this.premiseLiterals.length),this.premiseLiterals.splice(t[1],0,s)):"conclusion"===t[0]?(b(0<=t[1]),b(t[1]<=this.conclusionLiterals.length),this.conclusionLiterals.splice(t[1],0,s)):(b(0<=t[1]),b(t[1]<=this.contextLiterals.length),this.contextLiterals.splice(t[1],0,s)),s.orientationReason="user"}toString(){if(0===this.premiseLiterals.length&&0===this.conclusionLiterals.length&&0===this.contextLiterals.length)return"$false";return this.premiseLiterals.concat(this.conclusionLiterals,this.contextLiterals).map(e=>e.toString(!1)).join(" | ")}toHTMLString(e){let t=this.premiseLiterals.map(e=>e.isSelected?"<b>"+e.toString(!0)+"</b>":e.toString(!0)).join(" & "),n=this.conclusionLiterals.map(e=>e.isSelected?"<b>"+e.toString(!1)+"</b>":e.toString(!1)).join(" | "),s=this.contextLiterals.map(e=>e.isSelected?"<b>"+e.toString(!1)+"</b>":e.toString(!1)).join(" | "),i=this.premiseLiterals.map(e=>e.toString(!0)).join(" & "),a=this.conclusionLiterals.map(e=>e.toString(!1)).join(" | "),r=this.contextLiterals.map(e=>e.toString(!1)).join(" | ");0===this.conclusionLiterals.length&&(n="$false",a="$false");const o=Math.ceil(.8*Math.max(i.length,a.length,r.length)),l="\u2013".repeat(o);e||(t=i,n=a,s=r);const c=0===this.premiseLiterals.length?n:t+"\n\u2192\n"+n;return 0===this.contextLiterals.length?c:c+"\n"+l+"\n"+s}}class A{constructor(e,t,n){this.name=void 0,this.args=void 0,this.negated=void 0,this.isSelected=void 0,this.representation=void 0,this.hideBracketsAssoc=void 0,this.nonStrictForNegatedStrictInequalities=void 0,this.literalInParent=void 0,this.orientationReason=void 0,this.name=e,this.args=t,this.negated=n,this.isSelected=!1,this.representation=0,this.hideBracketsAssoc=!0,this.nonStrictForNegatedStrictInequalities=!0,this.literalInParent=null,this.orientationReason="none"}setLiteralInParent(e){this.literalInParent=e}switchToNextRepresentation(){"$less"!==this.name&&"Sub"!==this.name&&"="!==this.name||(0===this.representation?this.representation=1:this.representation=0)}toString(e){const t=e?!this.negated:this.negated;if("="===this.name){b(2===this.args.length,"equalities must have exactly two arguments");const e=1===this.representation;return this.args[e?1:0].toString(this.hideBracketsAssoc)+(t?" != ":" = ")+this.args[e?0:1].toString(this.hideBracketsAssoc)}if("$less"===this.name||"Sub"===this.name){b(2===this.args.length,"inequalities must have exactly two arguments");const e=1===this.representation,n=this.args[e?1:0].toString(this.hideBracketsAssoc),s=this.args[e?0:1].toString(this.hideBracketsAssoc);let i;return i=e?t?this.nonStrictForNegatedStrictInequalities?" <= ":" !> ":" > ":t?this.nonStrictForNegatedStrictInequalities?" >= ":" !< ":" < ",n+i+s}return(t?"!":"")+this.name+"("+this.args.map(e=>e.toString(this.hideBracketsAssoc)).join(",")+")"}}class I{constructor(e,t){this.name=void 0,this.args=void 0,this.isVariable=void 0,this.name=e,this.args=t;const n=e.startsWith("X");this.isVariable=n,n&&b(0===this.args.length)}toString(e){let t=this.name;if("$sum"===this.name?t="+":"$uminus"===this.name&&(t="-"),0===this.args.length)return t;if("+"===t){const t=this.args.map(t=>t.toString(e)).join("+");return e?t:"("+t+")"}return t+"("+this.args.map(t=>t.toString(e)).join(",")+")"}}class D{static parsePreprocessingUnit(e){return e.match(/^[a-zA-Z0-9()=,~!$ |']+$/)?D.parseClause(e):new j(e)}static parseClause(e){if("$false"===e)return new R([],[],[],[]);const t=this.parseLiterals(e);return new R(t,[],Array.from(t),[])}static parseLiterals(e){const t=e.split(" | "),n=new Array;for(let s=0;s<t.length;s++)n.push(D.parseLiteral(t[s]));return n}static parseLiteral(e){let t=e.search("=");if(-1!==t){if("("===e[0]&&(b(")"===e[e.length-1]),e=e.substring(1,e.length-1),b(t>0),t-=1),"!"===e[t-1]){b(" "===e[t-2],"negated equality not surrounded by spaces in string ".concat(e)),b(" "===e[t+1],"negated equality not surrounded by spaces in string ".concat(e));const n=e.substring(0,t-2),s=e.substring(t+2,e.length),i=D.parseTerm(n),a=D.parseTerm(s);return new A("=",[i,a],!0)}{b(" "===e[t-1],"equality not surrounded by spaces in string ".concat(e)),b(" "===e[t+1],"equality not surrounded by spaces in string ".concat(e));const n=e.substring(0,t-1),s=e.substring(t+2,e.length),i=D.parseTerm(n),a=D.parseTerm(s);return new A("=",[i,a],!1)}}{const t="~"===e[0],n=t?e.substring(1):e,s=D.parseTerm(n);return new A(s.name,s.args,t)}}static parseTerm(e){let t=[],n=0;for(;n<e.length;){const s=e[n];if("("===s||")"===s||","===s)t.push(s),n+=1;else{let s=n;for(;s<e.length&&"("!==e[s]&&")"!==e[s]&&","!==e[s];)s+=1;t.push(e.substring(n,s)),n=s}}for(let i=0;i<t.length;i++){const e=t[i];"("!==e&&")"!==e&&","!==e&&(i+1!==t.length&&"("===t[i+1]||(t.splice(i+1,0,"("),t.splice(i+2,0,")")))}let s=[[]];for(let i=0;i<t.length;i++){const e=t[i];if("("!==e&&")"!==e&&","!==e)s[s.length-1].push(e);else if("("===e)s.push([]);else if(")"===e){const e=s.pop(),t=s[s.length-1].pop(),n=new I(t,e);s[s.length-1].push(n)}}return b(1===s.length,"invar violated for string: "+e),s[0][0]}}class F{constructor(e){this.dag=void 0,this.todo=void 0,this.visited=void 0,this.dag=e,this.todo=Array.from(e.leaves),this.visited=new Set}hasNext(){for(;this.todo.length>0;){const e=this.todo[this.todo.length-1];if(!this.visited.has(e))return!0;this.todo.pop()}return!1}getNext(){for(;this.todo.length>0;){const s=this.todo[this.todo.length-1],i=this.dag.get(s);if(this.visited.has(s))this.todo.pop();else{let a=!1;var e,t=Object(c.a)(i.parents);try{for(t.s();!(e=t.n()).done;){const t=e.value;this.visited.has(t)||(this.todo.push(t),a=!0)}}catch(n){t.e(n)}finally{t.f()}if(!a)return this.visited.add(s),this.todo.pop(),i}}return b(!1,"We have already iterated through all the inferences, so getNext() should not been called"),null}}class B{constructor(e){this.postOrder=void 0;const t=new F(e);for(this.postOrder=[];t.hasNext();)this.postOrder.push(t.getNext())}hasNext(){return this.postOrder.length>0}getNext(){return b(this.hasNext(),"We have already iterated through all the inferences, so getNext() should not have been called"),this.postOrder.pop()}}function M(e,t,n){return n?function(e,t){if(e.name!==t.name||e.negated!==t.negated||e.args.length!==t.args.length)return!1;let n=!0;const s=new Map;for(let i=0;i<e.args.length;i++){const a=e.args[i],r=t.args[i];if(n=q(a,r,s),!n)break}if(!n&&"="===e.name){b(2===e.args.length);const s=new Map;n=q(e.args[0],t.args[1],s),n&&(n=q(e.args[1],t.args[0],s))}return n}(e,t):function(e,t){if(e.name!==t.name||e.negated!==t.negated||e.args.length!==t.args.length)return!1;let n=!0;for(let s=0;s<e.args.length;s++){const i=e.args[s],a=t.args[s];if(!U(i,a)){n=!1;break}}n||"="!==e.name||(b(2===e.args.length),n=U(e.args[0],t.args[1])&&U(e.args[1],t.args[0]));return n}(e,t)}function U(e,t){if(e.name!==t.name||e.args.length!==t.args.length)return!1;for(let n=0;n<e.args.length;n++){if(!U(e.args[n],t.args[n]))return!1}return!0}function q(e,t,n){if(e.name===t.name&&e.args.length===t.args.length){for(let s=0;s<e.args.length;s++){if(!q(e.args[s],t.args[s],n))return!1}return!0}if(t.isVariable){const s=n.get(t.name);return void 0===s?(n.set(t.name,e),!0):q(e,s,n)}return!1}class V{constructor(e,t,n,s,i,a){this.type=void 0,this.id=void 0,this.unitString=void 0,this.inferenceRule=void 0,this.parents=void 0,this.statistics=void 0,this.type=e,this.id=t,this.unitString=n,this.inferenceRule=s,this.parents=i,this.statistics=a}}class H{constructor(e,t=null,n=!1,s=null,i=null){this.nodes=void 0,this.leaves=void 0,this.mergeMap=void 0,this.isPassiveDag=void 0,this.styleMap=void 0,this.activeNodeId=void 0,this.nodes=e,this.mergeMap=t,b(!n||null!==s),b(!n||null!==i),b(!n||e.has(i)),this.isPassiveDag=n,this.styleMap=s,this.activeNodeId=i;var a,r=Object(c.a)(e);try{for(r.s();!(a=r.n()).done;){const e=Object(p.a)(a.value,2),t=e[0],n=e[1];b(t===n.id,"key ".concat(t," and id ").concat(n.id," of node ").concat(n," don't match!"))}}catch(x){r.e(x)}finally{r.f()}var o,l=Object(c.a)(e);try{for(l.s();!(o=l.n()).done;){const t=Object(p.a)(o.value,2),n=t[0],s=t[1];var d,h=Object(c.a)(s.parents);try{for(h.s();!(d=h.n()).done;){const t=d.value;b(e.has(t),"node ".concat(n," has parent ").concat(t," which does not occur as node in the dag!"))}}catch(x){h.e(x)}finally{h.f()}}}catch(x){l.e(x)}finally{l.f()}const u=new Set,g=new Set;var m,f=Object(c.a)(e.values());try{for(f.s();!(m=f.n()).done;){const e=m.value;var v,y=Object(c.a)(e.parents);try{for(y.s();!(v=y.n()).done;){const e=v.value;g.add(e)}}catch(x){y.e(x)}finally{y.f()}}}catch(x){f.e(x)}finally{f.f()}var S,w=Object(c.a)(e.keys());try{for(w.s();!(S=w.n()).done;){const e=S.value;g.has(e)||u.add(e)}}catch(x){w.e(x)}finally{w.f()}this.leaves=u}get(e){const t=this.nodes.get(e);return b(void 0!==t,"node doesn't occur in Dag"),t}maximalActiveTime(){let e=0;var t,n=Object(c.a)(this.nodes.values());try{for(n.s();!(t=n.n()).done;){const n=t.value;null!==n.activeTime&&n.activeTime>e&&(e=n.activeTime)}}catch(s){n.e(s)}finally{n.f()}return e}isEmpty(){return 0===this.nodes.size}getChildren(e){this.nodes.has(e)||b(!1,"Node with id "+e+" does not occur in Dag");const t=new Array;var n,s=Object(c.a)(this.nodes.values());try{for(s.s();!(n=s.n()).done;){const s=n.value;var i,a=Object(c.a)(s.parents);try{for(a.s();!(i=a.n()).done;){i.value===e&&t.push(s.id)}}catch(r){a.e(r)}finally{a.f()}}}catch(r){s.e(r)}finally{s.f()}return t}numberOfTransitiveActivatedChildren(e,t){let n=0;const s=new Set([e]),i=new F(this);for(;i.hasNext();){let l=i.getNext(),d=!1;var a,r=Object(c.a)(l.parents);try{for(r.s();!(a=r.n()).done;){const e=a.value;if(s.has(e)){d=!0;break}}}catch(o){r.e(o)}finally{r.f()}const h=d||s.has(l.id),p=l.isFromPreprocessing||null!==l.newTime&&l.newTime<=t;if(h&&p){s.add(l.id);const i=null!==l.activeTime&&l.activeTime<=t;l.id!==e&&i&&(n+=1)}}return n}nodeIsInputNode(e){const t=this.get(e);return!!t.isFromPreprocessing&&null===t.newTime}nodeIsTheoryAxiom(e){const t=this.get(e);return!!t.isFromPreprocessing&&("theory axiom"===t.inferenceRule||"term algebras injectivity"===t.inferenceRule||"term algebras distinctness"===t.inferenceRule||"term algebras exhaustiveness"===t.inferenceRule||1===t.parents.length&&"term algebras exhaustiveness"===this.get(t.parents[0]).inferenceRule)}static fromParsedLines(e,t){const n=null===t?new Map:new Map(t.nodes);let s=null,i=null===t?0:t.maximalActiveTime(),a=null;var r,o=Object(c.a)(e);try{for(o.s();!(r=o.n()).done;){const e=r.value;if(null!==t&&null!==t.mergeMap){b(void 0===t.mergeMap.get(e.id),"found line with id ".concat(e.id," of node deleted during merge of preprocessing nodes!"));const n=new Array;var l,d=Object(c.a)(e.parents);try{for(d.s();!(l=d.n()).done;){const e=l.value,s=t.mergeMap.get(e);void 0!==s?n.push(...s):n.push(e)}}catch(u){d.e(u)}finally{d.f()}e.parents=n}if("preprocessing"===e.type){b(null===t,"no new preprocessing lines should occur while extending existing dag with new nodes from saturation"),b(!n.has(e.id),"each clause must be generated by preprocessing only once");const i=D.parsePreprocessingUnit(e.unitString);if("negated conjecture"===e.inferenceRule){b(1===e.parents.length);const t=n.get(e.parents[0]);b(void 0!==t),b("input"===t.inferenceRule);b(n.delete(e.parents[0])),e.parents=[]}s=new P(e.id,i,e.inferenceRule,e.parents,e.statistics,!0,null,null,null,[],!1),n.set(s.id,s)}else if("new"===e.type)if(n.has(e.id)){b(null===t,"no new final clauses from preprocessing should occur during the extension of an existing dag"),s=n.get(e.id),b(s.isFromPreprocessing,"a newly added clause can only already exist if it was generated during preprocessing"),b(e.inferenceRule===s.inferenceRule,"inference rule differs between line and existing node");const a=D.parseClause(e.unitString);s.unit=a,s.newTime=i}else{const t=D.parseClause(e.unitString);s=new P(e.id,t,e.inferenceRule,e.parents,e.statistics,!1,i,null,null,[],!1),n.set(s.id,s),"$false"===e.unitString&&(a=s)}else if("active"===e.type){b(n.has(e.id),"Found clause with id ".concat(e.id,", which was added to active, but wasn't added to new before. Maybe you forgot to output the new clauses?")),s=n.get(e.id),b(e.id===s.id,"id differs between line and existing node"),b(e.inferenceRule===s.inferenceRule,"inference rule differs between line and existing node"),b(e.parents.length===s.parents.length,"number of parents differs between line and existing node");for(let n=0;n<e.parents.length;n++)b(e.parents[n]===s.parents[n],"line and node differ on parent ".concat(n,", which is ").concat(e.parents[n]," resp. ").concat(s.parents[n],"."));b(null!==s.newTime,"for each event [SA] active ... there has to be an earlier event of the form [SA] new ... with the same clause!"),b(null===s.activeTime,"there must only be 1 event of the form [SA] active ... for each clause"),b("Clause"===s.unit.type);const t=s.unit;b(null!==t.literalsNewEvent);const a=D.parseLiterals(e.unitString),r=e.statistics.get("nSel");b(void 0!==r&&null!==r);const o=new Array;for(let e=0;e<a.length;e++){const n=a[e];let s=!1;var h,p=Object(c.a)(t.literalsNewEvent);try{for(p.s();!(h=p.n()).done;){const t=h.value;if(M(n,t,!1)){o.push(t),s=!0,e<r&&(t.isSelected=!0);break}}}catch(u){p.e(u)}finally{p.f()}b(s)}t.literalsActiveEvent=o,i+=1,s.activeTime=i,s.statistics=e.statistics}else"forward reduce"===e.type||"backward reduce"===e.type?(b(n.has(e.id),"Found clause with id ".concat(e.id,", which was deleted, but wasn't added as new before. Maybe you forgot to output the new clauses?")),s=n.get(e.id),s.deletionTime=i):"replaced by"===e.type||"using"===e.type?(b(null!==s,"invar"),s.deletionParents.push(e.id)):b(!1,"invalid line: ".concat(e.unitString))}}catch(u){o.e(u)}finally{o.f()}null!==a&&(i+=1,a.activeTime=i,n.set(a.id,a));return new H(n,null===t?null:t.mergeMap)}computeActiveNodes(e){const t=new Set;var n,s=Object(c.a)(this.nodes);try{for(s.s();!(n=s.n()).done;){const s=Object(p.a)(n.value,2),i=s[0],a=s[1];null!==a.activeTime&&a.activeTime<=e&&t.add(i)}}catch(i){s.e(i)}finally{s.f()}return t}computeNodesInActiveDag(e){const t=this.computeActiveNodes(e),n=new B(this);for(;n.hasNext();){const e=n.getNext(),a=e.id;if(t.has(a)){var s,i=Object(c.a)(e.parents);try{for(i.s();!(s=i.n()).done;){const e=s.value;t.add(e)}}catch(o){i.e(o)}finally{i.f()}}}var a,r=Object(c.a)(this.nodes.values());try{for(r.s();!(a=r.n()).done;){const e=a.value;e.isFromPreprocessing&&t.add(e.id)}}catch(o){r.e(o)}finally{r.f()}return t}isRefutation(){var e,t=Object(c.a)(this.nodes.values());try{for(t.s();!(e=t.n()).done;){const t=e.value;if("Clause"===t.unit.type&&0===t.unit.premiseLiterals.length&&0===t.unit.conclusionLiterals.length)return!0}}catch(n){t.e(n)}finally{t.f()}return!1}}function z(e,t){const n=new Set(t),s=new Map,i=new B(e);for(;i.hasNext();){const e=i.getNext(),t=e.id;n.has(t)&&(e.parents.forEach(e=>n.add(e)),s.set(t,e))}const a=new Map;var r,o=Object(c.a)(s);try{for(o.s();!(r=o.n()).done;){const e=Object(p.a)(r.value,2),t=e[0],n=e[1];a.set(t,n.copy())}}catch(l){o.e(l)}finally{o.f()}return new H(a)}function W(e,t){const n=new Set(t),s=new Map,i=new F(e);for(;i.hasNext();){let t=i.getNext(),d=!1;var a,r=Object(c.a)(t.parents);try{for(r.s();!(a=r.n()).done;){const e=a.value;n.has(e)&&(d=!0)}}catch(g){r.e(g)}finally{r.f()}if(n.has(t.id)||d){if(n.add(t.id),d){var o,l=Object(c.a)(t.parents);try{for(l.s();!(o=l.n()).done;){const t=o.value;if(!n.has(t)){const n=$(e.get(t));b(!e.leaves.has(n.id),"invar violated. Boundary nodes should only occur as parents of nodes"),s.set(n.id,n)}}}catch(g){l.e(g)}finally{l.f()}}else t=$(t);s.set(t.id,t)}}const d=new Map;var h,u=Object(c.a)(s);try{for(u.s();!(h=u.n()).done;){const e=Object(p.a)(h.value,2),t=e[0],n=e[1];d.set(t,n.copy())}}catch(g){u.e(g)}finally{u.f()}return new H(d)}function $(e){return new P(e.id,e.unit,e.inferenceRule,[],e.statistics,e.isFromPreprocessing,e.newTime,e.activeTime,e.deletionTime,e.deletionParents,e.isBoundary)}function J(e){const t=new Map(e.nodes),n=new Set,s=new Map,i=new F(e);for(;i.hasNext();){const e=i.getNext().id,d=t.get(e);if(d.isFromPreprocessing){const i=new Array;var a,r=Object(c.a)(d.parents);try{for(r.s();!(a=r.n()).done;){const e=a.value,r=t.get(e);if(b(r.isFromPreprocessing,"invariant violated"),0===r.parents.length)"choice axiom"===r.inferenceRule?n.add(e):i.push(e);else{var o,l=Object(c.a)(r.parents);try{for(l.s();!(o=l.n()).done;){const e=o.value;b(t.get(e).isFromPreprocessing,"invariant violated"),i.push(e)}}catch(p){l.e(p)}finally{l.f()}n.add(e),s.set(e,r.parents)}}}catch(p){r.e(p)}finally{r.f()}const h=new P(d.id,d.unit,d.inferenceRule,i,d.statistics,d.isFromPreprocessing,d.newTime,d.activeTime,d.deletionTime,d.deletionParents,d.isBoundary);t.set(e,h)}}var d,h=Object(c.a)(n);try{for(h.s();!(d=h.n()).done;){const e=d.value;b(t.delete(e),"invar violated")}}catch(p){h.e(p)}finally{h.f()}return new H(t,s)}function K(e,t,n){b(t.length>0);const s=new Set(t),i=new Set,a=new Map,r=new F(e);for(;r.hasNext();){const e=r.getNext(),t=e.id,p=new Set;if(null!==e.activeTime&&e.activeTime<=n||e.isFromPreprocessing)s.has(t)&&p.add(t);else{var o,l=Object(c.a)(e.parents);try{for(l.s();!(o=l.n()).done;){const e=o.value,t=a.get(e);b(void 0!==t);var d,h=Object(c.a)(t);try{for(h.s();!(d=h.n()).done;){const e=d.value;p.add(e)}}catch(w){h.e(w)}finally{h.f()}}}catch(w){l.e(w)}finally{l.f()}null!==e.newTime&&e.newTime<=n&&!(null!==e.activeTime&&e.activeTime<=n)&&!(null!==e.deletionTime&&e.deletionTime<=n)&&p.size===s.size&&i.add(t)}a.set(t,p)}const p=new Map,u=new Map,g=new Set(i);var m,f=Object(c.a)(t);try{for(f.s();!(m=f.n()).done;){const e=m.value;g.add(e)}}catch(w){f.e(w)}finally{f.f()}const v=new B(e);for(;v.hasNext();){const t=v.getNext(),s=t.id;if(g.has(s)){const a=null!==t.deletionTime&&t.deletionTime<=n;let r,o;if(i.has(s)?(b(!a),t.isFromPreprocessing?(r=!0,o="passive"):(r=!1,o="passive")):e.nodeIsTheoryAxiom(s)?(r=!0,o=a?"theory-axiom-deleted":"theory-axiom"):t.isFromPreprocessing?"negated conjecture"===t.inferenceRule?(r=!0,o="conjecture"):(r=!0,o=a?"preprocessing-deleted":"preprocessing"):null!==t.activeTime&&t.activeTime<=n?(r=!0,o=a?"activated-deleted":"activated"):(r=!1,o="deleted"),r)p.set(s,$(t));else{p.set(s,t.copy());var y,S=Object(c.a)(t.parents);try{for(S.s();!(y=S.n()).done;){const e=y.value;g.add(e)}}catch(w){S.e(w)}finally{S.f()}}u.set(s,o)}}return new H(p,null,!0,u,t[0])}var G=n(25),X=n(17);function _(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(u.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new G.a({Module:X.Module,render:X.render}),e.abrupt("return",n.renderString(t,{format:"plain"}).then(e=>e).catch(e=>{n=new G.a({Module:X.Module,render:X.render}),console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const Z=/^(\d+) ([0-9.]+) ([0-9.]+).*$/g;class Q{static layoutNodesAtPosition(e,t){return Object(u.a)(h.a.mark((function t(){var n,s,i,a,r,o,l,d,u,g,m,f,v,y,S,w,x,k,E,N;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.layoutNodes(e);case 2:n=null,s=Object(c.a)(e.values()),t.prev=4,s.s();case 6:if((i=s.n()).done){t.next=32;break}a=i.value,r=!0,o=Object(c.a)(a.parents),t.prev=10,o.s();case 12:if((l=o.n()).done){t.next=19;break}if(d=l.value,!e.has(d)){t.next=17;break}return r=!1,t.abrupt("break",19);case 17:t.next=12;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(10),o.e(t.t0);case 24:return t.prev=24,o.f(),t.finish(24);case 27:if(!r){t.next=30;break}return n=a,t.abrupt("break",32);case 30:t.next=6;break;case 32:t.next=37;break;case 34:t.prev=34,t.t1=t.catch(4),s.e(t.t1);case 37:return t.prev=37,s.f(),t.finish(37);case 40:b(null!==n),b(null!==n.position),u=Object(p.a)(N,2),g=u[0],m=u[1],f=n.position,v=Object(p.a)(f,2),y=v[0],S=v[1],w=g-y,x=m-S-1,k=Object(c.a)(e.values());try{for(k.s();!(E=k.n()).done;)b(null!=(a=E.value).position),N=a.position,a.position=[N[0]+w,N[1]+x]}catch(h){k.e(h)}finally{k.f()}case 48:case"end":return t.stop()}}),t,null,[[4,34,37,40],[10,21,24,27]])})))()}static layoutDag(e,t){return Object(u.a)(h.a.mark((function n(){var s,i;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=Q.dagToDotString(e,t),n.next=3,_(s);case 3:i=n.sent,Q.parseLayoutString(i,e.nodes);case 5:case"end":return n.stop()}}),n)})))()}static layoutNodes(e){return Object(u.a)(h.a.mark((function t(){var n,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Q.nodesToDotString(e),t.next=3,_(n);case 3:s=t.sent,Q.parseLayoutString(s,e);case 5:case"end":return t.stop()}}),t)})))()}static dagToDotString(e,t){const n=t?e.computeNodesInActiveDag(Number.MAX_SAFE_INTEGER):null,s=new Array,i=new Array,a=new Array;var r,o=Object(c.a)(e.nodes.values());try{for(o.s();!(r=o.n()).done;){const o=r.value;b(null===o.position,"the dag has already been layouted!"),o.isFromPreprocessing?e.nodeIsInputNode(o.id)?s.push("".concat(o.id,' [label="').concat(o.toString(),'"]')):i.push("".concat(o.id,' [label="').concat(o.toString(),'"]')):t&&!n.has(o.id)||a.push("".concat(o.id,' [label="').concat(o.toString(),'"]'))}}catch(g){o.e(g)}finally{o.f()}const l=new Array;var d,h=Object(c.a)(e.nodes.values());try{for(h.s();!(d=h.n()).done;){const e=d.value;if(!t||n.has(e.id)){var p,u=Object(c.a)(e.parents);try{for(u.s();!(p=u.n()).done;){const t=p.value;l.push("".concat(t," -> ").concat(e.id))}}catch(g){u.e(g)}finally{u.f()}}}}catch(g){h.e(g)}finally{h.f()}return"digraph {\n\n"+("   subgraph inputgraph {\n      rank=source;\n      "+s.join(";\n      ")+"\n   }")+"\n\n"+("   subgraph preprocessinggraph {\n      rank=same;\n      "+i.join(";\n      ")+"\n   }")+"\n\n"+("   subgraph othergraph {\n      "+a.join(";\n      ")+"\n   }")+"\n\n   "+l.join(";\n   ")+"\n}"}static nodesToDotString(e){const t=new Array;var n,s=Object(c.a)(e.values());try{for(s.s();!(n=s.n()).done;){const e=n.value;b(null===e.position,"the node has already been layouted!"),t.push("".concat(e.id,' [label="').concat(e.toString(),'"]'))}}catch(d){s.e(d)}finally{s.f()}const i=new Array;var a,r=Object(c.a)(e.values());try{for(r.s();!(a=r.n()).done;){const t=a.value;var o,l=Object(c.a)(t.parents);try{for(l.s();!(o=l.n()).done;){const n=o.value;e.has(n)&&i.push("".concat(n," -> ").concat(t.id))}}catch(d){l.e(d)}finally{l.f()}}}catch(d){r.e(d)}finally{r.f()}return"digraph {\n   "+t.join(";\n   ")+"\n\n   "+i.join(";\n   ")+"\n}"}static parseLayoutString(e,t){let n=e.includes("\nedge")?e.indexOf("\nedge"):e.length;const s=e.substr(0,n).split("\nnode ").slice(1).map(e=>e.substr(0,e.indexOf('"'))).map(e=>e.matchAll(Z).next().value);s.forEach(e=>{b(void 0!==e)});var i,a=Object(c.a)(s);try{for(a.s();!(i=a.n()).done;){const e=i.value,n=Object(p.a)(e,4),s=n[1],a=n[2],r=n[3],o=parseInt(s,10),l=parseFloat(a),c=parseFloat(r);t.get(o).position=[l,c]}}catch(r){a.e(r)}finally{a.f()}}}x.a.setAppElement("#root");class ee extends s.Component{constructor(...e){super(...e),this.state={passiveDag:null,nodeSelectionPassiveDag:[]}}componentDidMount(){var e=this;return Object(u.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.generatePassiveDag();case 2:n=t.sent,e.setState({passiveDag:n});case 4:case"end":return t.stop()}}),t)})))()}componentDidUpdate(e){var t=this;return Object(u.a)(h.a.mark((function n(){var s;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.props.dag===e.dag&&t.props.nodeSelection===e.nodeSelection&&t.props.currentTime===e.currentTime){n.next=5;break}return n.next=3,t.generatePassiveDag();case 3:s=n.sent,t.setState({passiveDag:s});case 5:case"end":return n.stop()}}),n)})))()}render(){return null===this.state.passiveDag?s.createElement("section",null,"Layouting..."):s.createElement(x.a,{isOpen:!0,contentLabel:"Clauses currently in Passive generated by clause with id ".concat(this.state.passiveDag.activeNodeId),onRequestClose:()=>{this.props.onDismissPassiveDag(null,null)}},s.createElement(S,{dag:this.state.passiveDag,nodeSelection:this.state.nodeSelectionPassiveDag,changedNodesEvent:this.props.changedNodesEvent,currentTime:this.props.currentTime,animateDagChanges:!1,onNodeSelectionChange:this.nodeSelectionChange.bind(this),onUpdateNodePositions:this.updateNodePositions.bind(this)}),s.createElement(L,{dag:this.state.passiveDag,currentTime:this.props.currentTime,nodeSelection:this.state.nodeSelectionPassiveDag,infoToggle:this.props.infoToggle,editToggle:this.props.editToggle,onUpdateNodeSelection:this.nodeSelectionChange.bind(this),onLiteralOrientationChange:this.props.onLiteralOrientationChange,onLiteralRepresentationChange:this.props.onLiteralRepresentationChange,onSelectButtonPressed:this.selectButtonPressed.bind(this),onToggleInfo:this.props.onToggleInfo,onToggleEdit:this.props.onToggleEdit}))}nodeSelectionChange(e){this.setState({nodeSelectionPassiveDag:e})}updateNodePositions(e,t){b(null!==this.state.passiveDag);var n,s=Object(c.a)(e);try{for(s.s();!(n=s.n()).done;){const e=n.value,s=this.state.passiveDag.get(e);b(null!==s.position),s.position=[s.position[0]+t[0],s.position[1]+t[1]]}}catch(i){s.e(i)}finally{s.f()}}generatePassiveDag(){var e=this;return Object(u.a)(h.a.mark((function t(){var n,s,i,a,r,o,l,d,u,g,m,f,v,y,S;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=K(e.props.dag,e.props.nodeSelection,e.props.currentTime),t.next=3,Q.layoutDag(n,!1);case 3:s=e.props.dag.get(e.props.nodeSelection[0]).getPosition(),i=Object(p.a)(s,2),a=i[0],r=i[1],o=n.get(e.props.nodeSelection[0]).getPosition(),l=Object(p.a)(o,2),d=l[0],u=l[1],g=a-d,m=r-u,f=Object(c.a)(n.nodes.values());try{for(f.s();!(v=f.n()).done;)b(null!=(y=v.value).position),S=y.position,y.position=[S[0]+g,S[1]+m]}catch(h){f.e(h)}finally{f.f()}return t.abrupt("return",n);case 10:case"end":return t.stop()}}),t)})))()}selectButtonPressed(){const e=this.state.passiveDag;b(null!==e),b(e.isPassiveDag),b(null!==e.activeNodeId),b(1===this.state.nodeSelectionPassiveDag.length);const t=this.state.nodeSelectionPassiveDag[0];b(null!==t);const n=e.styleMap;b(null!==n),b("passive"===n.get(t));const s=this.props.dag.get(this.state.passiveDag.activeNodeId).position;b(null!==s),this.props.onDismissPassiveDag(t,s)}}class te extends s.Component{render(){let e;this.props.showPassiveDag&&(e=s.createElement(ee,{dag:this.props.dag,nodeSelection:this.props.nodeSelection,currentTime:this.props.currentTime,changedNodesEvent:this.props.changedNodesEvent,infoToggle:this.props.infoToggle,editToggle:this.props.editToggle,onLiteralOrientationChange:this.props.onLiteralOrientationChange,onLiteralRepresentationChange:this.props.onLiteralRepresentationChange,onDismissPassiveDag:this.props.onDismissPassiveDag,onToggleInfo:this.props.onToggleInfo,onToggleEdit:this.props.onToggleEdit}));const t=this.props.readOnly?s.createElement("section",{className:"slider-placeholder"}):s.createElement(m,{historyLength:this.props.historyLength,currentTime:this.props.currentTime,onCurrentTimeChange:this.props.onCurrentTimeChange});return s.createElement("main",null,s.createElement(S,{dag:this.props.dag,nodeSelection:this.props.nodeSelection,changedNodesEvent:this.props.changedNodesEvent,currentTime:this.props.currentTime,animateDagChanges:this.props.animateDagChanges,onNodeSelectionChange:this.props.onNodeSelectionChange,onUpdateNodePositions:this.props.onUpdateNodePositions}),e,t)}}n(70);const ne=n(12);class se extends s.Component{render(){return s.createElement("div",{className:"component-graph-menu"},s.createElement("section",{className:"component-graph-menu-content"},s.createElement("button",{title:"Undo last graph transformation",disabled:!this.props.undoEnabled,onClick:this.props.onUndo},s.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},s.createElement("use",{xlinkHref:"".concat(ne,"#graph-undo")}))),s.createElement("button",{title:"Render selection only (up)",disabled:!this.props.filterUpEnabled,onClick:this.props.onRenderParentsOnly},s.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},s.createElement("use",{xlinkHref:"".concat(ne,"#graph-up")}))),s.createElement("button",{title:"Render selection only (down)",disabled:!this.props.filterDownEnabled,onClick:this.props.onRenderChildrenOnly},s.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},s.createElement("use",{xlinkHref:"".concat(ne,"#graph-down")}))),s.createElement("button",{title:"Select clauses",disabled:!this.props.passiveDagButtonEnabled,onClick:()=>{this.props.onShowPassiveDag()}},s.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},s.createElement("use",{xlinkHref:"".concat(ne,"#graph-s")})))))}}n(71);const ie=n(12);class ae extends s.Component{render(){return s.createElement("section",{className:"component-node-menu"},s.createElement("button",{title:"Select parents of selected nodes",disabled:!this.props.nodeSelection.length,onClick:this.props.onSelectParents},s.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},s.createElement("use",{xlinkHref:"".concat(ie,"#node-parents")}))),s.createElement("button",{title:"Select children of selected nodes",disabled:!this.props.nodeSelection.length,onClick:this.props.onSelectChildren},s.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},s.createElement("use",{xlinkHref:"".concat(ie,"#node-children")}))),s.createElement("button",{title:"Find common consequences of selected nodes",disabled:this.props.nodeSelection.length<2,onClick:this.props.onSelectCommonConsequences},s.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},s.createElement("use",{xlinkHref:"".concat(ie,"#node-consequences")}))))}}n(72);class re extends s.Component{constructor(...e){super(...e),this.state={foundNodes:[]},this.searchField1=s.createRef(),this.searchField2=s.createRef(),this.searchField3=s.createRef(),this.toListItem=e=>s.createElement("li",{key:e.id,onClick:()=>this.props.onUpdateNodeSelection([e.id])},e.toString()),this.getDisabledListItem=()=>s.createElement("li",{className:"disabled-element"},"...")}componentDidUpdate(e){this.props.dag===e.dag&&this.props.currentTime===e.currentTime||(this.searchField1.current.value="",this.searchField2.current.value="",this.searchField3.current.value="",this.setState({foundNodes:[]}))}render(){const e=this.state.foundNodes;return s.createElement("section",{className:"component-search"},s.createElement("input",{type:"text",ref:this.searchField1,placeholder:"Search for nodes including literal",onKeyUp:this.search.bind(this),disabled:null===this.props.dag}),s.createElement("input",{type:"text",ref:this.searchField2,placeholder:"Search for nodes excluding literals",onKeyUp:this.search.bind(this),disabled:null===this.props.dag}),s.createElement("input",{type:"text",ref:this.searchField3,placeholder:"Search for nodes using inference rule",onKeyUp:this.search.bind(this),disabled:null===this.props.dag}),s.createElement("ul",{id:"searchResults"},e.slice(0,21).map(e=>this.toListItem(e)),e.length>20&&this.getDisabledListItem()))}search(){b(null!==this.props.dag),b(this.searchField1.current),b(this.searchField2.current),b(this.searchField3.current);const e=this.searchField1.current.value,t=this.searchField2.current.value,n=this.searchField3.current.value;if(""===e&&""===t&&""===n)return this.props.onUpdateNodeSelection([]),void this.setState({foundNodes:[]});let s=Array.from(this.props.dag.nodes.values());if(""!==e){const t=new Array;var i,a=Object(c.a)(s);try{for(a.s();!(i=a.n()).done;){const n=i.value;if("Clause"===n.unit.type){const s=n.unit;let i=!1;var r,o=Object(c.a)(s.premiseLiterals);try{for(o.s();!(r=o.n()).done;){if(r.value.toString(!0).includes(e)){i=!0;break}}}catch(O){o.e(O)}finally{o.f()}if(!i){var l,d=Object(c.a)(s.conclusionLiterals);try{for(d.s();!(l=d.n()).done;){if(l.value.toString(!1).includes(e)){i=!0;break}}}catch(O){d.e(O)}finally{d.f()}}if(!i){var h,p=Object(c.a)(s.contextLiterals);try{for(p.s();!(h=p.n()).done;){if(h.value.toString(!1).includes(e)){i=!0;break}}}catch(O){p.e(O)}finally{p.f()}}i&&t.push(n)}}}catch(O){a.e(O)}finally{a.f()}s=t}if(""!==t){const e=new Array;var u,g=Object(c.a)(s);try{for(g.s();!(u=g.n()).done;){const n=u.value;if("Clause"===n.unit.type){const s=n.unit;let i=!1;var m,f=Object(c.a)(s.premiseLiterals);try{for(f.s();!(m=f.n()).done;){if(m.value.toString(!0).includes(t)){i=!0;break}}}catch(O){f.e(O)}finally{f.f()}if(!i){var v,y=Object(c.a)(s.conclusionLiterals);try{for(y.s();!(v=y.n()).done;){if(v.value.toString(!1).includes(t)){i=!0;break}}}catch(O){y.e(O)}finally{y.f()}}if(!i){var S,w=Object(c.a)(s.contextLiterals);try{for(w.s();!(S=w.n()).done;){if(S.value.toString(!1).includes(t)){i=!0;break}}}catch(O){w.e(O)}finally{w.f()}}i||e.push(n)}}}catch(O){g.e(O)}finally{g.f()}s=e}if(""!==n){const e=new Array;var x,k=Object(c.a)(s);try{for(k.s();!(x=k.n()).done;){const t=x.value;t.inferenceRule===n&&e.push(t)}}catch(O){k.e(O)}finally{k.f()}s=e}const E=this.props.dag.computeNodesInActiveDag(this.props.currentTime),N=new Array;var T,C=Object(c.a)(s);try{for(C.s();!(T=C.n()).done;){const e=T.value;E.has(e.id)&&N.push(e)}}catch(O){C.e(O)}finally{C.f()}s=N,s.sort((e,t)=>{const n=e.unit,s=t.unit;return n.toString().length-s.toString().length}),this.props.onUpdateNodeSelection(s.map(e=>e.id)),this.setState({foundNodes:s})}}n(73);class oe extends s.Component{render(){return s.createElement("section",{className:"component-node-card"},s.createElement("article",null,s.createElement("h2",null,"Select Nodes"),s.createElement(ae,{nodeSelection:this.props.nodeSelection,onSelectParents:this.props.onSelectParents,onSelectChildren:this.props.onSelectChildren,onSelectCommonConsequences:this.props.onSelectCommonConsequences}),s.createElement(re,{dag:this.props.dag,currentTime:this.props.currentTime,onUpdateNodeSelection:this.props.onUpdateNodeSelection})))}}class le extends s.Component{render(){null===this.props.dag&&(b(0===this.props.nodeSelection.length),b(!this.props.multipleVersions));const e=!this.props.readOnly&&null!==this.props.dag,t=e&&this.props.multipleVersions,n=e&&this.props.nodeSelection.length>0&&!this.props.dag.isPassiveDag,i=e&&this.props.nodeSelection.length>0;return s.createElement("div",{className:"scroll"},s.createElement("aside",null,s.createElement(se,{undoEnabled:t,filterUpEnabled:n,filterDownEnabled:n,passiveDagButtonEnabled:i,onUndo:this.props.onUndo,onRenderParentsOnly:this.props.onRenderParentsOnly,onRenderChildrenOnly:this.props.onRenderChildrenOnly,onShowPassiveDag:this.props.onShowPassiveDag}),s.createElement(oe,{dag:this.props.dag,currentTime:this.props.currentTime,nodeSelection:this.props.nodeSelection,onUpdateNodeSelection:this.props.onUpdateNodeSelection,onSelectParents:this.props.onSelectParents,onSelectChildren:this.props.onSelectChildren,onSelectCommonConsequences:this.props.onSelectCommonConsequences}),s.createElement(C,{dag:this.props.dag,nodeSelection:this.props.nodeSelection,currentTime:this.props.currentTime,infoToggle:this.props.infoToggle,editToggle:this.props.editToggle,onLiteralOrientationChange:this.props.onLiteralOrientationChange,onLiteralRepresentationChange:this.props.onLiteralRepresentationChange,onToggleInfo:this.props.onToggleInfo,onToggleEdit:this.props.onToggleEdit})))}}n(74);function ce(e,t){b(e.length===t.length);for(let n=0;n<e.length;n++){const s=e[n],i=t[n];s.setLiteralInParent(i)}}function de(e,t,n,s){b(s?e.length<t.length:e.length+1===t.length);let i=!1,a=0,r=0;for(;a<e.length;){const o=e[a],l=t[r];M(o,l,n)?(o.setLiteralInParent(l),a+=1,r+=1):(b(!i||s,"case 2 error:\n".concat(e.toString(),"\n").concat(t.toString())),i=!0,r+=1)}}function he(e,t,n,s){b(e.length===t.length,"case 3 error:\n".concat(e.toString(),"\n").concat(t.toString()));let i=!1,a=1;for(;a<e.length;){const s=e[a],r=t[a-1];if(!M(s,r,n)){e[0].setLiteralInParent(t[a-1]),i=!0;break}s.setLiteralInParent(r),a+=1}for(i||(b(a===e.length),e[0].setLiteralInParent(t[t.length-1]));a<e.length;){const i=e[a],r=t[a];s||b(M(i,r,n),"case 3 error: literal ".concat(a," doesn't match parent literal.\n").concat(e.toString(),"\n").concat(t.toString(),"\n")),i.setLiteralInParent(r),a+=1}}function pe(e){var t,n=Object(c.a)(e.nodes.values());try{for(n.s();!(t=n.n()).done;){const n=t.value;if(!n.isBoundary&&"Clause"===n.unit.type){const t=n.unit;if("evaluation"===n.inferenceRule||"forward subsumption demodulation"===n.inferenceRule||"term algebras injectivity"===n.inferenceRule&&1===n.parents.length||"subsumption resolution"===n.inferenceRule||"equality resolution"===n.inferenceRule||"trivial inequality removal"===n.inferenceRule||"factoring"===n.inferenceRule||"duplicate literal removal"===n.inferenceRule||"term algebras distinctness"===n.inferenceRule&&1===n.parents.length||"forward demodulation"===n.inferenceRule||"backward demodulation"===n.inferenceRule||"equality factoring"===n.inferenceRule){b(n.parents.length>0);const s=e.get(n.parents[0]);if("Clause"===s.unit.type){const e=s.unit;b(null!==n.newTime),b(null!==s.newTime);const i=null!==s.activeTime&&s.activeTime<=n.newTime?e.literalsActiveEvent:e.literalsNewEvent,a=t.literalsNewEvent;if(b(null!==i),b(null!==a),"evaluation"===n.inferenceRule&&a.length===i.length||"forward subsumption demodulation"===n.inferenceRule||"term algebras injectivity"===n.inferenceRule)ce(a,i);else if("subsumption resolution"===n.inferenceRule||"equality resolution"===n.inferenceRule||"trivial inequality removal"===n.inferenceRule||"factoring"===n.inferenceRule||"duplicate literal removal"===n.inferenceRule||"term algebras distinctness"===n.inferenceRule||"evaluation"===n.inferenceRule&&a.length+1===i.length){const e="equality resolution"===n.inferenceRule||"factoring"===n.inferenceRule;de(a,i,e,"trivial inequality removal"===n.inferenceRule||"duplicate literal removal"===n.inferenceRule)}else if("forward demodulation"===n.inferenceRule||"backward demodulation"===n.inferenceRule||"equality factoring"===n.inferenceRule){he(a,i,"equality factoring"===n.inferenceRule,!1)}}}else if("resolution"===n.inferenceRule||"superposition"===n.inferenceRule){b(2===n.parents.length);const s=e.get(n.parents[0]),i=e.get(n.parents[1]);if("Clause"===s.unit.type&&"Clause"===i.unit.type){const e=s.unit,a=i.unit;b(null!==n.newTime),b(null!==s.newTime),b(null!==i.newTime);const r=null!==s.activeTime&&s.activeTime<=n.newTime,o=null!==i.activeTime&&i.activeTime<=n.newTime,l=r?e.literalsActiveEvent:e.literalsNewEvent,c=o?a.literalsActiveEvent:a.literalsNewEvent,d=t.literalsNewEvent;if(b(null!==l),b(null!==c),b(null!==d),b(l.length>0),b(c.length>0),"resolution"===n.inferenceRule){b(d.length+2===l.length+c.length);const e=l.length-1;de(d.slice(0,e),l,!0,!1),de(d.slice(e,d.length),c,!0,!1)}else if("superposition"===n.inferenceRule){b(d.length+1===l.length+c.length);const e=l.length;he(d.slice(0,e),l,!0,!0),de(d.slice(e,d.length),c,!0,!1)}}}}}}catch(s){n.e(s)}finally{n.f()}}function ue(e,t){b(null===t||e.nodes.has(t));const n=new Set;null!==t&&n.add(t);const s=new F(e);for(;s.hasNext();){let p=s.getNext();if(!p.isBoundary&&"Clause"===p.unit.type){const s=p.unit;let u=null===t||p.id===t;if(!u){var i,a=Object(c.a)(p.parents);try{for(a.s();!(i=a.n()).done;){const e=i.value;if(n.has(e)){u=!0;break}}}catch(h){a.e(h)}finally{a.f()}}if(!u)continue;const g="equality resolution"===p.inferenceRule&&!0===e.get(p.parents[0]).isFromPreprocessing,m="subsumption resolution"===p.inferenceRule||"equality resolution"===p.inferenceRule&&!g||"equality factoring"===p.inferenceRule||"forward demodulation"===p.inferenceRule||"backward demodulation"===p.inferenceRule||"forward subsumption demodulation"===p.inferenceRule||"factoring"===p.inferenceRule||"duplicate literal removal"===p.inferenceRule||"evaluation"===p.inferenceRule||"trivial inequality removal"===p.inferenceRule||"term algebras injectivity"===p.inferenceRule&&1===p.parents.length||"term algebras distinctness"===p.inferenceRule&&1===p.parents.length,f="resolution"===p.inferenceRule||"superposition"===p.inferenceRule,v=new Array,y=new Array,S=new Array;var r,o=Object(c.a)(s.premiseLiterals.concat(s.conclusionLiterals,s.contextLiterals));try{for(o.s();!(r=o.n()).done;){const t=r.value;let n=null;const i=t.literalInParent;if("user"!==t.orientationReason&&(m||f)){if(b(null!==i),t.representation=i.representation,m){b(p.parents.length>0);const t=e.get(p.parents[0]);if("Clause"===t.unit.type){const e=t.unit;e.premiseLiterals.find(e=>e===i)?n="premise":e.conclusionLiterals.find(e=>e===i)?n="conclusion":(b(e.contextLiterals.find(e=>e===i)),n="context")}}else if(f){b(2===p.parents.length);const t=e.get(p.parents[0]),s=e.get(p.parents[1]);if("Clause"===t.unit.type&&"Clause"===s.unit.type){const e=t.unit,a=s.unit;e.premiseLiterals.find(e=>e===i)?n="premise":e.conclusionLiterals.find(e=>e===i)?n="conclusion":e.contextLiterals.find(e=>e===i)?n="context":a.premiseLiterals.find(e=>e===i)?n="premise":a.conclusionLiterals.find(e=>e===i)?n="conclusion":(b(a.contextLiterals.find(e=>e===i)),n="context")}}t.orientationReason="inherited"}else"none"!==t.orientationReason?s.premiseLiterals.find(e=>e===t)?n="premise":s.conclusionLiterals.find(e=>e===t)?n="conclusion":(b(s.contextLiterals.find(e=>e===t)),n="context"):(n=t.negated&&"="!==t.name?"premise":"conclusion",t.orientationReason="heuristic");"premise"===n?v.push(t):"conclusion"===n?y.push(t):(b("context"===n),S.push(t))}}catch(h){o.e(h)}finally{o.f()}let w=!1;var l,d=Object(c.a)(s.premiseLiterals.concat(s.conclusionLiterals,s.contextLiterals));try{for(d.s();!(l=d.n()).done;){if("user"===l.value.orientationReason){w=!0;break}}}catch(h){d.e(h)}finally{d.f()}if(!w&&m){const t=e.get(p.parents[0]);if("Clause"===t.unit.type){const e=t.unit,n=new Map;for(let t=0;t<e.premiseLiterals.length;t++){const s=e.premiseLiterals[t];n.set(s,t)}const s=new Map;for(let t=0;t<e.conclusionLiterals.length;t++){const n=e.conclusionLiterals[t];s.set(n,t)}const i=new Map;for(let t=0;t<e.contextLiterals.length;t++){const n=e.contextLiterals[t];i.set(n,t)}v.sort((e,t)=>{b(null!==e.literalInParent),b(null!==t.literalInParent);const s=n.get(e.literalInParent),i=n.get(t.literalInParent);return b(void 0!==s),b(void 0!==i),s-i}),y.sort((e,t)=>{b(null!==e.literalInParent),b(null!==t.literalInParent);const n=s.get(e.literalInParent),i=s.get(t.literalInParent);return b(void 0!==n),b(void 0!==i),n-i}),S.sort((e,t)=>{b(null!==e.literalInParent),b(null!==t.literalInParent);const n=i.get(e.literalInParent),s=i.get(t.literalInParent);return b(void 0!==n),b(void 0!==s),n-s})}}else if(!w&&f){b(2===p.parents.length);const t=e.get(p.parents[0]),n=e.get(p.parents[1]);if("Clause"===t.unit.type&&"Clause"===n.unit.type){const e=t.unit,s=n.unit,i=new Map;for(let t=0;t<e.premiseLiterals.length;t++){const n=e.premiseLiterals[t];i.set(n,t)}for(let t=0;t<s.premiseLiterals.length;t++){const n=s.premiseLiterals[t];i.set(n,t+e.premiseLiterals.length)}const a=new Map;for(let t=0;t<e.conclusionLiterals.length;t++){const n=e.conclusionLiterals[t];a.set(n,t)}for(let t=0;t<s.conclusionLiterals.length;t++){const n=s.conclusionLiterals[t];a.set(n,t+e.conclusionLiterals.length)}const r=new Map;for(let t=0;t<e.contextLiterals.length;t++){const n=e.contextLiterals[t];r.set(n,t)}for(let t=0;t<s.contextLiterals.length;t++){const n=s.contextLiterals[t];r.set(n,t+e.contextLiterals.length)}v.sort((e,t)=>{b(null!==e.literalInParent),b(null!==t.literalInParent);const n=i.get(e.literalInParent),s=i.get(t.literalInParent);return b(void 0!==n),b(void 0!==s),n-s}),y.sort((e,t)=>{b(null!==e.literalInParent),b(null!==t.literalInParent);const n=a.get(e.literalInParent),s=a.get(t.literalInParent);return b(void 0!==n),b(void 0!==s),n-s}),S.sort((e,t)=>{b(null!==e.literalInParent),b(null!==t.literalInParent);const n=r.get(e.literalInParent),s=r.get(t.literalInParent);return b(void 0!==n),b(void 0!==s),n-s})}}s.premiseLiterals=v,s.conclusionLiterals=y,s.contextLiterals=S,n.add(p.id)}}return n}class ge{constructor(){this.version=1}static serializeAppState(e,t,n){b(!n.isPassiveDag);const s={version:1,problem:e,vampireUserOptions:t,dag:n};return JSON.stringify(s,(e,t)=>{if("leaves"!==e&&"mergeMap"!==e&&"isPassiveDag"!==e&&"styleMap"!==e&&"activeNodeId"!==e&&"literalInParent"!==e&&"isVariable"!==e){if("unit"===e){if("Clause"===t.type){const e=t,n=t=>{const n=new Array;var s,i=Object(c.a)(t);try{for(i.s();!(s=i.n()).done;){const t=s.value;for(let s=0;s<e.literalsNewEvent.length;s++){if(t===e.literalsNewEvent[s]){n.push(s);break}}}}catch(a){i.e(a)}finally{i.f()}return n},s=n(e.premiseLiterals),i=n(e.conclusionLiterals),a=n(e.contextLiterals),r=null===e.literalsActiveEvent?null:n(e.literalsActiveEvent);return{type:"Clause",literalsNewEvent:e.literalsNewEvent,premiseLiterals:s,conclusionLiterals:i,contextLiterals:a,literalsActiveEvent:r}}}return t instanceof Set?Array.from(t):t instanceof Map?Array.from(t.entries()):t}})}static deserializeAppState(e){const t=JSON.parse(e);b(void 0!==t.version),b(void 0!==t.problem),b(void 0!==t.vampireUserOptions),b(void 0!==t.dag);const n=this.reconstructDag(t.dag);return[t.version,t.problem,t.vampireUserOptions,n]}static reconstructDag(e){b(void 0!==e.nodes);const t=new Map;var n,s=Object(c.a)(e.nodes);try{for(s.s();!(n=s.n()).done;){const e=n.value;t.set(e[0],ge.reconstructSatNode(e[1]))}}catch(a){s.e(a)}finally{s.f()}const i=new H(t);return pe(i),i}static reconstructSatNode(e){b(void 0!==e.id),b(void 0!==e.unit),b(void 0!==e.inferenceRule),b(void 0!==e.parents),b(void 0!==e.statistics),b(void 0!==e.isFromPreprocessing),b(void 0!==e.newTime),b(void 0!==e.activeTime),b(void 0!==e.deletionTime),b(void 0!==e.deletionParents),b(void 0!==e.position),b(void 0!==e.isBoundary);const t=ge.reconstructUnit(e.unit),n=new Map;var s,i=Object(c.a)(e.statistics);try{for(i.s();!(s=i.n()).done;){const e=s.value;n.set(e[0],e[1])}}catch(r){i.e(r)}finally{i.f()}const a=new P(e.id,t,e.inferenceRule,e.parents,n,e.isFromPreprocessing,e.newTime,e.activeTime,e.deletionTime,e.deletionParents,e.isBoundary);return a.position=e.position,a}static reconstructUnit(e){if(b(void 0!==e.type),"Formula"===e.type)return b(void 0!==e.formula),new j(e.formula);{b(void 0!==e.literalsNewEvent),b(void 0!==e.premiseLiterals),b(void 0!==e.conclusionLiterals),b(void 0!==e.contextLiterals),b(void 0!==e.literalsActiveEvent);const t=e.literalsNewEvent.map(e=>ge.reconstructLiteral(e)),n=e.premiseLiterals.map(e=>t[e]),s=e.conclusionLiterals.map(e=>t[e]),i=e.contextLiterals.map(e=>t[e]),a=null===e.literalsActiveEvent?null:e.literalsActiveEvent.map(e=>t[e]),r=new R(t,n,s,i);return r.literalsActiveEvent=a,r}}static reconstructLiteral(e){b(void 0!==e.name),b(void 0!==e.args),b(void 0!==e.negated),b(void 0!==e.isSelected),b(void 0!==e.representation),b(void 0!==e.hideBracketsAssoc),b(void 0!==e.nonStrictForNegatedStrictInequalities),b(void 0!==e.orientationReason);const t=e.args.map(e=>ge.reconstructTerm(e)),n=new A(e.name,t,e.negated);return n.isSelected=e.isSelected,n.representation=e.representation,n.hideBracketsAssoc=e.hideBracketsAssoc,n.nonStrictForNegatedStrictInequalities=e.nonStrictForNegatedStrictInequalities,n.orientationReason=e.orientationReason,n}static reconstructTerm(e){b(void 0!==e.name),b(void 0!==e.args);const t=e.args.map(e=>ge.reconstructTerm(e));return new I(e.name,t)}}let me;!function(e){e[e.proof=0]="proof",e[e.saturation=1]="saturation",e[e.manualcs=2]="manualcs",e[e.saved=3]="saved"}(me||(me={}));class fe extends s.Component{constructor(...e){super(...e),this.state={state:"waiting",dags:[],nodeSelection:[],currentTime:0,animateDagChanges:!1,changedNodesEvent:void 0,message:"",showPassiveDag:!1,nodeIdToActivate:null,infoToggle:!1,editToggle:!1}}render(){const e=this.state,t=e.state,n=e.dags,i=e.nodeSelection,a=e.currentTime,r=e.animateDagChanges,o=e.changedNodesEvent,l=e.message,c=e.showPassiveDag;let d,h;return"loaded"===t||"loaded select"===t?(b(n.length>0),d=n[n.length-1],h=s.createElement(te,{dag:d,showPassiveDag:c,nodeSelection:i,changedNodesEvent:o,historyLength:n[0].maximalActiveTime(),currentTime:a,animateDagChanges:r,infoToggle:this.state.infoToggle,editToggle:this.state.editToggle,readOnly:this.props.mode===me.saved,onNodeSelectionChange:this.updateNodeSelection.bind(this),onCurrentTimeChange:this.updateCurrentTime.bind(this),onDismissPassiveDag:this.dismissPassiveDag.bind(this),onUpdateNodePositions:this.updateNodePositions.bind(this),onLiteralOrientationChange:this.changeLiteralOrientation.bind(this),onLiteralRepresentationChange:this.changeLiteralRepresentation.bind(this),onToggleInfo:this.toggleInfo.bind(this),onToggleEdit:this.toggleEdit.bind(this)})):(d=null,h=s.createElement("main",null,s.createElement("section",{className:"graph-placeholder"},l),s.createElement("section",{className:"slider-placeholder"}))),s.createElement("div",{className:"app"},h,s.createElement(le,{dag:d,currentTime:a,nodeSelection:i,multipleVersions:n.length>1,infoToggle:this.state.infoToggle,editToggle:this.state.editToggle,readOnly:this.props.mode===me.saved,onUpdateNodeSelection:this.updateNodeSelection.bind(this),onUndo:this.undoLastStep.bind(this),onRenderParentsOnly:this.renderParentsOnly.bind(this),onRenderChildrenOnly:this.renderChildrenOnly.bind(this),onShowPassiveDag:this.showPassiveDag.bind(this),onSelectParents:this.selectParents.bind(this),onSelectChildren:this.selectChildren.bind(this),onSelectCommonConsequences:this.selectCommonConsequences.bind(this),onLiteralOrientationChange:this.changeLiteralOrientation.bind(this),onLiteralRepresentationChange:this.changeLiteralRepresentation.bind(this),onToggleInfo:this.toggleInfo.bind(this),onToggleEdit:this.toggleEdit.bind(this)}))}componentDidMount(){var e=this;return Object(u.a)(h.a.mark((function t(){var n,s,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.props.mode!==me.saved){t.next=5;break}n=ge.deserializeAppState(e.props.loadedProblem||"{}"),s=Object(p.a)(n,4),i=s[3],e.setState({state:"loaded",dags:[i],nodeSelection:[],currentTime:i.maximalActiveTime(),animateDagChanges:!1}),t.next=8;break;case 5:return t.next=7,e.runVampire(e.props.problem,e.props.vampireUserOptions,e.props.mode);case 7:"loaded select"===e.state.state&&e.props.mode===me.manualcs&&e.selectFinalPreprocessingClauses();case 8:case"end":return t.stop()}}),t)})))()}serialize(){return b("loaded"===this.state.state||"loaded select"===this.state.state),b(this.state.dags.length>0),ge.serializeAppState(this.props.problem,this.props.vampireUserOptions,this.state.dags[0])}updateNodeSelection(e){this.props.logging&&console.log("Updating node selection to [".concat(e.toString(),"]")),this.setState({nodeSelection:e})}updateCurrentTime(e){this.props.logging&&console.log("Updating current time to ".concat(e));const t=this.state.dags;b(t.length>0);const n=t[t.length-1].computeNodesInActiveDag(e),s=new Array;var i,a=Object(c.a)(this.state.nodeSelection);try{for(a.s();!(i=a.n()).done;){const e=i.value;n.has(e)&&s.push(e)}}catch(r){a.e(r)}finally{a.f()}this.setState({nodeSelection:s,currentTime:e})}jsonToParsedLines(e){const t=new Array;var n,s=Object(c.a)(e.lines);try{for(s.s();!(n=s.n()).done;){const e=n.value,s=new Map;for(const t in e.statistics){const n=e.statistics[t];"number"===typeof n&&s.set(t,n)}t.push(new V(e.lineType,e.unitId,e.unitString,e.inferenceRule,e.parents,s))}}catch(i){s.e(i)}finally{s.f()}return t}runVampire(e,t,n){var s=this;return Object(u.a)(h.a.mark((function i(){var a,r,o,l,d,p,u,g,m,f,v,y;return h.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return b(n!==me.saved,"Saved mode does not require vampire."),s.setState({state:"waiting",message:"Waiting for Vampire...",dags:[],nodeSelection:[],currentTime:0}),a=n===me.manualcs?"http://localhost:5000/vampire/startmanualcs":"http://localhost:5000/vampire/start",s.props.logging&&console.log("Starting request to url '".concat(a,"' with Vampire-user-options '").concat(t,"'.")),i.next=6,fetch(a,{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({file:e,vampireUserOptions:t})});case 6:return r=i.sent,i.prev=7,i.next=10,r.json();case 10:if(o=i.sent,s.props.logging&&console.log("Received response from Vampire server."),"success"!==o.status){i.next=67;break}if(b("running"===o.vampireState||"refutation"===o.vampireState||"saturation"===o.vampireState||"timeout"===o.vampireState),n!==me.proof){i.next=24;break}if(b("running"!==o.vampireState),"saturation"!==o.vampireState){i.next=19;break}return s.setState({state:"error",message:"Saturation: Vampire saturated, so there exists no proof!",dags:[],nodeSelection:[],currentTime:0}),i.abrupt("return");case 19:if("timeout"!==o.vampireState){i.next=22;break}return s.setState({state:"error",message:"Timeout: Vampire could not find a proof in the given time!",dags:[],nodeSelection:[],currentTime:0}),i.abrupt("return");case 22:i.next=27;break;case 24:if("saturation"!==o.vampireState||0!==o.lines.length){i.next=27;break}return s.setState({state:"error",message:"The example was already identified to be satisfiable during Vampire's preprocessing.",dags:[],nodeSelection:[],currentTime:0}),i.abrupt("return");case 27:if(s.props.logging&&console.log("Constructing Vampire-saturation-events from received JSON."),l=s.jsonToParsedLines(o),s.props.logging&&console.log("Constructing saturation graph from Vampire-saturation-events."),d=H.fromParsedLines(l,null),s.props.logging&&console.log("Merging preprocessing-subgraph of saturation graph."),d=J(d),n!==me.proof){i.next=57;break}b(d.isRefutation),p=Object(c.a)(d.nodes.values()),i.prev=36,p.s();case 38:if((u=p.n()).done){i.next=49;break}if("Clause"!==(g=u.value).unit.type){i.next=47;break}if(0!==(m=g.unit).premiseLiterals.length||0!==m.conclusionLiterals.length){i.next=47;break}return(f=new Set).add(g.id),d=z(d,f),i.abrupt("break",49);case 47:i.next=38;break;case 49:i.next=54;break;case 51:i.prev=51,i.t0=i.catch(36),p.e(i.t0);case 54:return i.prev=54,p.f(),i.finish(54);case 57:return s.props.logging&&console.log("Computing layout for saturation graph."),i.next=60,Q.layoutDag(d,!0);case 60:s.props.orientClauses&&(s.props.logging&&console.log("Computing literal flows for saturation graph."),pe(d),s.props.logging&&console.log("Computing clause representations for saturation graph."),ue(d,null)),s.setLiteralOptions(d),v=n===me.manualcs&&"running"===o.vampireState?"loaded select":"loaded",s.setState({state:v,dags:[d],nodeSelection:[],currentTime:d.maximalActiveTime(),animateDagChanges:!1}),s.props.logging&&console.log("Finished preparation of saturation graph."),i.next=71;break;case 67:b("error"===o.status),b(void 0!==(y=o.message)&&null!==y),s.setState({state:"error",message:y,dags:[],nodeSelection:[],currentTime:0});case 71:i.next=78;break;case 73:if(i.prev=73,i.t1=i.catch(7),"SatVisAssertionError"!==i.t1.name){i.next=77;break}throw i.t1;case 77:s.setState({state:"error",message:"Error: ".concat(i.t1.message),dags:[],nodeSelection:[],currentTime:0});case 78:case"end":return i.stop()}}),i,null,[[7,73],[36,51,54,57]])})))()}selectClause(e,t){var n=this;return Object(u.a)(h.a.mark((function s(){var i,a,r,o,l,d,u,g,m,f,v,y,S,w,x,k,E,N,T;return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return b(n.state.dags.length>=1),i=n.state.dags[n.state.dags.length-1],a=i.computeNodesInActiveDag(i.maximalActiveTime()),b(null!==i.mergeMap),r="http://localhost:5000/vampire/select",n.props.logging&&console.log("Starting request to url '".concat(r,"' with selected-id '").concat(e,"'.")),s.next=8,fetch(r,{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:e})});case 8:return o=s.sent,s.prev=9,s.next=12,o.json();case 12:if(l=s.sent,n.props.logging&&console.log("Received response from Vampire server."),"success"!==l.status){s.next=37;break}n.props.logging&&console.log("Constructing Vampire-saturation-events from received JSON."),d=n.jsonToParsedLines(l),n.props.logging&&console.log("Extending existing saturation graph with Vampire-saturation-events."),u=H.fromParsedLines(d,i),g=u.computeNodesInActiveDag(u.maximalActiveTime()),m=new Map,f=Object(c.a)(u.nodes);try{for(f.s();!(v=f.n()).done;)y=Object(p.a)(v.value,2),S=y[0],w=y[1],!a.has(S)&&g.has(S)&&m.set(S,w)}catch(h){f.e(h)}finally{f.f()}if(!(m.size>0)){s.next=27;break}return n.props.logging&&console.log("Extending layout to new nodes of saturation graph."),s.next=27,Q.layoutNodesAtPosition(m,t);case 27:n.props.orientClauses&&(n.props.logging&&console.log("Updating literal flows for saturation graph."),pe(u),n.props.logging&&console.log("Updating clause representations for saturation graph."),ue(u,null)),n.setLiteralOptions(u),x="running"===l.vampireState?"loaded select":"loaded",k=new Array,E=Object(c.a)(m.keys());try{for(E.s();!(N=E.n()).done;)S=N.value,k.push(S)}catch(h){E.e(h)}finally{E.f()}n.setState({state:x,dags:[u],nodeSelection:k,currentTime:u.maximalActiveTime(),animateDagChanges:!0}),n.props.logging&&console.log("Finished extension of saturation graph."),s.next=41;break;case 37:b("error"===l.status),b(void 0!==(T=l.message)&&null!==T),n.setState({state:"error",message:T,dags:[],nodeSelection:[],currentTime:0});case 41:s.next=48;break;case 43:if(s.prev=43,s.t0=s.catch(9),"SatVisAssertionError"!==s.t0.name){s.next=47;break}throw s.t0;case 47:n.setState({state:"error",message:"Error: ".concat(s.t0.message),dags:[],nodeSelection:[],currentTime:0});case 48:case"end":return s.stop()}}),s,null,[[9,43]])})))()}selectFinalPreprocessingClauses(){var e=this;return Object(u.a)(h.a.mark((function t(){var n,s,i,a,r,o,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.logging&&console.log("Starting to select all clauses from preprocessing."),n=!1;case 2:if("loaded select"!==e.state.state||n){t.next=29;break}s=e.state.dags[0],n=!0,i=Object(c.a)(s.nodes),t.prev=6,i.s();case 8:if((a=i.n()).done){t.next=19;break}if(r=Object(p.a)(a.value,2),o=r[0],!(l=r[1]).isFromPreprocessing||null===l.newTime){t.next=17;break}if(null!==l.activeTime||null!==l.deletionTime){t.next=17;break}return b(null!==l.position),t.next=15,e.selectClause(o,l.position);case 15:return n=!1,t.abrupt("break",19);case 17:t.next=8;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(6),i.e(t.t0);case 24:return t.prev=24,i.f(),t.finish(24);case 27:t.next=2;break;case 29:e.props.logging&&console.log("Finished to select all clauses from preprocessing.");case 30:case"end":return t.stop()}}),t,null,[[6,21,24,27]])})))()}undoLastStep(){this.props.logging&&console.log("Pop last saturation graph from the stack."),this.popDag()}renderParentsOnly(){var e=this;return Object(u.a)(h.a.mark((function t(){var n,s,i,a,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,s=n.dags,i=n.nodeSelection,a=s[s.length-1],e.props.logging&&console.log("Generate saturation graph which consists only of the (transitive) parents of clauses [".concat(i,"].")),r=z(a,new Set(i)),e.props.logging&&console.log("Computing layout for new saturation graph."),t.next=7,Q.layoutDag(r,!0);case 7:e.props.logging&&console.log("Finished preparation of new saturation graph. Pushing it to the stack."),e.pushDag(r);case 9:case"end":return t.stop()}}),t)})))()}renderChildrenOnly(){var e=this;return Object(u.a)(h.a.mark((function t(){var n,s,i,a,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,s=n.dags,i=n.nodeSelection,a=s[s.length-1],e.props.logging&&console.log("Generate saturation graph which consists only of the (transitive) children of clauses [".concat(i,"].")),r=W(a,new Set(i)),e.props.logging&&console.log("Computing layout for new saturation graph."),t.next=7,Q.layoutDag(r,!0);case 7:e.props.logging&&console.log("Finished preparation of new saturation graph. Pushing it to the stack."),e.pushDag(r);case 9:case"end":return t.stop()}}),t)})))()}showPassiveDag(){var e=this;return Object(u.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b(!1===e.state.showPassiveDag),b(e.state.nodeSelection.length>0),e.props.logging&&console.log("Display selection graph containing all clauses which can be selected for activation and whose derivation contains all the clauses [".concat(e.state.nodeSelection,"].")),e.setState({showPassiveDag:!0});case 4:case"end":return t.stop()}}),t)})))()}dismissPassiveDag(e,t){var n=this;return Object(u.a)(h.a.mark((function s(){return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(b(null===e===(null===t)),b(!0===n.state.showPassiveDag),n.setState({showPassiveDag:!1}),null===e){s.next=9;break}return n.props.logging&&console.log("Removing selection graph. Clause ".concat(e," was selected.")),s.next=7,n.selectClause(e,t);case 7:s.next=10;break;case 9:n.props.logging&&console.log("Removing selection graph. No clause was selected.");case 10:case"end":return s.stop()}}),s)})))()}selectParents(){const e=this.state,t=e.dags,n=e.nodeSelection,s=e.currentTime,i=t[t.length-1],a=i.computeNodesInActiveDag(s),r=new Set(n);var o,l=Object(c.a)(n);try{for(l.s();!(o=l.n()).done;){const e=o.value;b(a.has(e));var d,h=Object(c.a)(i.get(e).parents);try{for(h.s();!(d=h.n()).done;){const e=d.value;a.has(e)&&r.add(e)}}catch(p){h.e(p)}finally{h.f()}}}catch(p){l.e(p)}finally{l.f()}this.updateNodeSelection(Array.from(r))}selectChildren(){const e=this.state,t=e.dags,n=e.nodeSelection,s=e.currentTime,i=t[t.length-1],a=i.computeNodesInActiveDag(s),r=new Set(n);var o,l=Object(c.a)(n);try{for(l.s();!(o=l.n()).done;){const e=o.value;b(a.has(e));var d,h=Object(c.a)(i.getChildren(e));try{for(h.s();!(d=h.n()).done;){const e=d.value;a.has(e)&&r.add(e)}}catch(p){h.e(p)}finally{h.f()}}}catch(p){l.e(p)}finally{l.f()}this.updateNodeSelection(Array.from(r))}selectCommonConsequences(){const e=this.state,t=e.dags,n=e.nodeSelection,s=e.currentTime,i=t[t.length-1],a=i.computeNodesInActiveDag(s),r=function(e,t){const n=new Array,s=new Map,i=new F(e);for(;i.hasNext();){const e=i.getNext(),h=e.id,p=new Set;t.has(h)&&p.add(h);var a,r=Object(c.a)(e.parents);try{for(r.s();!(a=r.n()).done;){const e=a.value,t=s.get(e);var o,l=Object(c.a)(t);try{for(l.s();!(o=l.n()).done;){const e=o.value;p.add(e)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){r.e(d)}finally{r.f()}s.set(h,p),t.size===p.size&&n.push(h)}return n}(i,new Set(n)),o=new Array;var l,d=Object(c.a)(r);try{for(d.s();!(l=d.n()).done;){const e=l.value;a.has(e)&&o.push(e)}}catch(h){d.e(h)}finally{d.f()}this.updateNodeSelection(o)}changeLiteralOrientation(e,t,n){const s=this.state.dags;b(s.length>0);const i=s[0],a=i.nodes.get(e);b(void 0!==a),b("Clause"===a.unit.type);a.unit.changeLiteralOrientation(t,n);const r=ue(i,e);this.setState({changedNodesEvent:r})}changeLiteralRepresentation(e,t){const n=this.state.dags;b(n.length>0);const s=n[0];b(void 0!==s.nodes.get(e)),t.switchToNextRepresentation();const i=ue(s,e);this.setState({changedNodesEvent:i})}updateNodePositions(e,t){const n=this.state.dags;b(this.state.dags.length>0);const s=n[n.length-1];var i,a=Object(c.a)(e);try{for(a.s();!(i=a.n()).done;){const e=i.value,n=s.get(e);b(null!==n.position),n.position=[n.position[0]+t[0],n.position[1]+t[1]]}}catch(r){a.e(r)}finally{a.f()}}pushDag(e){b(!e.isPassiveDag);const t=this.state,n=t.dags,s=t.nodeSelection,i=new Array;var a,r=Object(c.a)(s);try{for(r.s();!(a=r.n()).done;){const t=a.value;e.nodes.has(t)&&i.push(t)}}catch(o){r.e(o)}finally{r.f()}this.setState({dags:n.concat([e]),nodeSelection:i,animateDagChanges:!1})}popDag(){b(this.state.dags.length>1,"Undo last step must only be called if there exist at least two dags"),this.setState((e,t)=>({dags:e.dags.slice(0,e.dags.length-1),animateDagChanges:!1}))}setLiteralOptions(e){const t=this.props.hideBracketsAssoc,n=this.props.nonStrictForNegatedStrictInequalities;var s,i=Object(c.a)(e.nodes.values());try{for(i.s();!(s=i.n()).done;){const e=s.value;if("Clause"===e.unit.type){const s=e.unit;var a,r=Object(c.a)(s.premiseLiterals);try{for(r.s();!(a=r.n()).done;){const e=a.value;e.hideBracketsAssoc=t,e.nonStrictForNegatedStrictInequalities=n}}catch(d){r.e(d)}finally{r.f()}var o,l=Object(c.a)(s.conclusionLiterals);try{for(l.s();!(o=l.n()).done;){const e=o.value;e.hideBracketsAssoc=t,e.nonStrictForNegatedStrictInequalities=n}}catch(d){l.e(d)}finally{l.f()}}}}catch(d){i.e(d)}finally{i.f()}}toggleInfo(){this.setState({infoToggle:!this.state.infoToggle})}toggleEdit(){this.setState({editToggle:!this.state.editToggle})}}var ve=fe;n(75);class be extends s.Component{constructor(...e){super(...e),this.app=s.createRef()}render(){return s.createElement("div",{id:"appWrapper"},s.createElement(l,{name:this.props.mode===me.saved?"".concat(this.props.loadedProblemName," (read-only)"):this.props.name,onSave:()=>this.save()}),s.createElement(ve,{ref:this.app,problem:this.props.problem,loadedProblem:this.props.loadedProblem,vampireUserOptions:this.props.vampireUserOptions,mode:this.props.mode,hideBracketsAssoc:this.props.hideBracketsAssoc,nonStrictForNegatedStrictInequalities:this.props.nonStrictForNegatedStrictInequalities,orientClauses:this.props.orientClauses,logging:this.props.logging}))}save(){if(!this.app.current)return;const e=this.app.current.serialize(),t=document.createElement("a"),n=new Blob([e],{type:"text/plain"});t.href=URL.createObjectURL(n),t.download=this.generateFilename(),document.body.appendChild(t),t.click()}generateFilename(){const e=(this.props.name||"").split(".")[0];return"".concat(e||"satvis","-saved.txt")}}n(76);var ye=n(39);const Se=n(12);function we(e){const t=Object(r.e)(),n=s.createRef();return s.createElement("section",{className:"load-component"},s.createElement("button",{className:"load-button",type:"button",onClick:()=>n.current&&n.current.click()},s.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},s.createElement("use",{xlinkHref:"".concat(Se,"#save-upload")})),s.createElement("span",null,"Load saved proof")),s.createElement("input",{ref:n,type:"file",onChange:function(n){if(null!==n.target.files&&n.target.files.length>0){const s=n.target.files[0],i=new FileReader;i.onloadend=()=>{const n=i.result?i.result:"";e.onLoadSavedProblemData(n,s.name),t.push("/saved/")},i.readAsText(s)}}}))}const xe=n(12);class ke extends s.Component{constructor(...e){super(...e),this.isChromeOrFirefox=navigator.userAgent.indexOf("Chrome")>-1||navigator.userAgent.indexOf("Firefox")>-1,this.fileUpload=s.createRef(),this.monacoDiv=s.createRef(),this.monaco=null}componentDidMount(){this.isChromeOrFirefox&&(this.monaco=ye.a.create(this.monacoDiv.current,{lineNumbers:"off",roundedSelection:!1,scrollBeyondLastLine:!1,scrollBeyondLastColumn:0,minimap:{enabled:!1},renderLineHighlight:"none",hideCursorInOverviewRuler:!0,links:!1,overviewRulerBorder:!1,automaticLayout:!0,lineDecorationsWidth:0,lineNumbersMinChars:0,wordWrap:"wordWrapColumn"}),this.monaco.setValue(this.props.problem),this.monaco.getModel().onDidChangeContent(()=>{this.props.onChangeProblem(this.monaco.getModel().getValue())}))}componentDidUpdate(e){b(this.isChromeOrFirefox),this.props.problem!==e.problem&&this.monaco.setValue(this.props.problem)}render(){return this.isChromeOrFirefox?s.createElement("section",{className:"component-menu"},s.createElement("h1",null,"Vampire Saturation Visualization"),s.createElement("section",{className:"editor"},s.createElement("div",{className:"editor-spacer"},s.createElement("main",null,s.createElement("div",{className:"headline-wrapper"},s.createElement("h2",null,"Input"),s.createElement("small",{className:"file-name"},this.props.problemName),s.createElement("button",{title:"Pick a new file",onClick:this.chooseFile.bind(this)},s.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},s.createElement("use",{xlinkHref:"".concat(xe,"#graph-upload")})))),s.createElement("input",{ref:this.fileUpload,type:"file",onChange:this.uploadEncoding.bind(this)}),s.createElement("div",{ref:this.monacoDiv,className:"monaco"})),s.createElement("aside",null,s.createElement("fieldset",{className:"options-card"},s.createElement("h3",null,"Vampire Options"),s.createElement("ul",null,s.createElement("li",null,s.createElement("label",{htmlFor:"inputSyntax",className:"form-label"},"Input language"),s.createElement("select",{id:"inputSyntax",onChange:this.changeInputSyntax.bind(this),value:this.props.inputSyntax},s.createElement("option",{value:"smtlib"},"SMTLIB"),s.createElement("option",{value:"tptp"},"TPTP"))),s.createElement("li",null,s.createElement("label",{htmlFor:"userOptions",className:"form-label"},"Additional Vampire options"),s.createElement("input",{id:"userOptions",type:"text",onChange:this.changeVampireUserOptions.bind(this),value:this.props.vampireUserOptions})))),s.createElement("fieldset",{className:"options-card"},s.createElement("h3",null,"Visualization Options"),s.createElement("ul",null,s.createElement("li",null,s.createElement("label",null,s.createElement("input",{type:"checkbox",checked:this.props.hideBracketsAssoc,onChange:this.changeHideBracketsAssoc.bind(this)}),"Hide brackets for associative operators")),s.createElement("li",null,s.createElement("label",null,s.createElement("input",{type:"checkbox",checked:this.props.nonStrictForNegatedStrictInequalities,onChange:this.changeNonStrictForNegatedStrictInequalities.bind(this)}),"Show negated strict inequalities as (positive) nonstrict inequalities")),s.createElement("li",null,s.createElement("label",null,s.createElement("input",{type:"checkbox",checked:this.props.orientClauses,onChange:this.changeOrientClauses.bind(this)}),"Heuristically orient clauses")),s.createElement("li",null,s.createElement("label",null,s.createElement("input",{type:"checkbox",checked:this.props.logging,onChange:this.changeLogging.bind(this)}),"Logging enabled")))),s.createElement("div",{className:"run-options"},s.createElement(a.b,{to:"/proof/",className:"fake-button"},"Find proof"),s.createElement(a.b,{to:"/saturation/",className:"fake-button"},"Find saturation"),s.createElement(a.b,{to:"/manualcs/",className:"fake-button"},"Start manual clause selection"))))),s.createElement(we,{onLoadSavedProblemData:this.props.onLoadSavedProblemData})):s.createElement("section",{className:"unsupported-message"},s.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},s.createElement("use",{xlinkHref:"".concat(xe,"#alert-triangle")})),s.createElement("span",null,"Your current browser is not supported. Please use Chrome or Firefox!"))}chooseFile(){this.fileUpload.current&&this.fileUpload.current.click()}uploadEncoding(e){if(null!==e.target.files&&e.target.files.length>0){const t=e.target.files[0],n=new FileReader;n.onloadend=()=>{const e=n.result?n.result:"";this.props.onChangeProblem(e),this.props.onChangeProblemName(t.name),t.name.endsWith(".smt")||t.name.endsWith(".smtlib")||t.name.endsWith(".smt2")||t.name.endsWith(".smtlib2")?this.props.onChangeInputSyntax("smtlib"):t.name.endsWith(".tptp")&&this.props.onChangeInputSyntax("tptp")},n.readAsText(t)}}changeVampireUserOptions(e){const t=e.target.value;this.props.onChangeVampireUserOptions(t)}changeTextArea(e){const t=e.target.value;this.props.onChangeProblem(t)}changeHideBracketsAssoc(e){const t=e.target.checked;this.props.onChangeHideBracketsAssoc(t)}changeNonStrictForNegatedStrictInequalities(e){const t=e.target.checked;this.props.onChangeNonStrictForNegatedStrictInequalities(t)}changeInputSyntax(e){const t=e.target.value;this.props.onChangeInputSyntax(t)}changeOrientClauses(e){const t=e.target.checked;this.props.onChangeOrientClauses(t)}changeLogging(e){const t=e.target.checked;this.props.onChangeLogging(t)}}class Ee extends s.Component{constructor(...e){super(...e),this.state={problem:"",problemName:"",inputSyntax:"smtlib",vampireUserOptions:"",hideBracketsAssoc:!0,nonStrictForNegatedStrictInequalities:!0,orientClauses:!0,logging:!1}}render(){return s.createElement(a.a,null,s.createElement(r.a,{path:"/",exact:!0,render:()=>s.createElement(ke,{problem:this.state.problem,problemName:this.state.problemName,inputSyntax:this.state.inputSyntax,vampireUserOptions:this.state.vampireUserOptions,hideBracketsAssoc:this.state.hideBracketsAssoc,nonStrictForNegatedStrictInequalities:this.state.nonStrictForNegatedStrictInequalities,orientClauses:this.state.orientClauses,logging:this.state.logging,onChangeProblem:this.changeProblem.bind(this),onChangeProblemName:this.changeProblemName.bind(this),onChangeInputSyntax:this.changeInputSyntax.bind(this),onChangeVampireUserOptions:this.changeVampireUserOptions.bind(this),onChangeHideBracketsAssoc:this.changeHideBracketsAssoc.bind(this),onChangeNonStrictForNegatedStrictInequalities:this.changeNonStrictForNegatedStrictInequalities.bind(this),onChangeOrientClauses:this.changeOrientClauses.bind(this),onChangeLogging:this.changeLogging.bind(this),onLoadSavedProblemData:this.loadSavedProblem.bind(this)})}),s.createElement(r.a,{path:"/proof/",render:()=>this.appComponent(me.proof)}),s.createElement(r.a,{path:"/saturation/",render:()=>this.appComponent(me.saturation)}),s.createElement(r.a,{path:"/manualcs/",render:()=>this.appComponent(me.manualcs)}),s.createElement(r.a,{path:"/saved/",render:()=>this.appComponent(me.saved)}))}appComponent(e){const t="smtlib"===this.state.inputSyntax?"smtlib2":this.state.inputSyntax,n="".concat(this.state.vampireUserOptions," --input_syntax ").concat(t);return s.createElement(be,{name:this.state.problemName,mode:e,problem:this.state.problem,loadedProblem:this.state.loadedProblem,loadedProblemName:this.state.loadedProblemName,vampireUserOptions:n,hideBracketsAssoc:this.state.hideBracketsAssoc,nonStrictForNegatedStrictInequalities:this.state.nonStrictForNegatedStrictInequalities,orientClauses:this.state.orientClauses,logging:this.state.logging})}changeProblem(e){this.setState({problem:e})}changeProblemName(e){this.setState({problemName:e})}changeVampireUserOptions(e){this.setState({vampireUserOptions:e})}changeHideBracketsAssoc(e){this.setState({hideBracketsAssoc:e})}changeNonStrictForNegatedStrictInequalities(e){this.setState({nonStrictForNegatedStrictInequalities:e})}changeInputSyntax(e){this.setState({inputSyntax:e})}changeOrientClauses(e){this.setState({orientClauses:e})}changeLogging(e){this.setState({logging:e})}loadSavedProblem(e,t){this.setState({loadedProblem:e,loadedProblemName:t})}}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.render(s.createElement(Ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})},32:function(e,t){},33:function(e,t){},40:function(e,t,n){e.exports=n(147)},45:function(e,t,n){},46:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e){e.exports=JSON.parse('{"boundary":{"defaultStyle":{"background":"#77aadd","border":"#4477aa"},"text":"#000000","shape":"box","highlightStyle":{"background":"#ee8866","border":"#ee8866"},"markedStyle":{"background":"#ffaabb","border":"#ee3377"},"hidden":false},"boundary-hidden":{"defaultStyle":{"background":"#77aadd","border":"#4477aa"},"text":"#000000","shape":"box","highlightStyle":{"background":"#ee8866","border":"#ee8866"},"markedStyle":{"background":"#ffaabb","border":"#ee3377"},"hidden":false},"activated":{"defaultStyle":{"background":"#dddddd","border":"#bbbbbb"},"text":"#000000","shape":"box","highlightStyle":{"background":"#ee8866","border":"#ee8866"},"markedStyle":{"background":"#ffaabb","border":"#ee3377"},"hidden":false},"activated-deleted":{"defaultStyle":{"background":"#dddddd","border":"#bbbbbb"},"text":"#000000","shape":"box","highlightStyle":{"background":"#ee8866","border":"#ee8866"},"markedStyle":{"background":"#ffaabb","border":"#ee3377"},"hidden":false},"passive":{"defaultStyle":{"background":"#FF5959","border":"#FF3232"},"text":"#000000","shape":"box","highlightStyle":{"background":"#f8cfc1","border":"#f8cfc1"},"markedStyle":{"background":"#ffdde3","border":"#f8adc8"},"hidden":false},"deleted":{"defaultStyle":{"background":"#f8f8f8","border":"#f1f1f1"},"text":"#999999","shape":"box","highlightStyle":{"background":"#f8cfc1","border":"#f8cfc1"},"markedStyle":{"background":"#ffdde3","border":"#f8adc8"},"hidden":false},"theory-axiom":{"defaultStyle":{"background":"#77aadd","border":"#4477aa"},"text":"#000000","shape":"box","highlightStyle":{"background":"#ee8866","border":"#ee8866"},"markedStyle":{"background":"#ffaabb","border":"#ee3377"},"hidden":false},"theory-axiom-deleted":{"defaultStyle":{"background":"#c8ddf1","border":"#b4c8dd"},"text":"#999999","shape":"box","highlightStyle":{"background":"#f8cfc1","border":"#f8cfc1"},"markedStyle":{"background":"#ffdde3","border":"#f8adc8"},"hidden":false},"conjecture":{"defaultStyle":{"background":"#44bb99","border":"#009988"},"text":"#000000","shape":"box","highlightStyle":{"background":"#ee8866","border":"#ee8866"},"markedStyle":{"background":"#ffaabb","border":"#ee3377"},"hidden":false},"preprocessing":{"defaultStyle":{"background":"#abe0d1","border":"#8cd1c9"},"text":"#000000","shape":"box","highlightStyle":{"background":"#ee8866","border":"#ee8866"},"markedStyle":{"background":"#ffaabb","border":"#ee3377"},"hidden":false},"preprocessing-deleted":{"defaultStyle":{"background":"#abe0d1","border":"#8cd1c9"},"text":"#000000","shape":"box","highlightStyle":{"background":"#ee8866","border":"#ee8866"},"markedStyle":{"background":"#ffaabb","border":"#ee3377"},"hidden":false},"hidden":{"defaultStyle":{"background":"#ffffff00","border":"#ffffff00"},"text":"#ffffff00","shape":"box","highlightStyle":{"background":"#ffffff00","border":"#ffffff00"},"markedStyle":{"background":"#ffffff00","border":"#ffffff00"},"hidden":true}}')},62:function(e,t,n){},69:function(e,t){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){}},[[40,2,3]]]);
//# sourceMappingURL=main.662930ab.chunk.js.map