(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{153:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(27),a=(n(51),n(2)),s=n(3),o=n(7),l=n(5),c=n(6),u=n(19),d=n(16),h=(n(52),n(21)),p=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.createElement("nav",{id:"navigationBar"},r.createElement("button",{onClick:function(){return history.back()}},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},r.createElement("use",{xlinkHref:"".concat(h,"#nav-back")})),r.createElement("span",null,"Back")),r.createElement("small",null,this.props.name),r.createElement("div",{className:"hidden"}))}}]),t}(r.Component),v=n(8),f=n(4),g=n.n(f),m=n(9),y=(n(55),n(21)),b=function(e){function t(){var e,n;Object(a.a)(this,t);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).slider=r.createRef(),n}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.historyLength,i=t.currentTime,a=t.onCurrentTimeChange;return r.createElement("section",{className:"component-slider"},r.createElement("button",{disabled:!this.props.enabled||i<=0,onClick:function(){return a(i-1)}},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},r.createElement("use",{xlinkHref:"".concat(y,"#history-back")}))),r.createElement("section",{className:"wrapper"},r.createElement("input",{ref:this.slider,type:"range",min:0,max:n,value:i,disabled:!this.props.enabled,onChange:function(){return a(e.getSliderValue())}})),r.createElement("button",{disabled:!this.props.enabled||i>=n,onClick:function(){return a(i+1)}},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},r.createElement("use",{xlinkHref:"".concat(y,"#history-forward")}))))}},{key:"getSliderValue",value:function(){return this.slider.current?parseInt(this.slider.current.value,10):0}}]),t}(r.Component),S=n(24),w=(n(56),n(45)),k=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(l.a)(t).call(this,e))).name="SatVisAssertionError",n}return Object(c.a)(t,e),t}(Object(w.a)(Error));function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)throw new k("Assertion failed: "+(t||""))}var N=n(57),E=function(e){function t(){var e,n;Object(a.a)(this,t);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={metaPressed:!1},n.markers=new Set,n.network=null,n.networkNodes=new S.DataSet([]),n.networkEdges=new S.DataSet([]),n.graphContainer=r.createRef(),n.dragStartEvent=null,n.cachedChangeNodesEvent=void 0,n}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.generateNetwork(),this.updateNetwork(!1),this.network.fit(),window.addEventListener("keydown",this.keydownHandler.bind(this),!1),window.addEventListener("keyup",this.keyupHandler.bind(this),!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.keydownHandler.bind(this),!1),window.removeEventListener("keyup",this.keyupHandler.bind(this),!1)}},{key:"componentDidUpdate",value:function(e){if(this.props.dag!==e.dag)this.updateNetwork(!1),this.network.selectNodes(this.props.nodeSelection),this.props.nodeSelection.length>0?this.network.fit({nodes:this.props.nodeSelection.map(function(e){return e.toString()}),animation:!0}):this.network.fit();else{this.props.nodeSelection!==e.nodeSelection&&this.network.selectNodes(this.props.nodeSelection),this.props.currentTime!==e.currentTime&&this.updateNetwork(!0);var t=this.props.changedNodesEvent;if(t!==e.changedNodesEvent&&(x(void 0!==t),t!==this.cachedChangeNodesEvent)){this.cachedChangeNodesEvent=t;var n=new Array,r=!0,i=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var l=s.value,c={id:l,label:this.props.dag.get(l).toHTMLString(this.props.currentTime)};n.push(c)}}catch(u){i=!0,a=u}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}this.networkNodes.update(n)}}}},{key:"render",value:function(){return r.createElement("section",{className:"component-graph",ref:this.graphContainer},r.createElement("canvas",null))}},{key:"generateNetwork",value:function(){var e=this;x(this.graphContainer.current),x(!this.network),this.network=new S.Network(this.graphContainer.current,{nodes:this.networkNodes,edges:this.networkEdges},{physics:!1,interaction:{multiselect:!1}}),this.network.on("click",function(){var t=Object(m.a)(g.a.mark(function t(n){var r;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.nodes.length>0?(x(1===n.nodes.length),r=n.nodes[0],e.state.metaPressed?void 0!==e.props.nodeSelection.find(function(e){return e===r})?e.props.onNodeSelectionChange(e.props.nodeSelection.filter(function(e){return e!==r})):e.props.onNodeSelectionChange(e.props.nodeSelection.concat(n.nodes)):e.props.onNodeSelectionChange(n.nodes)):e.props.onNodeSelectionChange([]);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),this.network.on("dragStart",function(t){x(void 0!==t&&null!==t),x(void 0!==t.nodes&&null!==t.nodes),e.dragStartEvent=t,t.nodes.length>0&&e.props.onNodeSelectionChange(t.nodes)}),this.network.on("dragEnd",function(t){if(x(void 0!==e.dragStartEvent&&null!==e.dragStartEvent),x(void 0!==e.dragStartEvent.nodes&&null!==e.dragStartEvent.nodes),x(void 0!==t&&null!==t),x(void 0!==t.nodes&&null!==t.nodes),t.nodes.length>0&&!e.props.dag.isPassiveDag){var n=t.pointer.canvas.x-e.dragStartEvent.pointer.canvas.x,r=t.pointer.canvas.y-e.dragStartEvent.pointer.canvas.y;e.props.onUpdateNodePositions(t.nodes,[n/-70,r/-120])}})}},{key:"updateNetwork",value:function(e){var t=this.props,n=t.dag,r=t.currentTime,i=new Array,a=new Array,s=0,o=n.isPassiveDag?n.styleMap:this.computeNodePartition(n,r),l=!0,c=!1,u=void 0;try{for(var d,h=n.nodes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value,f=Object(v.a)(p,2),g=f[0],m=f[1],y=o.get(g);if(x(void 0!==y,"invar"),"hidden"===y){var b={id:g,hidden:!0};i.push(b)}else{var S=this.toVisNode(m,y,m.getPosition());i.push(S)}var w=!0,k=!1,N=void 0;try{for(var E,O=m.parents[Symbol.iterator]();!(w=(E=O.next()).done);w=!0){var C=E.value,L=this.toVisEdge(s,C,m.id,"hidden"===y);s+=1,a.push(L)}}catch(j){k=!0,N=j}finally{try{w||null==O.return||O.return()}finally{if(k)throw N}}}}catch(j){c=!0,u=j}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}e?(this.networkNodes.update(i),this.networkEdges.update(a)):(this.networkNodes.clear(),this.networkNodes.add(i),this.networkEdges.clear(),this.networkEdges.add(a))}},{key:"computeNodePartition",value:function(e,t){var n=e.computeNodesInActiveDag(t),r=new Map,i=!0,a=!1,s=void 0;try{for(var o,l=e.nodes[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var c=o.value,u=Object(v.a)(c,2),d=u[0],h=u[1],p=null!==h.deletionTime&&h.deletionTime<=t;if(e.nodeIsTheoryAxiom(d))r.set(d,p?"theory-axiom-deleted":"theory-axiom");else if(h.isFromPreprocessing)"negated conjecture"===h.inferenceRule?r.set(d,"conjecture"):r.set(d,p?"preprocessing-deleted":"preprocessing");else null!==h.activeTime&&h.activeTime<=t?r.set(d,p?"activated-deleted":"activated"):n.has(d)?r.set(d,"deleted"):r.set(d,"hidden")}}catch(f){a=!0,s=f}finally{try{i||null==l.return||l.return()}finally{if(a)throw s}}return r}},{key:"toVisNode",value:function(e,t,n){var r=N[t],i=this.markers.has(e.id);return{id:e.id,label:e.toHTMLString(this.props.currentTime),labelHighlightBold:!1,shape:"box",color:{border:i?r.markedStyle.border:r.defaultStyle.border,background:i?r.markedStyle.background:r.defaultStyle.background,highlight:{border:r.highlightStyle.border,background:r.highlightStyle.background}},font:{color:r.text,multi:!0},hidden:!1,x:Math.round(-70*n[0]),y:Math.round(-120*n[1])}}},{key:"toVisEdge",value:function(e,t,n,r){return{id:e,arrows:"to",color:{color:"#dddddd",highlight:"#f8cfc1"},from:t,to:n,smooth:!1,hidden:r}}},{key:"findNodeAt",value:function(e){return this.network.getNodeAt({x:e.layerX,y:e.layerY})}},{key:"keydownHandler",value:function(e){"Meta"===e.key&&this.setState({metaPressed:!0})}},{key:"keyupHandler",value:function(e){"Meta"===e.key&&this.setState({metaPressed:!1})}},{key:"toggleMarker",value:function(e){x(this.networkNodes),this.markers.has(e)?this.markers.delete(e):this.markers.add(e),this.updateNetwork(!0)}}]),t}(r.Component),O=n(28),C=n.n(O);C.a.setAppElement("#root");var L=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("keyup",function(){var t=Object(m.a)(g.a.mark(function t(n){return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"Alt"===n.key&&null!==e.props.passiveDag&&e.props.onDismissPassiveDag(!0);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),!1)}},{key:"render",value:function(){var e,t=this;return null!==this.props.passiveDag&&(e=r.createElement(C.a,{isOpen:null!==this.props.passiveDag,contentLabel:"Clauses currently in Passive generated by clause with id ".concat(this.props.passiveDag.activeNodeId),onRequestClose:function(){t.props.onDismissPassiveDag(!1)}},r.createElement(E,{dag:this.props.passiveDag,nodeSelection:this.props.nodeSelection,changedNodesEvent:this.props.changedNodesEvent,currentTime:this.props.currentTime,onNodeSelectionChange:this.props.onNodeSelectionChange,onUpdateNodePositions:this.props.onUpdateNodePositions}))),r.createElement("main",null,r.createElement(E,{dag:this.props.dag,nodeSelection:this.props.nodeSelection,changedNodesEvent:this.props.changedNodesEvent,currentTime:this.props.currentTime,onNodeSelectionChange:this.props.onNodeSelectionChange,onUpdateNodePositions:this.props.onUpdateNodePositions}),e,r.createElement(b,{historyLength:this.props.historyLength,currentTime:this.props.currentTime,onCurrentTimeChange:this.props.onCurrentTimeChange,enabled:!this.props.dag.isPassiveDag}))}}]),t}(r.Component),j=(n(68),n(21)),T=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.createElement("section",{className:"component-graph-menu"},r.createElement("button",{title:"Undo last graph transformation",disabled:!this.props.undoEnabled,onClick:this.props.onUndo},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},r.createElement("use",{xlinkHref:"".concat(j,"#graph-undo")}))),r.createElement("button",{title:"Render selection only (up)",disabled:!this.props.filterUpEnabled,onClick:this.props.onRenderParentsOnly},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},r.createElement("use",{xlinkHref:"".concat(j,"#graph-up")}))),r.createElement("button",{title:"Render selection only (down)",disabled:!this.props.filterDownEnabled,onClick:this.props.onRenderChildrenOnly},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},r.createElement("use",{xlinkHref:"".concat(j,"#graph-down")}))),r.createElement("button",{title:"Select clauses",disabled:!this.props.passiveDagButtonEnabled,onClick:function(){"activate"===e.props.passiveDagButtonFunctionality?e.props.onShowPassiveDag():e.props.onDismissPassiveDag(!0)}},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},r.createElement("use",{xlinkHref:"".concat(j,"#graph-s")}))))}}]),t}(r.Component),P=(n(69),n(21)),A=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.createElement("section",{className:"component-node-menu"},r.createElement("button",{title:"Select parents of selected nodes",disabled:!this.props.nodeSelection.length,onClick:this.props.onSelectParents},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},r.createElement("use",{xlinkHref:"".concat(P,"#node-parents")}))),r.createElement("button",{title:"Select children of selected nodes",disabled:!this.props.nodeSelection.length,onClick:this.props.onSelectChildren},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},r.createElement("use",{xlinkHref:"".concat(P,"#node-children")}))),r.createElement("button",{title:"Find common consequences of selected nodes",disabled:this.props.nodeSelection.length<2,onClick:this.props.onSelectCommonConsequences},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},r.createElement("use",{xlinkHref:"".concat(P,"#node-consequences")}))))}}]),t}(r.Component),R=(n(70),function(e){function t(){var e,n;Object(a.a)(this,t);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={foundNodes:[]},n.searchField1=r.createRef(),n.searchField2=r.createRef(),n.searchField3=r.createRef(),n.toListItem=function(e){return r.createElement("li",{key:e.id,onClick:function(){return n.props.onUpdateNodeSelection([e.id])}},e.toString())},n.getDisabledListItem=function(){return r.createElement("li",{className:"disabled-element"},"...")},n}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.dag===e.dag&&this.props.currentTime===e.currentTime||(this.searchField1.current.value="",this.searchField2.current.value="",this.searchField3.current.value="",this.setState({foundNodes:[]}))}},{key:"render",value:function(){var e=this,t=this.state.foundNodes;return r.createElement("section",{className:"component-search"},r.createElement("input",{type:"text",ref:this.searchField1,placeholder:"Search for nodes including literal",onKeyUp:this.search.bind(this),disabled:null===this.props.dag}),r.createElement("input",{type:"text",ref:this.searchField2,placeholder:"Search for nodes excluding literals",onKeyUp:this.search.bind(this),disabled:null===this.props.dag}),r.createElement("input",{type:"text",ref:this.searchField3,placeholder:"Search for nodes using inference rule",onKeyUp:this.search.bind(this),disabled:null===this.props.dag}),r.createElement("ul",{id:"searchResults"},t.slice(0,21).map(function(t){return e.toListItem(t)}),t.length>20&&this.getDisabledListItem()))}},{key:"search",value:function(){x(null!==this.props.dag),x(this.searchField1.current),x(this.searchField2.current),x(this.searchField3.current);var e=this.searchField1.current.value,t=this.searchField2.current.value,n=this.searchField3.current.value;if(""===e&&""===t&&""===n)return this.props.onUpdateNodeSelection([]),void this.setState({foundNodes:[]});var r=Array.from(this.props.dag.nodes.values());if(""!==e){for(var i=new Array,a=0,s=r;a<s.length;a++){var o=s[a];if("Clause"===o.unit.type){var l=o.unit,c=!1,u=!0,d=!1,h=void 0;try{for(var p,v=l.premiseLiterals[Symbol.iterator]();!(u=(p=v.next()).done);u=!0){if(p.value.toString(!0).includes(e)){c=!0;break}}}catch(de){d=!0,h=de}finally{try{u||null==v.return||v.return()}finally{if(d)throw h}}if(!c){var f=!0,g=!1,m=void 0;try{for(var y,b=l.conclusionLiterals[Symbol.iterator]();!(f=(y=b.next()).done);f=!0){if(y.value.toString(!1).includes(e)){c=!0;break}}}catch(de){g=!0,m=de}finally{try{f||null==b.return||b.return()}finally{if(g)throw m}}}if(!c){var S=!0,w=!1,k=void 0;try{for(var N,E=l.contextLiterals[Symbol.iterator]();!(S=(N=E.next()).done);S=!0){if(N.value.toString(!1).includes(e)){c=!0;break}}}catch(de){w=!0,k=de}finally{try{S||null==E.return||E.return()}finally{if(w)throw k}}}c&&i.push(o)}}r=i}if(""!==t){var O=new Array,C=!0,L=!1,j=void 0;try{for(var T,P=r[Symbol.iterator]();!(C=(T=P.next()).done);C=!0){var A=T.value;if("Clause"===A.unit.type){var R=A.unit,I=!1,D=!0,F=!1,M=void 0;try{for(var B,q=R.premiseLiterals[Symbol.iterator]();!(D=(B=q.next()).done);D=!0){if(B.value.toString(!0).includes(t)){I=!0;break}}}catch(de){F=!0,M=de}finally{try{D||null==q.return||q.return()}finally{if(F)throw M}}if(!I){var U=!0,H=!1,V=void 0;try{for(var W,$=R.conclusionLiterals[Symbol.iterator]();!(U=(W=$.next()).done);U=!0){if(W.value.toString(!1).includes(t)){I=!0;break}}}catch(de){H=!0,V=de}finally{try{U||null==$.return||$.return()}finally{if(H)throw V}}}if(!I){var z=!0,J=!1,K=void 0;try{for(var X,_=R.contextLiterals[Symbol.iterator]();!(z=(X=_.next()).done);z=!0){if(X.value.toString(!1).includes(t)){I=!0;break}}}catch(de){J=!0,K=de}finally{try{z||null==_.return||_.return()}finally{if(J)throw K}}}I||O.push(A)}}}catch(de){L=!0,j=de}finally{try{C||null==P.return||P.return()}finally{if(L)throw j}}r=O}if(""!==n){var Y=new Array,G=!0,Z=!1,Q=void 0;try{for(var ee,te=r[Symbol.iterator]();!(G=(ee=te.next()).done);G=!0){var ne=ee.value;ne.inferenceRule===n&&Y.push(ne)}}catch(de){Z=!0,Q=de}finally{try{G||null==te.return||te.return()}finally{if(Z)throw Q}}r=Y}var re=this.props.dag.computeNodesInActiveDag(this.props.currentTime),ie=new Array,ae=!0,se=!1,oe=void 0;try{for(var le,ce=r[Symbol.iterator]();!(ae=(le=ce.next()).done);ae=!0){var ue=le.value;re.has(ue.id)&&ie.push(ue)}}catch(de){se=!0,oe=de}finally{try{ae||null==ce.return||ce.return()}finally{if(se)throw oe}}(r=ie).sort(function(e,t){var n=e.unit,r=t.unit;return n.toString().length-r.toString().length}),this.props.onUpdateNodeSelection(r.map(function(e){return e.id})),this.setState({foundNodes:r})}}]),t}(r.Component)),I=(n(71),function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.createElement("section",{className:"component-node-card"},r.createElement("article",null,r.createElement("h2",null,"Select Nodes"),r.createElement(A,{nodeSelection:this.props.nodeSelection,onSelectParents:this.props.onSelectParents,onSelectChildren:this.props.onSelectChildren,onSelectCommonConsequences:this.props.onSelectCommonConsequences}),r.createElement(R,{dag:this.props.dag,currentTime:this.props.currentTime,onUpdateNodeSelection:this.props.onUpdateNodeSelection})))}}]),t}(r.Component)),D=(n(72),n(40)),F=n.n(D),M=function(e){function t(){var e,n;Object(a.a)(this,t);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).keep=!1,n.toList=function(e,t,i){var a="premise"===i?t.premiseLiterals:"conclusion"===i?t.conclusionLiterals:t.contextLiterals;return r.createElement(F.a,{options:{group:"shared"},tag:"ul",id:"premise"===i?"id1":"conclusion"===i?"id2":"id3",onChange:function(t,r,i){if(n.keep=!n.keep,n.keep){var a="id1"===i.from.id?"premise":"id2"===i.from.id?"conclusion":"context",s="id1"===i.to.id?"premise":"id2"===i.to.id?"conclusion":"context";n.props.onLiteralOrientationChange(e,[a,i.oldIndex],[s,i.newIndex])}}},a.map(function(e,t){return n.toListItem(e,t,i)}))},n.toListItem=function(e,t,i){return r.createElement("li",{key:t,"data-id":t,onDoubleClick:function(t){n.props.onLiteralRepresentationChange(n.props.node.id,e),t.currentTarget.innerText=e.toString("premise"===i)}},e.toString("premise"===i))},n}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=new Array,t=!0,n=!1,i=void 0;try{for(var a,s=this.props.node.statistics[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var o=a.value,l=Object(v.a)(o,2),c=l[0],u=l[1];e.push("".concat(c,": ").concat(u))}}catch(d){n=!0,i=d}finally{try{t||null==s.return||s.return()}finally{if(n)throw i}}return r.createElement("section",{className:"component-node-details details"},r.createElement("article",null,r.createElement("h2",null,"Node ",r.createElement("strong",null,this.props.node.id,", ")),r.createElement("h3",null,this.props.node.inferenceRule),r.createElement("h3",null,this.props.numberOfTransitiveActivatedChildren," ",1===this.props.numberOfTransitiveActivatedChildren?"child":"children"),r.createElement("h3",null,e.join(", ")),"Formula"===this.props.node.unit.type?r.createElement("section",{className:"literal-wrapper"},this.props.node.toString()):r.createElement("section",{className:"literal-wrapper"},this.toList(this.props.node.id,this.props.node.unit,"premise"),r.createElement("br",null),this.toList(this.props.node.id,this.props.node.unit,"conclusion"),r.createElement("br",null),this.toList(this.props.node.id,this.props.node.unit,"context"))))}}]),t}(r.Component),B=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e;if(null===this.props.dag&&(x(0===this.props.nodeSelection.length),x(!this.props.multipleVersions)),1===this.props.nodeSelection.length){var t=this.props.dag.get(this.props.nodeSelection[0]);e=r.createElement(M,{node:t,numberOfTransitiveActivatedChildren:this.props.dag.numberOfTransitiveActivatedChildren(t.id,this.props.currentTime),onLiteralOrientationChange:this.props.onLiteralOrientationChange,onLiteralRepresentationChange:this.props.onLiteralRepresentationChange})}else e=r.createElement("section",{className:"component-node-details overview"},r.createElement("small",{id:"nodeInfo"},r.createElement("strong",null,"".concat(this.props.nodeSelection.length," nodes"))," selected"));var n="activate",i=!1;if(null!==this.props.dag)if("activate"===(n=this.props.dag.isPassiveDag?"show":"activate"))i=this.props.nodeSelection.length>0;else{var a=this.props.dag.styleMap;x(null!==a),i=this.props.currentTime===this.props.dag.maximalActiveTime()&&1===this.props.nodeSelection.length&&"passive"===a.get(this.props.nodeSelection[0])}return r.createElement("aside",null,r.createElement(T,{undoEnabled:null!==this.props.dag&&this.props.multipleVersions,filterUpEnabled:null!==this.props.dag&&this.props.nodeSelection.length>0&&!this.props.dag.isPassiveDag,filterDownEnabled:null!==this.props.dag&&this.props.nodeSelection.length>0&&!this.props.dag.isPassiveDag,passiveDagButtonFunctionality:n,passiveDagButtonEnabled:i,onUndo:this.props.onUndo,onRenderParentsOnly:this.props.onRenderParentsOnly,onRenderChildrenOnly:this.props.onRenderChildrenOnly,onShowPassiveDag:this.props.onShowPassiveDag,onDismissPassiveDag:this.props.onDismissPassiveDag}),r.createElement(I,{dag:this.props.dag,currentTime:this.props.currentTime,nodeSelection:this.props.nodeSelection,onUpdateNodeSelection:this.props.onUpdateNodeSelection,onSelectParents:this.props.onSelectParents,onSelectChildren:this.props.onSelectChildren,onSelectCommonConsequences:this.props.onSelectCommonConsequences}),e)}}]),t}(r.Component),q=n(44),U=function(){function e(t,n,r,i,s,o,l,c,u,d,h){Object(a.a)(this,e),this.id=void 0,this.unit=void 0,this.inferenceRule=void 0,this.parents=void 0,this.statistics=void 0,this.isFromPreprocessing=void 0,this.newTime=void 0,this.activeTime=void 0,this.deletionTime=void 0,this.deletionParents=void 0,this.position=void 0,this.isBoundary=void 0,this.id=t,this.unit=n,this.inferenceRule=r,this.parents=i,this.statistics=s,this.isFromPreprocessing=o,this.newTime=l,this.activeTime=c,this.deletionTime=u,this.deletionParents=d,this.position=null,this.isBoundary=h}return Object(s.a)(e,[{key:"copy",value:function(){return new e(this.id,this.unit,this.inferenceRule,this.parents,this.statistics,this.isFromPreprocessing,this.newTime,this.activeTime,this.deletionTime,this.deletionParents,this.isBoundary)}},{key:"getPosition",value:function(){return x(null!==this.position,"accessing position of node with id ".concat(this.id,", which has not been computed")),this.position}},{key:"toString",value:function(){return this.unit.toString()}},{key:"toHTMLString",value:function(e){var t=null!==this.activeTime&&this.activeTime<=e;return this.unit.toHTMLString(t)}}]),e}(),H=function(){function e(t){Object(a.a)(this,e),this.type=void 0,this.formula=void 0,this.type="Formula",this.formula=t}return Object(s.a)(e,[{key:"toString",value:function(){return this.formula}},{key:"toHTMLString",value:function(e){return this.formula}}]),e}(),V=function(){function e(t){Object(a.a)(this,e),this.type=void 0,this.premiseLiterals=void 0,this.conclusionLiterals=void 0,this.contextLiterals=void 0,this.literalsNewEvent=void 0,this.literalsActiveEvent=void 0,this.type="Clause",this.premiseLiterals=[],this.conclusionLiterals=t,this.contextLiterals=[],this.literalsNewEvent=null,this.literalsActiveEvent=null}return Object(s.a)(e,[{key:"changeLiteralOrientation",value:function(e,t){var n=null;"premise"===e[0]?(x(0<=e[1]),x(e[1]<this.premiseLiterals.length),n=this.premiseLiterals.splice(e[1],1)):"conclusion"===e[0]?(x(0<=e[1]),x(e[1]<this.conclusionLiterals.length),n=this.conclusionLiterals.splice(e[1],1)):(x(0<=e[1]),x(e[1]<this.contextLiterals.length),n=this.contextLiterals.splice(e[1],1)),x(1===n.length);var r=n[0];"premise"===t[0]?(x(0<=t[1]),x(t[1]<=this.premiseLiterals.length),this.premiseLiterals.splice(t[1],0,r)):"conclusion"===t[0]?(x(0<=t[1]),x(t[1]<=this.conclusionLiterals.length),this.conclusionLiterals.splice(t[1],0,r)):(x(0<=t[1]),x(t[1]<=this.contextLiterals.length),this.contextLiterals.splice(t[1],0,r)),r.orientationReason="user"}},{key:"toString",value:function(){return 0===this.premiseLiterals.length&&0===this.conclusionLiterals.length&&0===this.contextLiterals.length?"$false":this.premiseLiterals.concat(this.conclusionLiterals,this.contextLiterals).map(function(e){return e.toString(!1)}).join(" | ")}},{key:"toHTMLString",value:function(e){var t=this.premiseLiterals.map(function(e){return e.isSelected?"<b>"+e.toString(!0)+"</b>":e.toString(!0)}).join(" & "),n=this.conclusionLiterals.map(function(e){return e.isSelected?"<b>"+e.toString(!1)+"</b>":e.toString(!1)}).join(" | "),r=this.contextLiterals.map(function(e){return e.isSelected?"<b>"+e.toString(!1)+"</b>":e.toString(!1)}).join(" | "),i=this.premiseLiterals.map(function(e){return e.toString(!0)}).join(" & "),a=this.conclusionLiterals.map(function(e){return e.toString(!1)}).join(" | "),s=this.contextLiterals.map(function(e){return e.toString(!1)}).join(" | ");0===this.conclusionLiterals.length&&(n="$false",a="$false");var o=Math.ceil(.8*Math.max(i.length,a.length,s.length)),l="\u2013".repeat(o);e||(t=i,n=a,r=s);var c=0===this.premiseLiterals.length?n:t+"\n\u2192\n"+n;return 0===this.contextLiterals.length?c:c+"\n"+l+"\n"+r}}]),e}(),W=function(){function e(t,n,r){Object(a.a)(this,e),this.name=void 0,this.args=void 0,this.negated=void 0,this.isSelected=void 0,this.representation=void 0,this.hideBracketsAssoc=void 0,this.nonStrictForNegatedStrictInequalities=void 0,this.literalInParent=void 0,this.orientationReason=void 0,this.name=t,this.args=n,this.negated=r,this.isSelected=!1,this.representation=0,this.hideBracketsAssoc=!0,this.nonStrictForNegatedStrictInequalities=!0,this.literalInParent=null,this.orientationReason="none"}return Object(s.a)(e,[{key:"setLiteralInParent",value:function(e){this.literalInParent=e}},{key:"switchToNextRepresentation",value:function(){"$less"!==this.name&&"Sub"!==this.name&&"="!==this.name||(0===this.representation?this.representation=1:this.representation=0)}},{key:"toString",value:function(e){var t=this,n=e?!this.negated:this.negated;if("="===this.name){x(2===this.args.length,"equalities must have exactly two arguments");var r=1===this.representation;return this.args[r?1:0].toString(this.hideBracketsAssoc)+(n?" != ":" = ")+this.args[r?0:1].toString(this.hideBracketsAssoc)}if("$less"===this.name||"Sub"===this.name){x(2===this.args.length,"inequalities must have exactly two arguments");var i=1===this.representation,a=this.args[i?1:0].toString(this.hideBracketsAssoc),s=this.args[i?0:1].toString(this.hideBracketsAssoc);return a+(i?n?this.nonStrictForNegatedStrictInequalities?" <= ":" !> ":" > ":n?this.nonStrictForNegatedStrictInequalities?" >= ":" !< ":" < ")+s}return(n?"!":"")+this.name+"("+this.args.map(function(e){return e.toString(t.hideBracketsAssoc)}).join(",")+")"}}]),e}(),$=function(){function e(t,n){Object(a.a)(this,e),this.name=void 0,this.args=void 0,this.isVariable=void 0,this.name=t,this.args=n;var r=t.startsWith("X");this.isVariable=r,r&&x(0===this.args.length)}return Object(s.a)(e,[{key:"toString",value:function(e){var t=this.name;if("$sum"===this.name?t="+":"$uminus"===this.name&&(t="-"),0===this.args.length)return t;if("+"===t){var n=this.args.map(function(t){return t.toString(e)}).join("+");return e?n:"("+n+")"}return t+"("+this.args.map(function(t){return t.toString(e)}).join(",")+")"}}]),e}(),z=function(){function e(){Object(a.a)(this,e)}return Object(s.a)(e,null,[{key:"parsePreprocessingUnit",value:function(t){return t.match(/^[a-zA-Z0-9()=,~!$ |']+$/)?e.parseClause(t):new H(t)}},{key:"parseClause",value:function(t){if("$false"===t)return new V([]);for(var n=t.split(" | "),r=new Array,i=0;i<n.length;i++)r.push(e.parseLiteral(n[i]));return new V(r)}},{key:"parseLiteral",value:function(t){var n=t.search("=");if(-1!==n){if("("===t[0]&&(x(")"===t[t.length-1]),t=t.substring(1,t.length-1),x(n>0),n-=1),"!"===t[n-1]){x(" "===t[n-2],"negated equality not surrounded by spaces in string ".concat(t)),x(" "===t[n+1],"negated equality not surrounded by spaces in string ".concat(t));var r=t.substring(0,n-2),i=t.substring(n+2,t.length),a=e.parseTerm(r),s=e.parseTerm(i);return new W("=",[a,s],!0)}x(" "===t[n-1],"equality not surrounded by spaces in string ".concat(t)),x(" "===t[n+1],"equality not surrounded by spaces in string ".concat(t));var o=t.substring(0,n-1),l=t.substring(n+2,t.length),c=e.parseTerm(o),u=e.parseTerm(l);return new W("=",[c,u],!1)}var d="~"===t[0],h=d?t.substring(1):t,p=e.parseTerm(h);return new W(p.name,p.args,d)}},{key:"parseTerm",value:function(e){for(var t=[],n=0;n<e.length;){var r=e[n];if("("===r||")"===r||","===r)t.push(r),n+=1;else{for(var i=n;i<e.length&&"("!==e[i]&&")"!==e[i]&&","!==e[i];)i+=1;t.push(e.substring(n,i)),n=i}}for(var a=0;a<t.length;a++){var s=t[a];"("!==s&&")"!==s&&","!==s&&(a+1!==t.length&&"("===t[a+1]||(t.splice(a+1,0,"("),t.splice(a+2,0,")")))}for(var o=[[]],l=0;l<t.length;l++){var c=t[l];if("("!==c&&")"!==c&&","!==c)o[o.length-1].push(c);else if("("===c)o.push([]);else if(")"===c){var u=o.pop(),d=o[o.length-1].pop(),h=new $(d,u);o[o.length-1].push(h)}}return x(1===o.length,"invar violated for string: "+e),o[0][0]}}]),e}(),J=function(){function e(t){Object(a.a)(this,e),this.dag=void 0,this.todo=void 0,this.visited=void 0,this.dag=t,this.todo=Array.from(t.leaves),this.visited=new Set}return Object(s.a)(e,[{key:"hasNext",value:function(){for(;this.todo.length>0;){var e=this.todo[length-1];if(!this.visited.has(e))return!0;this.todo.pop()}return!1}},{key:"getNext",value:function(){for(;this.todo.length>0;){var e=this.todo[this.todo.length-1],t=this.dag.get(e);if(this.visited.has(e))this.todo.pop();else{var n=!1,r=!0,i=!1,a=void 0;try{for(var s,o=t.parents[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var l=s.value;this.visited.has(l)||(this.todo.push(l),n=!0)}}catch(c){i=!0,a=c}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}if(!n)return this.visited.add(e),this.todo.pop(),t}}return x(!1,"We have already iterated through all the inferences, so getNext() should not been called"),null}}]),e}(),K=function(){function e(t){Object(a.a)(this,e),this.postOrder=void 0;var n=new J(t);for(this.postOrder=[];n.hasNext();)this.postOrder.push(n.getNext())}return Object(s.a)(e,[{key:"hasNext",value:function(){return this.postOrder.length>0}},{key:"getNext",value:function(){return x(this.hasNext(),"We have already iterated through all the inferences, so getNext() should not have been called"),this.postOrder.pop()}}]),e}();function X(e,t,n){return n?function(e,t){if(e.name!==t.name||e.negated!==t.negated||e.args.length!==t.args.length)return!1;for(var n=!0,r=new Map,i=0;i<e.args.length;i++){var a=e.args[i],s=t.args[i];if(!(n=Y(a,s,r)))break}if(!n&&"="===e.name){x(2===e.args.length);var o=new Map;(n=Y(e.args[0],t.args[1],o))&&(n=Y(e.args[1],t.args[0],o))}return n}(e,t):function(e,t){if(e.name!==t.name||e.negated!==t.negated||e.args.length!==t.args.length)return!1;for(var n=!0,r=0;r<e.args.length;r++){var i=e.args[r],a=t.args[r];if(!_(i,a)){n=!1;break}}n||"="!==e.name||(x(2===e.args.length),n=_(e.args[0],t.args[1])&&_(e.args[1],t.args[0]));return n}(e,t)}function _(e,t){if(e.name!==t.name||e.args.length!==t.args.length)return!1;for(var n=0;n<e.args.length;n++){if(!_(e.args[n],t.args[n]))return!1}return!0}function Y(e,t,n){if(e.name===t.name&&e.args.length===t.args.length){for(var r=0;r<e.args.length;r++){if(!Y(e.args[r],t.args[r],n))return!1}return!0}if(t.isVariable){var i=n.get(t.name);return void 0===i?(n.set(t.name,e),!0):Y(e,i,n)}return!1}var G=function e(t,n,r,i,s,o){Object(a.a)(this,e),this.type=void 0,this.id=void 0,this.unitString=void 0,this.inferenceRule=void 0,this.parents=void 0,this.statistics=void 0,this.type=t,this.id=n,this.unitString=r,this.inferenceRule=i,this.parents=s,this.statistics=o},Z=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(a.a)(this,e),this.nodes=void 0,this.leaves=void 0,this.mergeMap=void 0,this.isPassiveDag=void 0,this.styleMap=void 0,this.activeNodeId=void 0,this.nodes=t,this.mergeMap=n,x(!r||null!==i),x(!r||null!==s),x(!r||t.has(s)),this.isPassiveDag=r,this.styleMap=i,this.activeNodeId=s;var o=!0,l=!1,c=void 0;try{for(var u,d=t[Symbol.iterator]();!(o=(u=d.next()).done);o=!0){var h=u.value,p=Object(v.a)(h,2),f=p[0],g=p[1];x(f===g.id,"key ".concat(f," and id ").concat(g.id," of node ").concat(g," don't match!"))}}catch(Q){l=!0,c=Q}finally{try{o||null==d.return||d.return()}finally{if(l)throw c}}var m=!0,y=!1,b=void 0;try{for(var S,w=t[Symbol.iterator]();!(m=(S=w.next()).done);m=!0){var k=S.value,N=Object(v.a)(k,2),E=N[0],O=N[1],C=!0,L=!1,j=void 0;try{for(var T,P=O.parents[Symbol.iterator]();!(C=(T=P.next()).done);C=!0){var A=T.value;x(t.has(A),"node ".concat(E," has parent ").concat(A," which does not occur as node in the dag!"))}}catch(Q){L=!0,j=Q}finally{try{C||null==P.return||P.return()}finally{if(L)throw j}}}}catch(Q){y=!0,b=Q}finally{try{m||null==w.return||w.return()}finally{if(y)throw b}}var R=new Set,I=new Set,D=!0,F=!1,M=void 0;try{for(var B,q=t.values()[Symbol.iterator]();!(D=(B=q.next()).done);D=!0){var U=B.value,H=!0,V=!1,W=void 0;try{for(var $,z=U.parents[Symbol.iterator]();!(H=($=z.next()).done);H=!0){var J=$.value;I.add(J)}}catch(Q){V=!0,W=Q}finally{try{H||null==z.return||z.return()}finally{if(V)throw W}}}}catch(Q){F=!0,M=Q}finally{try{D||null==q.return||q.return()}finally{if(F)throw M}}var K=!0,X=!1,_=void 0;try{for(var Y,G=t.keys()[Symbol.iterator]();!(K=(Y=G.next()).done);K=!0){var Z=Y.value;I.has(Z)||R.add(Z)}}catch(Q){X=!0,_=Q}finally{try{K||null==G.return||G.return()}finally{if(X)throw _}}this.leaves=R}return Object(s.a)(e,[{key:"get",value:function(e){var t=this.nodes.get(e);return x(void 0!==t,"node doesn't occur in Dag"),t}},{key:"maximalActiveTime",value:function(){var e=0,t=!0,n=!1,r=void 0;try{for(var i,a=this.nodes.values()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;null!==s.activeTime&&s.activeTime>e&&(e=s.activeTime)}}catch(o){n=!0,r=o}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"isEmpty",value:function(){return 0===this.nodes.size}},{key:"getChildren",value:function(e){this.nodes.has(e)||x(!1,"Node with id "+e+" does not occur in Dag");var t=new Array,n=!0,r=!1,i=void 0;try{for(var a,s=this.nodes.values()[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value,l=!0,c=!1,u=void 0;try{for(var d,h=o.parents[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){d.value===e&&t.push(o.id)}}catch(p){c=!0,u=p}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}}}catch(p){r=!0,i=p}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return t}},{key:"numberOfTransitiveActivatedChildren",value:function(e,t){for(var n=0,r=new Set([e]),i=new J(this);i.hasNext();){var a=i.getNext(),s=!1,o=!0,l=!1,c=void 0;try{for(var u,d=a.parents[Symbol.iterator]();!(o=(u=d.next()).done);o=!0){var h=u.value;if(r.has(h)){s=!0;break}}}catch(g){l=!0,c=g}finally{try{o||null==d.return||d.return()}finally{if(l)throw c}}var p=s||r.has(a.id),v=a.isFromPreprocessing||null!==a.newTime&&a.newTime<=t;if(p&&v){r.add(a.id);var f=null!==a.activeTime&&a.activeTime<=t;a.id!==e&&f&&(n+=1)}}return n}},{key:"nodeIsInputNode",value:function(e){var t=this.get(e);return!!t.isFromPreprocessing&&null===t.newTime}},{key:"nodeIsTheoryAxiom",value:function(e){var t=this.get(e);return!!t.isFromPreprocessing&&("theory axiom"===t.inferenceRule||"term algebras injectivity"===t.inferenceRule||"term algebras distinctness"===t.inferenceRule||"term algebras exhaustiveness"===t.inferenceRule||1===t.parents.length&&"term algebras exhaustiveness"===this.get(t.parents[0]).inferenceRule)}},{key:"computeActiveNodes",value:function(e){var t=new Set,n=!0,r=!1,i=void 0;try{for(var a,s=this.nodes[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value,l=Object(v.a)(o,2),c=l[0],u=l[1];null!==u.activeTime&&u.activeTime<=e&&t.add(c)}}catch(d){r=!0,i=d}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return t}},{key:"computeNodesInActiveDag",value:function(e){for(var t=this.computeActiveNodes(e),n=new K(this);n.hasNext();){var r=n.getNext(),i=r.id;if(t.has(i)){var a=!0,s=!1,o=void 0;try{for(var l,c=r.parents[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value;t.add(u)}}catch(m){s=!0,o=m}finally{try{a||null==c.return||c.return()}finally{if(s)throw o}}}}var d=!0,h=!1,p=void 0;try{for(var v,f=this.nodes.values()[Symbol.iterator]();!(d=(v=f.next()).done);d=!0){var g=v.value;g.isFromPreprocessing&&t.add(g.id)}}catch(m){h=!0,p=m}finally{try{d||null==f.return||f.return()}finally{if(h)throw p}}return t}},{key:"isRefutation",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.nodes.values()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;if("Clause"==a.unit.type&&0==a.unit.premiseLiterals.length&&0==a.unit.conclusionLiterals.length)return!0}}catch(s){t=!0,n=s}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}return!1}}],[{key:"fromParsedLines",value:function(t,n){var r=null===n?new Map:new Map(n.nodes),i=null,a=null===n?0:n.maximalActiveTime(),s=null,o=!0,l=!1,c=void 0;try{for(var u,d=t[Symbol.iterator]();!(o=(u=d.next()).done);o=!0){var h=u.value;if(null!==n&&null!==n.mergeMap){x(void 0===n.mergeMap.get(h.id),"found line with id ".concat(h.id," of node deleted during merge of preprocessing nodes!"));var p=new Array,v=!0,f=!1,g=void 0;try{for(var m,y=h.parents[Symbol.iterator]();!(v=(m=y.next()).done);v=!0){var b=m.value,S=n.mergeMap.get(b);void 0!==S?p.push.apply(p,Object(q.a)(S)):p.push(b)}}catch(V){f=!0,g=V}finally{try{v||null==y.return||y.return()}finally{if(f)throw g}}h.parents=p}if("preprocessing"===h.type){x(null===n,"no new preprocessing lines should occur while extending existing dag with new nodes from saturation"),x(!r.has(h.id),"each clause must be generated by preprocessing only once");var w=z.parsePreprocessingUnit(h.unitString);if("negated conjecture"===h.inferenceRule){x(1===h.parents.length);var k=r.get(h.parents[0]);x(void 0!==k),x("input"===k.inferenceRule),x(r.delete(h.parents[0])),h.parents=[]}i=new U(h.id,w,h.inferenceRule,h.parents,h.statistics,!0,null,null,null,[],!1),r.set(i.id,i)}else if("new"===h.type)if(r.has(h.id)){x(null===n,"no new final clauses from preprocessing should occur during the extension of an existing dag"),x((i=r.get(h.id)).isFromPreprocessing,"a newly added clause can only already exist if it was generated during preprocessing"),x(h.inferenceRule===i.inferenceRule,"inference rule differs between line and existing node");var N=z.parseClause(h.unitString);N.literalsNewEvent=N.conclusionLiterals,i.unit=N,i.newTime=a}else{var E=z.parseClause(h.unitString);E.literalsNewEvent=E.conclusionLiterals,i=new U(h.id,E,h.inferenceRule,h.parents,h.statistics,!1,a,null,null,[],!1),r.set(i.id,i),"$false"===h.unitString&&(s=i)}else if("active"===h.type){x(r.has(h.id),"Found clause with id ".concat(h.id,", which was added to active, but wasn't added to new before. Maybe you forgot to output the new clauses?")),i=r.get(h.id),x(h.id===i.id,"id differs between line and existing node"),x(h.inferenceRule===i.inferenceRule,"inference rule differs between line and existing node"),x(h.parents.length===i.parents.length,"number of parents differs between line and existing node");for(var O=0;O<h.parents.length;O++)x(h.parents[O]===i.parents[O],"line and node differ on parent ".concat(O,", which is ").concat(h.parents[O]," resp. ").concat(i.parents[O],"."));x(null!==i.newTime,"for each event [SA] active ... there has to be an earlier event of the form [SA] new ... with the same clause!"),x(null===i.activeTime,"there must only be 1 event of the form [SA] active ... for each clause"),x("Clause"===i.unit.type);var C=i.unit;x(null!==C.literalsNewEvent);var L=z.parseClause(h.unitString);x(0===L.premiseLiterals.length);var j=h.statistics.get("nSel");x(void 0!==j&&null!==j);for(var T=new Array,P=0;P<L.conclusionLiterals.length;P++){var A=L.conclusionLiterals[P],R=!1,I=!0,D=!1,F=void 0;try{for(var M,B=C.literalsNewEvent[Symbol.iterator]();!(I=(M=B.next()).done);I=!0){var H=M.value;if(X(A,H,!1)){T.push(H),R=!0,P<j&&(H.isSelected=!0);break}}}catch(V){D=!0,F=V}finally{try{I||null==B.return||B.return()}finally{if(D)throw F}}x(R)}C.literalsActiveEvent=T,a+=1,i.activeTime=a,i.statistics=h.statistics}else"forward reduce"===h.type||"backward reduce"===h.type?(x(r.has(h.id),"Found clause with id ".concat(h.id,", which was deleted, but wasn't added as new before. Maybe you forgot to output the new clauses?")),(i=r.get(h.id)).deletionTime=a):"replaced by"===h.type||"using"===h.type?(x(null!==i,"invar"),i.deletionParents.push(h.id)):x(!1,"invalid line: ".concat(h.unitString))}}catch(V){l=!0,c=V}finally{try{o||null==d.return||d.return()}finally{if(l)throw c}}return null!==s&&(a+=1,s.activeTime=a,r.set(s.id,s)),new e(r,null===n?null:n.mergeMap)}}]),e}();n(75);function Q(e,t){for(var n=new Set(t),r=new Map,i=new K(e);i.hasNext();){var a=i.getNext(),s=a.id;n.has(s)&&(a.parents.forEach(function(e){return n.add(e)}),r.set(s,a))}var o=new Map,l=!0,c=!1,u=void 0;try{for(var d,h=r[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value,f=Object(v.a)(p,2),g=f[0],m=f[1];o.set(g,m.copy())}}catch(y){c=!0,u=y}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}return new Z(o)}function ee(e,t){for(var n=new Set(t),r=new Map,i=new J(e);i.hasNext();){var a=i.getNext(),s=!1,o=!0,l=!1,c=void 0;try{for(var u,d=a.parents[Symbol.iterator]();!(o=(u=d.next()).done);o=!0){var h=u.value;n.has(h)&&(s=!0)}}catch(A){l=!0,c=A}finally{try{o||null==d.return||d.return()}finally{if(l)throw c}}if(n.has(a.id)||s){if(n.add(a.id),s){var p=!0,f=!1,g=void 0;try{for(var m,y=a.parents[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var b=m.value;if(!n.has(b)){var S=te(e.get(b));x(!e.leaves.has(S.id),"invar violated. Boundary nodes should only occur as parents of nodes"),r.set(S.id,S)}}}catch(A){f=!0,g=A}finally{try{p||null==y.return||y.return()}finally{if(f)throw g}}}else a=te(a);r.set(a.id,a)}}var w=new Map,k=!0,N=!1,E=void 0;try{for(var O,C=r[Symbol.iterator]();!(k=(O=C.next()).done);k=!0){var L=O.value,j=Object(v.a)(L,2),T=j[0],P=j[1];w.set(T,P.copy())}}catch(A){N=!0,E=A}finally{try{k||null==C.return||C.return()}finally{if(N)throw E}}return new Z(w)}function te(e){return new U(e.id,e.unit,e.inferenceRule,[],e.statistics,e.isFromPreprocessing,e.newTime,e.activeTime,e.deletionTime,e.deletionParents,e.isBoundary)}function ne(e){for(var t=new Map(e.nodes),n=new Set,r=new Map,i=new J(e);i.hasNext();){var a=i.getNext().id,s=t.get(a);if(s.isFromPreprocessing){var o=new Array,l=!0,c=!1,u=void 0;try{for(var d,h=s.parents[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value,v=t.get(p);if(x(v.isFromPreprocessing,"invariant violated"),0===v.parents.length)"choice axiom"===v.inferenceRule?n.add(p):o.push(p);else{var f=!0,g=!1,m=void 0;try{for(var y,b=v.parents[Symbol.iterator]();!(f=(y=b.next()).done);f=!0){var S=y.value;x(t.get(S).isFromPreprocessing,"invariant violated"),o.push(S)}}catch(j){g=!0,m=j}finally{try{f||null==b.return||b.return()}finally{if(g)throw m}}n.add(p),r.set(p,v.parents)}}}catch(j){c=!0,u=j}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}var w=new U(s.id,s.unit,s.inferenceRule,o,s.statistics,s.isFromPreprocessing,s.newTime,s.activeTime,s.deletionTime,s.deletionParents,s.isBoundary);t.set(a,w)}}var k=!0,N=!1,E=void 0;try{for(var O,C=n[Symbol.iterator]();!(k=(O=C.next()).done);k=!0){var L=O.value;x(t.delete(L),"invar violated")}}catch(j){N=!0,E=j}finally{try{k||null==C.return||C.return()}finally{if(N)throw E}}return new Z(t,r)}function re(e,t,n){x(t.length>0);for(var r=new Set(t),i=new Set,a=new Map,s=new J(e);s.hasNext();){var o=s.getNext(),l=o.id,c=new Set;if(null!==o.activeTime&&o.activeTime<=n||o.isFromPreprocessing)r.has(l)&&c.add(l);else{var u=!0,d=!1,h=void 0;try{for(var p,v=o.parents[Symbol.iterator]();!(u=(p=v.next()).done);u=!0){var f=p.value,g=a.get(f);x(void 0!==g);var m=!0,y=!1,b=void 0;try{for(var S,w=g[Symbol.iterator]();!(m=(S=w.next()).done);m=!0){var k=S.value;c.add(k)}}catch(z){y=!0,b=z}finally{try{m||null==w.return||w.return()}finally{if(y)throw b}}}}catch(z){d=!0,h=z}finally{try{u||null==v.return||v.return()}finally{if(d)throw h}}null!==o.newTime&&o.newTime<=n&&!(null!==o.activeTime&&o.activeTime<=n)&&!(null!==o.deletionTime&&o.deletionTime<=n)&&c.size===r.size&&i.add(l)}a.set(l,c)}var N=new Map,E=new Map,O=new Set(i),C=!0,L=!1,j=void 0;try{for(var T,P=t[Symbol.iterator]();!(C=(T=P.next()).done);C=!0){var A=T.value;O.add(A)}}catch(z){L=!0,j=z}finally{try{C||null==P.return||P.return()}finally{if(L)throw j}}for(var R=new K(e);R.hasNext();){var I=R.getNext(),D=I.id;if(O.has(D)){var F=null!==I.deletionTime&&I.deletionTime<=n,M=void 0,B=void 0;if(i.has(D)?(x(!F),I.isFromPreprocessing?(M=!0,B="passive"):(M=!1,B="passive")):e.nodeIsTheoryAxiom(D)?(M=!0,B=F?"theory-axiom-deleted":"theory-axiom"):I.isFromPreprocessing?"negated conjecture"===I.inferenceRule?(M=!0,B="conjecture"):(M=!0,B=F?"preprocessing-deleted":"preprocessing"):null!==I.activeTime&&I.activeTime<=n?(M=!0,B=F?"activated-deleted":"activated"):(M=!1,B="deleted"),M)N.set(D,te(I));else{N.set(D,I.copy());var q=!0,U=!1,H=void 0;try{for(var V,W=I.parents[Symbol.iterator]();!(q=(V=W.next()).done);q=!0){var $=V.value;O.add($)}}catch(z){U=!0,H=z}finally{try{q||null==W.return||W.return()}finally{if(U)throw H}}}E.set(D,B)}}return new Z(N,null,!0,E,t[0])}var ie=n(29),ae=n(22);function se(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(m.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ie.a({Module:ae.Module,render:ae.render}),e.abrupt("return",n.renderString(t,{format:"plain"}).then(function(e){return e}).catch(function(e){n=new ie.a({Module:ae.Module,render:ae.render}),console.error(e)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var le=/^(\d+) ([0-9.]+) ([0-9.]+).*$/g,ce=function(){function e(){Object(a.a)(this,e)}return Object(s.a)(e,null,[{key:"layoutNodesAtPosition",value:function(){var t=Object(m.a)(g.a.mark(function t(n,r){var i,a,s,o,l,c,u,d,h,p,f,m,y,b,S,w,k,N,E,O,C,L,j,T,P,A,R,I,D,F;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.layoutNodes(n);case 2:i=null,a=!0,s=!1,o=void 0,t.prev=6,l=n.values()[Symbol.iterator]();case 8:if(a=(c=l.next()).done){t.next=44;break}u=c.value,d=!0,h=!0,p=!1,f=void 0,t.prev=14,m=u.parents[Symbol.iterator]();case 16:if(h=(y=m.next()).done){t.next=24;break}if(b=y.value,!n.has(b)){t.next=21;break}return d=!1,t.abrupt("break",24);case 21:h=!0,t.next=16;break;case 24:t.next=30;break;case 26:t.prev=26,t.t0=t.catch(14),p=!0,f=t.t0;case 30:t.prev=30,t.prev=31,h||null==m.return||m.return();case 33:if(t.prev=33,!p){t.next=36;break}throw f;case 36:return t.finish(33);case 37:return t.finish(30);case 38:if(!d){t.next=41;break}return i=u,t.abrupt("break",44);case 41:a=!0,t.next=8;break;case 44:t.next=50;break;case 46:t.prev=46,t.t1=t.catch(6),s=!0,o=t.t1;case 50:t.prev=50,t.prev=51,a||null==l.return||l.return();case 53:if(t.prev=53,!s){t.next=56;break}throw o;case 56:return t.finish(53);case 57:return t.finish(50);case 58:for(x(null!==i),x(null!==i.position),S=Object(v.a)(r,2),w=S[0],k=S[1],N=i.position,E=Object(v.a)(N,2),O=E[0],C=E[1],L=w-O,j=k-C-1,T=!0,P=!1,A=void 0,t.prev=67,R=n.values()[Symbol.iterator]();!(T=(I=R.next()).done);T=!0)x(null!=(D=I.value).position),F=D.position,D.position=[F[0]+L,F[1]+j];t.next=75;break;case 71:t.prev=71,t.t2=t.catch(67),P=!0,A=t.t2;case 75:t.prev=75,t.prev=76,T||null==R.return||R.return();case 78:if(t.prev=78,!P){t.next=81;break}throw A;case 81:return t.finish(78);case 82:return t.finish(75);case 83:case"end":return t.stop()}},t,null,[[6,46,50,58],[14,26,30,38],[31,,33,37],[51,,53,57],[67,71,75,83],[76,,78,82]])}));return function(e,n){return t.apply(this,arguments)}}()},{key:"layoutDag",value:function(){var t=Object(m.a)(g.a.mark(function t(n,r){var i,a;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.dagToDotString(n,r),t.next=3,se(i);case 3:a=t.sent,e.parseLayoutString(a,n.nodes);case 5:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"layoutNodes",value:function(){var t=Object(m.a)(g.a.mark(function t(n){var r,i;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.nodesToDotString(n),t.next=3,se(r);case 3:i=t.sent,e.parseLayoutString(i,n);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"dagToDotString",value:function(e,t){var n=t?e.computeNodesInActiveDag(Number.MAX_SAFE_INTEGER):null,r=new Array,i=new Array,a=new Array,s=!0,o=!1,l=void 0;try{for(var c,u=e.nodes.values()[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var d=c.value;x(null===d.position,"the dag has already been layouted!"),d.isFromPreprocessing?e.nodeIsInputNode(d.id)?r.push("".concat(d.id,' [label="').concat(d.toString(),'"]')):i.push("".concat(d.id,' [label="').concat(d.toString(),'"]')):t&&!n.has(d.id)||a.push("".concat(d.id,' [label="').concat(d.toString(),'"]'))}}catch(O){o=!0,l=O}finally{try{s||null==u.return||u.return()}finally{if(o)throw l}}var h=new Array,p=!0,v=!1,f=void 0;try{for(var g,m=e.nodes.values()[Symbol.iterator]();!(p=(g=m.next()).done);p=!0){var y=g.value;if(!t||n.has(y.id)){var b=!0,S=!1,w=void 0;try{for(var k,N=y.parents[Symbol.iterator]();!(b=(k=N.next()).done);b=!0){var E=k.value;h.push("".concat(E," -> ").concat(y.id))}}catch(O){S=!0,w=O}finally{try{b||null==N.return||N.return()}finally{if(S)throw w}}}}}catch(O){v=!0,f=O}finally{try{p||null==m.return||m.return()}finally{if(v)throw f}}return"digraph {\n\n"+("   subgraph inputgraph {\n      rank=source;\n      "+r.join(";\n      ")+"\n   }")+"\n\n"+("   subgraph preprocessinggraph {\n      rank=same;\n      "+i.join(";\n      ")+"\n   }")+"\n\n"+("   subgraph othergraph {\n      "+a.join(";\n      ")+"\n   }")+"\n\n   "+h.join(";\n   ")+"\n}"}},{key:"nodesToDotString",value:function(e){var t=new Array,n=!0,r=!1,i=void 0;try{for(var a,s=e.values()[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;x(null===o.position,"the node has already been layouted!"),t.push("".concat(o.id,' [label="').concat(o.toString(),'"]'))}}catch(w){r=!0,i=w}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}var l=new Array,c=!0,u=!1,d=void 0;try{for(var h,p=e.values()[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var v=h.value,f=!0,g=!1,m=void 0;try{for(var y,b=v.parents[Symbol.iterator]();!(f=(y=b.next()).done);f=!0){var S=y.value;e.has(S)&&l.push("".concat(S," -> ").concat(v.id))}}catch(w){g=!0,m=w}finally{try{f||null==b.return||b.return()}finally{if(g)throw m}}}}catch(w){u=!0,d=w}finally{try{c||null==p.return||p.return()}finally{if(u)throw d}}return"digraph {\n   "+t.join(";\n   ")+"\n\n   "+l.join(";\n   ")+"\n}"}},{key:"parseLayoutString",value:function(e,t){var n=e.includes("\nedge")?e.indexOf("\nedge"):e.length,r=e.substr(0,n).split("\nnode ").slice(1).map(function(e){return e.substr(0,e.indexOf('"'))}).map(function(e){return e.matchAll(le).next().value});r.forEach(function(e){x(void 0!==e)});var i=!0,a=!1,s=void 0;try{for(var o,l=r[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var c=o.value,u=Object(v.a)(c,4),d=u[1],h=u[2],p=u[3],f=parseInt(d,10),g=parseFloat(h),m=parseFloat(p);t.get(f).position=[g,m]}}catch(y){a=!0,s=y}finally{try{i||null==l.return||l.return()}finally{if(a)throw s}}}}]),e}();function ue(e,t){x(e.length===t.length);for(var n=0;n<e.length;n++){var r=e[n],i=t[n];r.setLiteralInParent(i)}}function de(e,t,n,r){x(r?e.length<t.length:e.length+1===t.length);for(var i=!1,a=0,s=0;a<e.length;){var o=e[a],l=t[s];X(o,l,n)?(o.setLiteralInParent(l),a+=1,s+=1):(x(!i||r,"case 2 error:\n".concat(e.toString(),"\n").concat(t.toString())),i=!0,s+=1)}}function he(e,t,n){x(e.length===t.length);for(var r=!1,i=1;i<e.length;){var a=e[i],s=t[i-1];if(!X(a,s,n)){e[0].setLiteralInParent(t[i-1]),r=!0;break}a.setLiteralInParent(s),i+=1}for(r||(x(i===e.length),e[0].setLiteralInParent(t[t.length-1]));i<e.length;){var o=e[i],l=t[i];x(X(o,l,n)),o.setLiteralInParent(l),i+=1}}function pe(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e.nodes.values()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;if(!s.isBoundary&&"Clause"===s.unit.type){var o=s.unit;if("evaluation"===s.inferenceRule||"forward subsumption demodulation"===s.inferenceRule||"term algebras injectivity"===s.inferenceRule&&1==s.parents.length||"subsumption resolution"===s.inferenceRule||"equality resolution"===s.inferenceRule||"trivial inequality removal"===s.inferenceRule||"factoring"===s.inferenceRule||"duplicate literal removal"===s.inferenceRule||"term algebras distinctness"===s.inferenceRule&&1==s.parents.length||"forward demodulation"===s.inferenceRule||"backward demodulation"===s.inferenceRule||"equality factoring"===s.inferenceRule){x(s.parents.length>0);var l="backward demodulation"===s.inferenceRule,c=e.get(s.parents[l?1:0]);if("Clause"===c.unit.type){var u=c.unit;x(null!==s.newTime),x(null!==c.newTime);var d=null!==c.activeTime&&c.activeTime<=s.newTime?u.literalsActiveEvent:u.literalsNewEvent,h=o.literalsNewEvent;if(x(null!==d),x(null!==h),"evaluation"===s.inferenceRule&&h.length===d.length||"forward subsumption demodulation"===s.inferenceRule||"term algebras injectivity"===s.inferenceRule)ue(h,d);else if("subsumption resolution"===s.inferenceRule||"equality resolution"===s.inferenceRule||"trivial inequality removal"===s.inferenceRule||"factoring"===s.inferenceRule||"duplicate literal removal"===s.inferenceRule||"term algebras distinctness"===s.inferenceRule||"evaluation"===s.inferenceRule&&h.length+1===d.length){de(h,d,"equality resolution"===s.inferenceRule||"factoring"===s.inferenceRule,"trivial inequality removal"===s.inferenceRule||"duplicate literal removal"===s.inferenceRule)}else if("forward demodulation"===s.inferenceRule||"backward demodulation"===s.inferenceRule||"equality factoring"===s.inferenceRule){he(h,d,"equality factoring"===s.inferenceRule)}}}else if("resolution"===s.inferenceRule||"superposition"===s.inferenceRule){x(2==s.parents.length);var p=e.get(s.parents[0]),v=e.get(s.parents[1]);if("Clause"===p.unit.type&&"Clause"===v.unit.type){var f=p.unit,g=v.unit;x(null!==s.newTime),x(null!==p.newTime),x(null!==v.newTime);var m=null!==p.activeTime&&p.activeTime<=s.newTime,y=null!==v.activeTime&&v.activeTime<=s.newTime,b=m?f.literalsActiveEvent:f.literalsNewEvent,S=y?g.literalsActiveEvent:g.literalsNewEvent,w=o.literalsNewEvent;if(x(null!==b),x(null!==S),x(null!==w),x(b.length>0),x(S.length>0),"resolution"===s.inferenceRule){x(w.length+2===b.length+S.length);var k=b.length-1;de(w.slice(0,k),b,!0,!1),de(w.slice(k,w.length),S,!0,!1)}else if("superposition"===s.inferenceRule){x(w.length+1===b.length+S.length);var N=b.length;he(w.slice(0,N),b,!0),de(w.slice(N,w.length),S,!0,!1)}}}}}}catch(E){n=!0,r=E}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}function ve(e,t){x(null===t||e.nodes.has(t));var n=new Set;null!==t&&n.add(t);for(var r=new J(e);r.hasNext();){var i=r.getNext();if(!i.isBoundary&&"Clause"===i.unit.type){var a=i.unit,s=null===t||i.id===t;if(!s){var o=!0,l=!1,c=void 0;try{for(var u,d=i.parents[Symbol.iterator]();!(o=(u=d.next()).done);o=!0){var h=u.value;if(n.has(h)){s=!0;break}}}catch(F){l=!0,c=F}finally{try{o||null==d.return||d.return()}finally{if(l)throw c}}}if(!s)continue;var p="equality resolution"===i.inferenceRule&&!0===e.get(i.parents[0]).isFromPreprocessing,v="subsumption resolution"===i.inferenceRule||"equality resolution"===i.inferenceRule&&!p||"equality factoring"===i.inferenceRule||"forward demodulation"===i.inferenceRule||"backward demodulation"===i.inferenceRule||"forward subsumption demodulation"===i.inferenceRule||"factoring"===i.inferenceRule||"duplicate literal removal"===i.inferenceRule||"evaluation"===i.inferenceRule||"trivial inequality removal"===i.inferenceRule||"term algebras injectivity"===i.inferenceRule&&1==i.parents.length||"term algebras distinctness"===i.inferenceRule&&1==i.parents.length,f="resolution"===i.inferenceRule||"superposition"===i.inferenceRule,g=new Array,m=new Array,y=new Array,b=!0,S=!1,w=void 0;try{for(var k,N=function(){var t=k.value,n=null,r=t.literalInParent;if("user"!==t.orientationReason&&(v||f)){if(x(null!==r),t.representation=r.representation,v){x(i.parents.length>0);var s="backward demodulation"===i.inferenceRule,o=e.get(i.parents[s?1:0]);if("Clause"===o.unit.type){var l=o.unit;l.premiseLiterals.find(function(e){return e===r})?n="premise":l.conclusionLiterals.find(function(e){return e===r})?n="conclusion":(x(l.contextLiterals.find(function(e){return e===r})),n="context")}}else if(f){x(2==i.parents.length);var c=e.get(i.parents[0]),u=e.get(i.parents[1]);if("Clause"===c.unit.type&&"Clause"===u.unit.type){var d=c.unit,h=u.unit;d.premiseLiterals.find(function(e){return e===r})?n="premise":d.conclusionLiterals.find(function(e){return e===r})?n="conclusion":d.contextLiterals.find(function(e){return e===r})?n="context":h.premiseLiterals.find(function(e){return e===r})?n="premise":h.conclusionLiterals.find(function(e){return e===r})?n="conclusion":(x(h.contextLiterals.find(function(e){return e===r})),n="context")}}t.orientationReason="inherited"}else"none"!==t.orientationReason?a.premiseLiterals.find(function(e){return e===t})?n="premise":a.conclusionLiterals.find(function(e){return e===t})?n="conclusion":(x(a.contextLiterals.find(function(e){return e===t})),n="context"):(n=t.negated&&"="!==t.name?"premise":"conclusion",t.orientationReason="heuristic");"premise"===n?g.push(t):"conclusion"===n?m.push(t):(x("context"===n),y.push(t))},E=a.premiseLiterals.concat(a.conclusionLiterals,a.contextLiterals)[Symbol.iterator]();!(b=(k=E.next()).done);b=!0)N()}catch(F){S=!0,w=F}finally{try{b||null==E.return||E.return()}finally{if(S)throw w}}var O=!1,C=!0,L=!1,j=void 0;try{for(var T,P=a.premiseLiterals.concat(a.conclusionLiterals,a.contextLiterals)[Symbol.iterator]();!(C=(T=P.next()).done);C=!0){if("user"===T.value.orientationReason){O=!0;break}}}catch(F){L=!0,j=F}finally{try{C||null==P.return||P.return()}finally{if(L)throw j}}if(!O&&v){var A="backward demodulation"===i.inferenceRule,R=e.get(i.parents[A?1:0]);"Clause"===R.unit.type&&function(){for(var e=R.unit,t=new Map,n=0;n<e.premiseLiterals.length;n++){var r=e.premiseLiterals[n];t.set(r,n)}for(var i=new Map,a=0;a<e.conclusionLiterals.length;a++){var s=e.conclusionLiterals[a];i.set(s,a)}for(var o=new Map,l=0;l<e.contextLiterals.length;l++){var c=e.contextLiterals[l];o.set(c,l)}g.sort(function(e,n){x(null!==e.literalInParent),x(null!==n.literalInParent);var r=t.get(e.literalInParent),i=t.get(n.literalInParent);return x(void 0!==r),x(void 0!==i),r-i}),m.sort(function(e,t){x(null!==e.literalInParent),x(null!==t.literalInParent);var n=i.get(e.literalInParent),r=i.get(t.literalInParent);return x(void 0!==n),x(void 0!==r),n-r}),y.sort(function(e,t){x(null!==e.literalInParent),x(null!==t.literalInParent);var n=o.get(e.literalInParent),r=o.get(t.literalInParent);return x(void 0!==n),x(void 0!==r),n-r})}()}else if(!O&&f){x(2==i.parents.length);var I=e.get(i.parents[0]),D=e.get(i.parents[1]);"Clause"===I.unit.type&&"Clause"===D.unit.type&&function(){for(var e=I.unit,t=D.unit,n=new Map,r=0;r<e.premiseLiterals.length;r++){var i=e.premiseLiterals[r];n.set(i,r)}for(var a=0;a<t.premiseLiterals.length;a++){var s=t.premiseLiterals[a];n.set(s,a+e.premiseLiterals.length)}for(var o=new Map,l=0;l<e.conclusionLiterals.length;l++){var c=e.conclusionLiterals[l];o.set(c,l)}for(var u=0;u<t.conclusionLiterals.length;u++){var d=t.conclusionLiterals[u];o.set(d,u+e.conclusionLiterals.length)}for(var h=new Map,p=0;p<e.contextLiterals.length;p++){var v=e.contextLiterals[p];h.set(v,p)}for(var f=0;f<t.contextLiterals.length;f++){var b=t.contextLiterals[f];h.set(b,f+e.contextLiterals.length)}g.sort(function(e,t){x(null!==e.literalInParent),x(null!==t.literalInParent);var r=n.get(e.literalInParent),i=n.get(t.literalInParent);return x(void 0!==r),x(void 0!==i),r-i}),m.sort(function(e,t){x(null!==e.literalInParent),x(null!==t.literalInParent);var n=o.get(e.literalInParent),r=o.get(t.literalInParent);return x(void 0!==n),x(void 0!==r),n-r}),y.sort(function(e,t){x(null!==e.literalInParent),x(null!==t.literalInParent);var n=h.get(e.literalInParent),r=h.get(t.literalInParent);return x(void 0!==n),x(void 0!==r),n-r})}()}a.premiseLiterals=g,a.conclusionLiterals=m,a.contextLiterals=y,n.add(i.id)}}return n}var fe=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={state:"waiting",dags:[],nodeSelection:[],currentTime:0,changedNodesEvent:void 0,message:"",passiveDag:null,nodeIdToActivate:null},n}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t,n=this.state,i=n.state,a=n.dags,s=n.nodeSelection,o=n.currentTime,l=n.changedNodesEvent,c=n.message,u=n.passiveDag;return"loaded"===i||"loaded select"===i?(x(a.length>0),e=a[a.length-1],t=r.createElement(L,{dag:e,passiveDag:u,nodeSelection:s,changedNodesEvent:l,historyLength:a[0].maximalActiveTime(),currentTime:o,onNodeSelectionChange:this.updateNodeSelection.bind(this),onCurrentTimeChange:this.updateCurrentTime.bind(this),onDismissPassiveDag:this.dismissPassiveDag.bind(this),onUpdateNodePositions:this.updateNodePositions.bind(this)})):(e=null,t=r.createElement("main",null,r.createElement("section",{className:"graph-placeholder"},c),r.createElement("section",{className:"slider-placeholder"}))),r.createElement("div",{className:"app"},t,r.createElement(B,{dag:null===u?e:u,currentTime:o,nodeSelection:s,multipleVersions:null===u&&a.length>1,onUpdateNodeSelection:this.updateNodeSelection.bind(this),onUndo:this.undoLastStep.bind(this),onRenderParentsOnly:this.renderParentsOnly.bind(this),onRenderChildrenOnly:this.renderChildrenOnly.bind(this),onShowPassiveDag:this.showPassiveDag.bind(this),onDismissPassiveDag:this.dismissPassiveDag.bind(this),onSelectParents:this.selectParents.bind(this),onSelectChildren:this.selectChildren.bind(this),onSelectCommonConsequences:this.selectCommonConsequences.bind(this),onLiteralOrientationChange:this.changeLiteralOrientation.bind(this),onLiteralRepresentationChange:this.changeLiteralRepresentation.bind(this)}))}},{key:"componentDidMount",value:function(){var e=Object(m.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.runVampire(this.props.problem,this.props.vampireUserOptions,this.props.mode);case 2:"loaded select"===this.state.state&&"manualcs"===this.props.mode&&this.selectFinalPreprocessingClauses();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateNodeSelection",value:function(e){this.setState({nodeSelection:e})}},{key:"updateCurrentTime",value:function(e){var t=this.state.dags;x(t.length>0);var n=t[t.length-1].computeNodesInActiveDag(e),r=new Array,i=!0,a=!1,s=void 0;try{for(var o,l=this.state.nodeSelection[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var c=o.value;n.has(c)&&r.push(c)}}catch(u){a=!0,s=u}finally{try{i||null==l.return||l.return()}finally{if(a)throw s}}this.setState({nodeSelection:r,currentTime:e})}},{key:"jsonToParsedLines",value:function(e){var t=new Array,n=!0,r=!1,i=void 0;try{for(var a,s=e.lines[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value,l=new Map;for(var c in o.statistics){var u=o.statistics[c];"number"===typeof u&&l.set(c,u)}t.push(new G(o.lineType,o.unitId,o.unitString,o.inferenceRule,o.parents,l))}}catch(d){r=!0,i=d}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return t}},{key:"runVampire",value:function(){var e=Object(m.a)(g.a.mark(function e(t,n,r){var i,a,s,o,l,c,u,d,h,p,v,f,m,y;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({state:"waiting",message:"Waiting for Vampire...",dags:[],nodeSelection:[],currentTime:0}),e.next=3,fetch("manualcs"===r?"http://localhost:5000/vampire/startmanualcs":"http://localhost:5000/vampire/start",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({file:t,vampireUserOptions:n})});case 3:return i=e.sent,e.next=6,i.json();case 6:if("success"!==(a=e.sent).status){e.next=61;break}if(x("running"===a.vampireState||"refutation"===a.vampireState||"saturation"===a.vampireState||"timeout"===a.vampireState),"proof"!==r){e.next=17;break}if(x("running"!==a.vampireState),"saturation"!==a.vampireState){e.next=14;break}return this.setState({state:"error",message:"Saturation: Vampire saturated, so there exists no proof!",dags:[],nodeSelection:[],currentTime:0}),e.abrupt("return");case 14:if("timeout"!==a.vampireState){e.next=17;break}return this.setState({state:"error",message:"Timeout: Vampire could not find a proof in the given time!",dags:[],nodeSelection:[],currentTime:0}),e.abrupt("return");case 17:if(s=this.jsonToParsedLines(a),o=ne(o=Z.fromParsedLines(s,null)),"proof"!==r){e.next=53;break}x(o.isRefutation),l=!0,c=!1,u=void 0,e.prev=25,d=o.nodes.values()[Symbol.iterator]();case 27:if(l=(h=d.next()).done){e.next=39;break}if("Clause"!==(p=h.value).unit.type){e.next=36;break}if(0!==(v=p.unit).premiseLiterals.length||0!==v.conclusionLiterals.length){e.next=36;break}return(f=new Set).add(p.id),o=Q(o,f),e.abrupt("break",39);case 36:l=!0,e.next=27;break;case 39:e.next=45;break;case 41:e.prev=41,e.t0=e.catch(25),c=!0,u=e.t0;case 45:e.prev=45,e.prev=46,l||null==d.return||d.return();case 48:if(e.prev=48,!c){e.next=51;break}throw u;case 51:return e.finish(48);case 52:return e.finish(45);case 53:return e.next=55,ce.layoutDag(o,!0);case 55:this.props.orientClauses&&(pe(o),ve(o,null)),this.setLiteralOptions(o),m="manualcs"==r&&"running"===a.vampireState?"loaded select":"loaded",this.setState({state:m,dags:[o],nodeSelection:[],currentTime:o.maximalActiveTime()}),e.next=65;break;case 61:x("error"===a.status),x(void 0!==(y=a.message)&&null!==y),this.setState({state:"error",message:y,dags:[],nodeSelection:[],currentTime:0});case 65:case"end":return e.stop()}},e,this,[[25,41,45,53],[46,,48,52]])}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"selectClause",value:function(){var e=Object(m.a)(g.a.mark(function e(t,n){var r,i,a,s,o,l,c,u,d,h,p,f,m,y,b,S,w,k,N,E,O,C,L,j,T,P;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x(this.state.dags.length>=1),r=this.state.dags[this.state.dags.length-1],i=r.computeNodesInActiveDag(r.maximalActiveTime()),x(null!==r.mergeMap),e.next=6,fetch("http://localhost:5000/vampire/select",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:t})});case 6:return a=e.sent,e.prev=7,e.next=10,a.json();case 10:if("success"!==(s=e.sent).status){e.next=64;break}for(o=this.jsonToParsedLines(s),l=Z.fromParsedLines(o,r),c=l.computeNodesInActiveDag(l.maximalActiveTime()),u=new Map,d=!0,h=!1,p=void 0,e.prev=19,f=l.nodes[Symbol.iterator]();!(d=(m=f.next()).done);d=!0)y=m.value,b=Object(v.a)(y,2),S=b[0],w=b[1],!i.has(S)&&c.has(S)&&u.set(S,w);e.next=27;break;case 23:e.prev=23,e.t0=e.catch(19),h=!0,p=e.t0;case 27:e.prev=27,e.prev=28,d||null==f.return||f.return();case 30:if(e.prev=30,!h){e.next=33;break}throw p;case 33:return e.finish(30);case 34:return e.finish(27);case 35:if(!(u.size>0)){e.next=38;break}return e.next=38,ce.layoutNodesAtPosition(u,n);case 38:for(this.props.orientClauses&&(pe(l),ve(l,null)),this.setLiteralOptions(l),k="running"===s.vampireState?"loaded select":"loaded",N=new Array,E=!0,O=!1,C=void 0,e.prev=45,L=u.keys()[Symbol.iterator]();!(E=(j=L.next()).done);E=!0)T=j.value,N.push(T);e.next=53;break;case 49:e.prev=49,e.t1=e.catch(45),O=!0,C=e.t1;case 53:e.prev=53,e.prev=54,E||null==L.return||L.return();case 56:if(e.prev=56,!O){e.next=59;break}throw C;case 59:return e.finish(56);case 60:return e.finish(53);case 61:this.setState({state:k,dags:[l],nodeSelection:N,currentTime:l.maximalActiveTime()}),e.next=68;break;case 64:x("error"===s.status),x(void 0!==(P=s.message)&&null!==P),this.setState({state:"error",message:P,dags:[],nodeSelection:[],currentTime:0});case 68:e.next=75;break;case 70:if(e.prev=70,e.t2=e.catch(7),"SatVisAssertionError"!==e.t2.name){e.next=74;break}throw e.t2;case 74:this.setState({state:"error",message:"Error: ".concat(e.t2.message),dags:[],nodeSelection:[],currentTime:0});case 75:case"end":return e.stop()}},e,this,[[7,70],[19,23,27,35],[28,,30,34],[45,49,53,61],[54,,56,60]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"selectFinalPreprocessingClauses",value:function(){var e=Object(m.a)(g.a.mark(function e(){var t,n,r,i,a,s,o,l,c,u,d;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!1;case 1:if("loaded select"!==this.state.state||t){e.next=40;break}n=this.state.dags[0],t=!0,r=!0,i=!1,a=void 0,e.prev=7,s=n.nodes[Symbol.iterator]();case 9:if(r=(o=s.next()).done){e.next=24;break}if(l=o.value,c=Object(v.a)(l,2),u=c[0],!(d=c[1]).isFromPreprocessing||null===d.newTime){e.next=21;break}if(null!==d.activeTime||null!==d.deletionTime){e.next=21;break}return x(null!==d.position),e.next=19,this.selectClause(u,d.position);case 19:return t=!1,e.abrupt("break",24);case 21:r=!0,e.next=9;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(7),i=!0,a=e.t0;case 30:e.prev=30,e.prev=31,r||null==s.return||s.return();case 33:if(e.prev=33,!i){e.next=36;break}throw a;case 36:return e.finish(33);case 37:return e.finish(30);case 38:e.next=1;break;case 40:case"end":return e.stop()}},e,this,[[7,26,30,38],[31,,33,37]])}));return function(){return e.apply(this,arguments)}}()},{key:"undoLastStep",value:function(){this.popDag()}},{key:"renderParentsOnly",value:function(){var e=Object(m.a)(g.a.mark(function e(){var t,n,r,i,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,n=t.dags,r=t.nodeSelection,i=n[n.length-1],a=Q(i,new Set(r)),e.next=5,ce.layoutDag(a,!0);case 5:this.pushDag(a);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderChildrenOnly",value:function(){var e=Object(m.a)(g.a.mark(function e(){var t,n,r,i,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,n=t.dags,r=t.nodeSelection,i=n[n.length-1],a=ee(i,new Set(r)),e.next=5,ce.layoutDag(a,!0);case 5:this.pushDag(a);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"showPassiveDag",value:function(){var e=Object(m.a)(g.a.mark(function e(){var t,n,r,i,a,s,o,l,c,u,d,h,p,f,m,y,b,S,w,k,N,E;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x(null===this.state.passiveDag),x(this.state.nodeSelection.length>0),x((t=this.state.dags).length>0),n=t[t.length-1],r=re(n,this.state.nodeSelection,this.state.currentTime),e.next=8,ce.layoutDag(r,!1);case 8:for(i=n.get(this.state.nodeSelection[0]).getPosition(),a=Object(v.a)(i,2),s=a[0],o=a[1],l=r.get(this.state.nodeSelection[0]).getPosition(),c=Object(v.a)(l,2),u=c[0],d=c[1],h=s-u,p=o-d,f=!0,m=!1,y=void 0,e.prev=15,b=r.nodes[Symbol.iterator]();!(f=(S=b.next()).done);f=!0)w=S.value,k=Object(v.a)(w,2),k[0],x(null!=(N=k[1]).position),E=N.position,N.position=[E[0]+h,E[1]+p];e.next=23;break;case 19:e.prev=19,e.t0=e.catch(15),m=!0,y=e.t0;case 23:e.prev=23,e.prev=24,f||null==b.return||b.return();case 26:if(e.prev=26,!m){e.next=29;break}throw y;case 29:return e.finish(26);case 30:return e.finish(23);case 31:this.setState({passiveDag:r});case 32:case"end":return e.stop()}},e,this,[[15,19,23,31],[24,,26,30]])}));return function(){return e.apply(this,arguments)}}()},{key:"dismissPassiveDag",value:function(){var e=Object(m.a)(g.a.mark(function e(t){var n,r,i;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(x(this.state.dags.length>=1),x(null!==this.state.passiveDag),x(this.state.passiveDag.isPassiveDag),x(null!==this.state.passiveDag.styleMap),x(null!==this.state.passiveDag.activeNodeId),!t||1!==this.state.nodeSelection.length){e.next=17;break}if(n=this.state.nodeSelection[0],"passive"!==this.state.passiveDag.styleMap.get(n)){e.next=15;break}return r=this.state.dags[this.state.dags.length-1],x(null!==(i=r.get(this.state.passiveDag.activeNodeId).position)),this.setState({passiveDag:null}),e.next=15,this.selectClause(n,i);case 15:e.next=18;break;case 17:this.setState({passiveDag:null,nodeSelection:[]});case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"selectParents",value:function(){var e=this.state,t=e.dags,n=e.nodeSelection,r=e.currentTime,i=t[t.length-1],a=i.computeNodesInActiveDag(r),s=new Set(n),o=!0,l=!1,c=void 0;try{for(var u,d=n[Symbol.iterator]();!(o=(u=d.next()).done);o=!0){var h=u.value;x(a.has(h));var p=!0,v=!1,f=void 0;try{for(var g,m=i.get(h).parents[Symbol.iterator]();!(p=(g=m.next()).done);p=!0){var y=g.value;a.has(y)&&s.add(y)}}catch(b){v=!0,f=b}finally{try{p||null==m.return||m.return()}finally{if(v)throw f}}}}catch(b){l=!0,c=b}finally{try{o||null==d.return||d.return()}finally{if(l)throw c}}this.updateNodeSelection(Array.from(s))}},{key:"selectChildren",value:function(){var e=this.state,t=e.dags,n=e.nodeSelection,r=e.currentTime,i=t[t.length-1],a=i.computeNodesInActiveDag(r),s=new Set(n),o=!0,l=!1,c=void 0;try{for(var u,d=n[Symbol.iterator]();!(o=(u=d.next()).done);o=!0){var h=u.value;x(a.has(h));var p=!0,v=!1,f=void 0;try{for(var g,m=i.getChildren(h)[Symbol.iterator]();!(p=(g=m.next()).done);p=!0){var y=g.value;a.has(y)&&s.add(y)}}catch(b){v=!0,f=b}finally{try{p||null==m.return||m.return()}finally{if(v)throw f}}}}catch(b){l=!0,c=b}finally{try{o||null==d.return||d.return()}finally{if(l)throw c}}this.updateNodeSelection(Array.from(s))}},{key:"selectCommonConsequences",value:function(){var e=this.state,t=e.dags,n=e.nodeSelection,r=e.currentTime,i=t[t.length-1],a=i.computeNodesInActiveDag(r),s=function(e,t){for(var n=new Array,r=new Map,i=new J(e);i.hasNext();){var a=i.getNext(),s=a.id,o=new Set;t.has(s)&&o.add(s);var l=!0,c=!1,u=void 0;try{for(var d,h=a.parents[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value,v=r.get(p),f=!0,g=!1,m=void 0;try{for(var y,b=v[Symbol.iterator]();!(f=(y=b.next()).done);f=!0){var S=y.value;o.add(S)}}catch(w){g=!0,m=w}finally{try{f||null==b.return||b.return()}finally{if(g)throw m}}}}catch(w){c=!0,u=w}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}r.set(s,o),t.size===o.size&&n.push(s)}return n}(i,new Set(n)),o=new Array,l=!0,c=!1,u=void 0;try{for(var d,h=s[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;a.has(p)&&o.push(p)}}catch(v){c=!0,u=v}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}this.updateNodeSelection(o)}},{key:"changeLiteralOrientation",value:function(e,t,n){var r=this.state.dags;x(r.length>0);var i=r[0],a=r[r.length-1],s=i.nodes.get(e);x(void 0!==s),x("Clause"===s.unit.type),s.unit.changeLiteralOrientation(t,n);var o=ve(i,e),l=new Set,c=!0,u=!1,d=void 0;try{for(var h,p=o[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var v=h.value;a.nodes.has(v)&&l.add(v)}}catch(f){u=!0,d=f}finally{try{c||null==p.return||p.return()}finally{if(u)throw d}}this.setState({changedNodesEvent:l})}},{key:"changeLiteralRepresentation",value:function(e,t){var n=this.state.dags;x(n.length>0);var r=n[0];x(void 0!==r.nodes.get(e)),t.switchToNextRepresentation();var i=ve(r,e);this.setState({changedNodesEvent:i})}},{key:"updateNodePositions",value:function(e,t){var n=this.state.dags;x(this.state.dags.length>0);var r=n[n.length-1],i=!0,a=!1,s=void 0;try{for(var o,l=e[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var c=o.value,u=r.get(c);x(null!==u.position),u.position=[u.position[0]+t[0],u.position[1]+t[1]]}}catch(d){a=!0,s=d}finally{try{i||null==l.return||l.return()}finally{if(a)throw s}}}},{key:"pushDag",value:function(e){x(!e.isPassiveDag);var t=this.state,n=t.dags,r=t.nodeSelection,i=new Array,a=!0,s=!1,o=void 0;try{for(var l,c=r[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value;e.nodes.has(u)&&i.push(u)}}catch(d){s=!0,o=d}finally{try{a||null==c.return||c.return()}finally{if(s)throw o}}this.setState({dags:n.concat([e]),nodeSelection:i})}},{key:"popDag",value:function(){x(this.state.dags.length>1,"Undo last step must only be called if there exist at least two dags"),this.setState(function(e,t){return{dags:e.dags.slice(0,e.dags.length-1)}})}},{key:"setLiteralOptions",value:function(e){var t=this.props.hideBracketsAssoc,n=this.props.nonStrictForNegatedStrictInequalities,r=!0,i=!1,a=void 0;try{for(var s,o=e.nodes.values()[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var l=s.value;if("Clause"===l.unit.type){var c=l.unit,u=!0,d=!1,h=void 0;try{for(var p,v=c.premiseLiterals[Symbol.iterator]();!(u=(p=v.next()).done);u=!0){var f=p.value;f.hideBracketsAssoc=t,f.nonStrictForNegatedStrictInequalities=n}}catch(k){d=!0,h=k}finally{try{u||null==v.return||v.return()}finally{if(d)throw h}}var g=!0,m=!1,y=void 0;try{for(var b,S=c.conclusionLiterals[Symbol.iterator]();!(g=(b=S.next()).done);g=!0){var w=b.value;w.hideBracketsAssoc=t,w.nonStrictForNegatedStrictInequalities=n}}catch(k){m=!0,y=k}finally{try{g||null==S.return||S.return()}finally{if(m)throw y}}}}}catch(k){i=!0,a=k}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}}}]),t}(r.Component),ge=(n(81),function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.createElement("div",{id:"appWrapper"},r.createElement(p,{name:this.props.name}),r.createElement(fe,{problem:this.props.problem,vampireUserOptions:this.props.vampireUserOptions,mode:this.props.mode,hideBracketsAssoc:this.props.hideBracketsAssoc,nonStrictForNegatedStrictInequalities:this.props.nonStrictForNegatedStrictInequalities,orientClauses:this.props.orientClauses}))}}]),t}(r.Component)),me=(n(82),n(43)),ye=n(21),be=function(e){function t(){var e,n;Object(a.a)(this,t);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).isChromeOrFirefox=navigator.userAgent.indexOf("Chrome")>-1||navigator.userAgent.indexOf("Firefox")>-1,n.fileUpload=r.createRef(),n.monacoDiv=r.createRef(),n.monaco=null,n}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.isChromeOrFirefox&&(this.monaco=me.a.create(this.monacoDiv.current,{lineNumbers:"off",roundedSelection:!1,scrollBeyondLastLine:!1,scrollBeyondLastColumn:0,minimap:{enabled:!1},renderLineHighlight:"none",hideCursorInOverviewRuler:!0,links:!1,overviewRulerBorder:!1,automaticLayout:!0,lineDecorationsWidth:0,lineNumbersMinChars:0,wordWrap:"wordWrapColumn"}),this.monaco.setValue(this.props.problem),this.monaco.getModel().onDidChangeContent(function(){e.props.onChangeProblem(e.monaco.getModel().getValue())}))}},{key:"componentDidUpdate",value:function(e){x(this.isChromeOrFirefox),this.props.problem!==e.problem&&this.monaco.setValue(this.props.problem)}},{key:"render",value:function(){return this.isChromeOrFirefox?r.createElement("section",{className:"component-menu"},r.createElement("h1",null,"Vampire Saturation Visualization"),r.createElement("section",{className:"editor"},r.createElement("div",{className:"editor-spacer"},r.createElement("main",null,r.createElement("div",{className:"headline-wrapper"},r.createElement("h2",null,"Input"),r.createElement("small",{className:"file-name"},this.props.problemName),r.createElement("button",{title:"Pick a new file",onClick:this.chooseFile.bind(this)},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},r.createElement("use",{xlinkHref:"".concat(ye,"#graph-upload")})))),r.createElement("input",{ref:this.fileUpload,type:"file",onChange:this.uploadEncoding.bind(this)}),r.createElement("div",{ref:this.monacoDiv,className:"monaco"})),r.createElement("aside",null,r.createElement("fieldset",{className:"options-card"},r.createElement("h3",null,"Vampire Options"),r.createElement("ul",null,r.createElement("li",null,r.createElement("label",{htmlFor:"inputSyntax",className:"form-label"},"Input language"),r.createElement("select",{id:"inputSyntax",onChange:this.changeInputSyntax.bind(this),value:this.props.inputSyntax},r.createElement("option",{value:"smtlib"},"SMTLIB"),r.createElement("option",{value:"tptp"},"TPTP"))),r.createElement("li",null,r.createElement("label",{htmlFor:"userOptions",className:"form-label"},"Additional Vampire options"),r.createElement("input",{id:"userOptions",type:"text",onChange:this.changeVampireUserOptions.bind(this),value:this.props.vampireUserOptions})))),r.createElement("fieldset",{className:"options-card"},r.createElement("h3",null,"Visualization Options"),r.createElement("ul",null,r.createElement("li",null,r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.props.hideBracketsAssoc,onChange:this.changeHideBracketsAssoc.bind(this)}),"Hide brackets for associative operators")),r.createElement("li",null,r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.props.nonStrictForNegatedStrictInequalities,onChange:this.changeNonStrictForNegatedStrictInequalities.bind(this)}),"Show negated strict inequalities as (positive) nonstrict inequalities")),r.createElement("li",null,r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.props.orientClauses,onChange:this.changeOrientClauses.bind(this)}),"Heuristically orient clauses"))))))),r.createElement("section",{className:"run-menu"},r.createElement(u.b,{to:"/proof/",className:"fake-button"},"Find proof"),r.createElement(u.b,{to:"/saturation/",className:"fake-button"},"Find saturation"),r.createElement(u.b,{to:"/manualcs/",className:"fake-button"},"Start manual clause selection"))):r.createElement("section",{className:"unsupported-message"}," Your current browser is not supported. Please use Chrome or Firefox!")}},{key:"chooseFile",value:function(){this.fileUpload.current&&this.fileUpload.current.click()}},{key:"uploadEncoding",value:function(e){var t=this;if(null!==e.target.files&&e.target.files.length>0){var n=e.target.files[0],r=new FileReader;r.onloadend=function(){var e=r.result?r.result:"";t.props.onChangeProblem(e),t.props.onChangeProblemName(n.name),n.name.endsWith(".smt")||n.name.endsWith(".smtlib")||n.name.endsWith(".smt2")||n.name.endsWith(".smtlib2")?t.props.onChangeInputSyntax("smtlib"):n.name.endsWith(".tptp")&&t.props.onChangeInputSyntax("tptp")},r.readAsText(n)}}},{key:"changeVampireUserOptions",value:function(e){var t=e.target.value;this.props.onChangeVampireUserOptions(t)}},{key:"changeTextArea",value:function(e){var t=e.target.value;this.props.onChangeProblem(t)}},{key:"changeHideBracketsAssoc",value:function(e){var t=e.target.checked;this.props.onChangeHideBracketsAssoc(t)}},{key:"changeNonStrictForNegatedStrictInequalities",value:function(e){var t=e.target.checked;this.props.onChangeNonStrictForNegatedStrictInequalities(t)}},{key:"changeInputSyntax",value:function(e){var t=e.target.value;this.props.onChangeInputSyntax(t)}},{key:"changeOrientClauses",value:function(e){var t=e.target.checked;this.props.onChangeOrientClauses(t)}}]),t}(r.Component),Se=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={problem:"",problemName:"",inputSyntax:"smtlib",vampireUserOptions:"",hideBracketsAssoc:!0,nonStrictForNegatedStrictInequalities:!0,orientClauses:!0},n}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.createElement(u.a,null,r.createElement(d.a,{path:"/",exact:!0,render:function(){return r.createElement(be,{problem:e.state.problem,problemName:e.state.problemName,inputSyntax:e.state.inputSyntax,vampireUserOptions:e.state.vampireUserOptions,hideBracketsAssoc:e.state.hideBracketsAssoc,nonStrictForNegatedStrictInequalities:e.state.nonStrictForNegatedStrictInequalities,orientClauses:e.state.orientClauses,onChangeProblem:e.changeProblem.bind(e),onChangeProblemName:e.changeProblemName.bind(e),onChangeInputSyntax:e.changeInputSyntax.bind(e),onChangeVampireUserOptions:e.changeVampireUserOptions.bind(e),onChangeHideBracketsAssoc:e.changeHideBracketsAssoc.bind(e),onChangeNonStrictForNegatedStrictInequalities:e.changeNonStrictForNegatedStrictInequalities.bind(e),onChangeOrientClauses:e.changeOrientClauses.bind(e)})}}),r.createElement(d.a,{path:"/proof/",render:function(){return e.appComponent("proof")}}),r.createElement(d.a,{path:"/saturation/",render:function(){return e.appComponent("saturation")}}),r.createElement(d.a,{path:"/manualcs/",render:function(){return e.appComponent("manualcs")}}))}},{key:"appComponent",value:function(e){var t="smtlib"===this.state.inputSyntax?"smtlib2":this.state.inputSyntax,n="".concat(this.state.vampireUserOptions," --input_syntax ").concat(t);return r.createElement(ge,{name:this.state.problemName,mode:e,problem:this.state.problem,vampireUserOptions:n,hideBracketsAssoc:this.state.hideBracketsAssoc,nonStrictForNegatedStrictInequalities:this.state.nonStrictForNegatedStrictInequalities,orientClauses:this.state.orientClauses})}},{key:"changeProblem",value:function(e){this.setState({problem:e})}},{key:"changeProblemName",value:function(e){this.setState({problemName:e})}},{key:"changeVampireUserOptions",value:function(e){this.setState({vampireUserOptions:e})}},{key:"changeHideBracketsAssoc",value:function(e){this.setState({hideBracketsAssoc:e})}},{key:"changeNonStrictForNegatedStrictInequalities",value:function(e){this.setState({nonStrictForNegatedStrictInequalities:e})}},{key:"changeInputSyntax",value:function(e){this.setState({inputSyntax:e})}},{key:"changeOrientClauses",value:function(e){this.setState({orientClauses:e})}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.render(r.createElement(Se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},21:function(e,t,n){e.exports=n.p+"static/media/all.b38f8a06.svg"},35:function(e,t){},36:function(e,t){},46:function(e,t,n){e.exports=n(153)},51:function(e,t,n){},52:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e){e.exports={boundary:{defaultStyle:{background:"#77aadd",border:"#4477aa"},text:"#000000",shape:"box",highlightStyle:{background:"#ee8866",border:"#ee8866"},markedStyle:{background:"#ffaabb",border:"#ee3377"},hidden:!1},"boundary-hidden":{defaultStyle:{background:"#77aadd",border:"#4477aa"},text:"#000000",shape:"box",highlightStyle:{background:"#ee8866",border:"#ee8866"},markedStyle:{background:"#ffaabb",border:"#ee3377"},hidden:!1},activated:{defaultStyle:{background:"#dddddd",border:"#bbbbbb"},text:"#000000",shape:"box",highlightStyle:{background:"#ee8866",border:"#ee8866"},markedStyle:{background:"#ffaabb",border:"#ee3377"},hidden:!1},"activated-deleted":{defaultStyle:{background:"#dddddd",border:"#bbbbbb"},text:"#000000",shape:"box",highlightStyle:{background:"#ee8866",border:"#ee8866"},markedStyle:{background:"#ffaabb",border:"#ee3377"},hidden:!1},passive:{defaultStyle:{background:"#FF5959",border:"#FF3232"},text:"#000000",shape:"box",highlightStyle:{background:"#f8cfc1",border:"#f8cfc1"},markedStyle:{background:"#ffdde3",border:"#f8adc8"},hidden:!1},deleted:{defaultStyle:{background:"#f8f8f8",border:"#f1f1f1"},text:"#999999",shape:"box",highlightStyle:{background:"#f8cfc1",border:"#f8cfc1"},markedStyle:{background:"#ffdde3",border:"#f8adc8"},hidden:!1},"theory-axiom":{defaultStyle:{background:"#77aadd",border:"#4477aa"},text:"#000000",shape:"box",highlightStyle:{background:"#ee8866",border:"#ee8866"},markedStyle:{background:"#ffaabb",border:"#ee3377"},hidden:!1},"theory-axiom-deleted":{defaultStyle:{background:"#c8ddf1",border:"#b4c8dd"},text:"#999999",shape:"box",highlightStyle:{background:"#f8cfc1",border:"#f8cfc1"},markedStyle:{background:"#ffdde3",border:"#f8adc8"},hidden:!1},conjecture:{defaultStyle:{background:"#44bb99",border:"#009988"},text:"#000000",shape:"box",highlightStyle:{background:"#ee8866",border:"#ee8866"},markedStyle:{background:"#ffaabb",border:"#ee3377"},hidden:!1},preprocessing:{defaultStyle:{background:"#abe0d1",border:"#8cd1c9"},text:"#000000",shape:"box",highlightStyle:{background:"#ee8866",border:"#ee8866"},markedStyle:{background:"#ffaabb",border:"#ee3377"},hidden:!1},"preprocessing-deleted":{defaultStyle:{background:"#abe0d1",border:"#8cd1c9"},text:"#000000",shape:"box",highlightStyle:{background:"#ee8866",border:"#ee8866"},markedStyle:{background:"#ffaabb",border:"#ee3377"},hidden:!1},hidden:{defaultStyle:{background:"#ffffff00",border:"#ffffff00"},text:"#ffffff00",shape:"box",highlightStyle:{background:"#ffffff00",border:"#ffffff00"},markedStyle:{background:"#ffffff00",border:"#ffffff00"},hidden:!0}}},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},75:function(e,t,n){},80:function(e,t){},81:function(e,t,n){},82:function(e,t,n){}},[[46,2,3]]]);
//# sourceMappingURL=main.b063c202.chunk.js.map